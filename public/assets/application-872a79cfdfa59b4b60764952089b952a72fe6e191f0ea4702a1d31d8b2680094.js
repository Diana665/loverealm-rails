function shortenLargeNumber(t,e){for(var n,i=["k","M","G","T","P","E","Z","Y"],o=i.length-1;o>=0;o--)if(t<=-(n=Math.pow(1e3,o+1))||t>=n)return+(t/n).toFixed(e)+i[o];return t}if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"!==n&&!ft.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(ft.isFunction(e))return ft.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ft.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Ct.test(e))return ft.filter(e,t,n);e=ft.filter(e,t)}return ft.grep(t,function(t){return ft.inArray(t,e)>-1!==n})}function o(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function r(t){var e={};return ft.each(t.match(Dt)||[],function(t,n){e[n]=!0}),e}function s(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(it.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(it.addEventListener||"load"===t.event.type||"complete"===it.readyState)&&(s(),ft.ready())}function l(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(Mt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Pt.test(n)?ft.parseJSON(n):n)}catch(o){}ft.data(t,e,n)}else n=undefined}return n}function c(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,n,i){if(Rt(t)){var o,r,s=ft.expando,a=t.nodeType,l=a?ft.cache:t,c=a?t[s]:t[s]&&s;if(c&&l[c]&&(i||l[c].data)||n!==undefined||"string"!=typeof e)return c||(c=a?t[s]=nt.pop()||ft.guid++:s),l[c]||(l[c]=a?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[c]=ft.extend(l[c],e):l[c].data=ft.extend(l[c].data,e)),r=l[c],i||(r.data||(r.data={}),r=r.data),n!==undefined&&(r[ft.camelCase(e)]=n),"string"==typeof e?null==(o=r[e])&&(o=r[ft.camelCase(e)]):o=r,o}}function d(t,e,n){if(Rt(t)){var i,o,r=t.nodeType,s=r?ft.cache:t,a=r?t[ft.expando]:ft.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){o=(e=ft.isArray(e)?e.concat(ft.map(e,ft.camelCase)):e in i?[e]:(e=ft.camelCase(e))in i?[e]:e.split(" ")).length;for(;o--;)delete i[e[o]];if(n?!c(i):!ft.isEmptyObject(i))return}(n||(delete s[a].data,c(s[a])))&&(r?ft.cleanData([t],!0):dt.deleteExpando||s!=s.window?delete s[a]:s[a]=undefined)}}}function h(t,e,n,i){var o,r=1,s=20,a=i?function(){return i.cur()}:function(){return ft.css(t,e,"")},l=a(),c=n&&n[3]||(ft.cssNumber[e]?"":"px"),u=(ft.cssNumber[e]||"px"!==c&&+l)&&$t.exec(ft.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=r=r||".5",ft.style(t,e,u+c)}while(r!==(r=a()/l)&&1!==r&&--s)}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function f(t){var e=qt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){var n,i,o=0,r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!r)for(r=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||ft.nodeName(i,e)?r.push(i):ft.merge(r,p(i,e));return e===undefined||e&&ft.nodeName(t,e)?ft.merge([t],r):r}function m(t,e){for(var n,i=0;null!=(n=t[i]);i++)ft._data(n,"globalEval",!e||ft._data(e[i],"globalEval"))}function g(t){zt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,n,i,o){for(var r,s,a,l,c,u,d,h=t.length,v=f(e),y=[],b=0;b<h;b++)if((s=t[b])||0===s)if("object"===ft.type(s))ft.merge(y,s.nodeType?[s]:s);else if(Zt.test(s)){for(l=l||v.appendChild(e.createElement("div")),c=(Wt.exec(s)||["",""])[1].toLowerCase(),d=Vt[c]||Vt._default,l.innerHTML=d[1]+ft.htmlPrefilter(s)+d[2],r=d[0];r--;)l=l.lastChild;if(!dt.leadingWhitespace&&Gt.test(s)&&y.push(e.createTextNode(Gt.exec(s)[0])),!dt.tbody)for(r=(s="table"!==c||Xt.test(s)?"<table>"!==d[1]||Xt.test(s)?0:l:l.firstChild)&&s.childNodes.length;r--;)ft.nodeName(u=s.childNodes[r],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(ft.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(e.createTextNode(s));for(l&&v.removeChild(l),dt.appendChecked||ft.grep(p(y,"input"),g),b=0;s=y[b++];)if(i&&ft.inArray(s,i)>-1)o&&o.push(s);else if(a=ft.contains(s.ownerDocument,s),l=p(v.appendChild(s),"script"),a&&m(l),n)for(r=0;s=l[r++];)Yt.test(s.type||"")&&n.push(s);return l=null,v}function y(){return!0}function b(){return!1}function _(){try{return it.activeElement}catch(t){}}function w(t,e,n,i,o,r){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=undefined),e)w(t,a,n,i,e[a],r);return t}if(null==i&&null==o?(o=n,i=n=undefined):null==o&&("string"==typeof n?(o=i,i=undefined):(o=i,i=n,n=undefined)),!1===o)o=b;else if(!o)return t;return 1===r&&(s=o,(o=function(t){return ft().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,o,i,n)})}function k(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function C(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function S(t){var e=ae.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){if(1===e.nodeType&&ft.hasData(t)){var n,i,o,r=ft._data(t),s=ft._data(e,r),a=r.events;if(a)for(n in delete s.handle,s.events={},a)for(i=0,o=a[n].length;i<o;i++)ft.event.add(e,n,a[n][i]);s.data&&(s.data=ft.extend({},s.data))}}function E(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[ft.expando]){for(i in(o=ft._data(e)).events)ft.removeEvent(e,i,o.handle);e.removeAttribute(ft.expando)}"script"===n&&e.text!==t.text?(C(e).text=t.text,S(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&zt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function T(t,e,n,i){e=rt.apply([],e);var o,r,s,a,l,c,u=0,d=t.length,h=d-1,f=e[0],m=ft.isFunction(f);if(m||d>1&&"string"==typeof f&&!dt.checkClone&&se.test(f))return t.each(function(o){var r=t.eq(o);m&&(e[0]=f.call(this,o,r.html())),T(r,e,n,i)});if(d&&(o=(c=v(e,t[0].ownerDocument,!1,t,i)).firstChild,1===c.childNodes.length&&(c=o),o||i)){for(s=(a=ft.map(p(c,"script"),C)).length;u<d;u++)r=c,u!==h&&(r=ft.clone(r,!0,!0),s&&ft.merge(a,p(r,"script"))),n.call(t[u],r,u);if(s)for(l=a[a.length-1].ownerDocument,ft.map(a,S),u=0;u<s;u++)r=a[u],Yt.test(r.type||"")&&!ft._data(r,"globalEval")&&ft.contains(l,r)&&(r.src?ft._evalUrl&&ft._evalUrl(r.src):ft.globalEval((r.text||r.textContent||r.innerHTML||"").replace(le,"")));c=o=null}return t}function A(t,e,n){for(var i,o=e?ft.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||ft.cleanData(p(i)),i.parentNode&&(n&&ft.contains(i.ownerDocument,i)&&m(p(i,"script")),i.parentNode.removeChild(i));return t}function I(t,e){var n=ft(e.createElement(t)).appendTo(e.body),i=ft.css(n[0],"display");return n.detach(),i}function D(t){var e=it,n=de[t];return n||("none"!==(n=I(t,e))&&n||((e=((ue=(ue||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ue[0].contentDocument).document).write(),e.close(),n=I(t,e),ue.detach()),de[t]=n),n}function L(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function R(t){if(t in Ee)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=xe.length;n--;)if((t=xe[n]+e)in Ee)return t}function P(t,e){for(var n,i,o,r=[],s=0,a=t.length;s<a;s++)(i=t[s]).style&&(r[s]=ft._data(i,"olddisplay"),n=i.style.display,e?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ut(i)&&(r[s]=ft._data(i,"olddisplay",D(i.nodeName)))):(o=Ut(i),(n&&"none"!==n||!o)&&ft._data(i,"olddisplay",o?n:ft.css(i,"display"))));for(s=0;s<a;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[s]||"":"none"));return t}function M(t,e,n){var i=ke.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function N(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,s=0;r<4;r+=2)"margin"===n&&(s+=ft.css(t,n+Bt[r],!0,o)),i?("content"===n&&(s-=ft.css(t,"padding"+Bt[r],!0,o)),"margin"!==n&&(s-=ft.css(t,"border"+Bt[r]+"Width",!0,o))):(s+=ft.css(t,"padding"+Bt[r],!0,o),"padding"!==n&&(s+=ft.css(t,"border"+Bt[r]+"Width",!0,o)));return s}function O(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=ge(t),s=dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=ve(t,e,r))<0||null==o)&&(o=t.style[e]),fe.test(o))return o;i=s&&(dt.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+N(t,e,n||(s?"border":"content"),i,r)+"px"}function j(t,e,n,i,o){return new j.prototype.init(t,e,n,i,o)}function F(){return t.setTimeout(function(){Te=undefined}),Te=ft.now()}function $(t,e){var n,i={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)i["margin"+(n=Bt[o])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function B(t,e,n){for(var i,o=(z.tweeners[e]||[]).concat(z.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,e,t))return i}function U(t,e,n){var i,o,r,s,a,l,c,u=this,d={},h=t.style,f=t.nodeType&&Ut(t),p=ft._data(t,"fxshow");for(i in n.queue||(null==(a=ft._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,ft.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=ft.css(t,"display"))?ft._data(t,"olddisplay")||D(t.nodeName):c)&&"none"===ft.css(t,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==D(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",dt.shrinkWrapBlocks()||u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),e)if(o=e[i],Me.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||p[i]===undefined)continue;f=!0}d[i]=p&&p[i]||ft.style(t,i)}else c=undefined;if(ft.isEmptyObject(d))"inline"===("none"===c?D(t.nodeName):c)&&(h.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=ft._data(t,"fxshow",{}),r&&(p.hidden=!f),f?ft(t).show():u.done(function(){ft(t).hide()}),u.done(function(){var e;for(e in ft._removeData(t,"fxshow"),d)ft.style(t,e,d[e])}),d)s=B(f?p[i]:0,i,u),i in p||(p[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}function H(t,e){var n,i,o,r,s;for(n in t)if(o=e[i=ft.camelCase(n)],r=t[n],ft.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(s=ft.cssHooks[i])&&"expand"in s)for(n in r=s.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}function z(t,e,n){var i,o,r=0,s=z.prefilters.length,a=ft.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Te||F(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),r=0,s=c.tweens.length;r<s;r++)c.tweens[r].run(i);return a.notifyWith(t,[c,i,n]),i<1&&s?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},n),originalProperties:e,originalOptions:n,startTime:Te||F(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ft.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(H(u,c.opts.specialEasing);r<s;r++)if(i=z.prefilters[r].call(c,t,u,c.opts))return ft.isFunction(i.stop)&&(ft._queueHooks(c.elem,c.opts.queue).stop=ft.proxy(i.stop,i)),i;return ft.map(u,B,c),ft.isFunction(c.opts.start)&&c.opts.start.call(t,c),ft.fx.timer(ft.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function W(t){return ft.attr(t,"class")||""}function Y(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(Dt)||[];if(ft.isFunction(n))for(;i=r[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function G(t,e,n,i){function o(a){var l;return r[a]=!0,ft.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var r={},s=t===sn;return o(e.dataTypes[0])||!r["*"]&&o("*")}function q(t,e){var n,i,o=ft.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&ft.extend(!0,t,n),t}function V(t,e,n){for(var i,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),o===undefined&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(s in a)if(a[s]&&a[s].test(o)){l.unshift(s);break}if(l[0]in n)r=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){r=s;break}i||(i=s)}r=r||i}if(r)return r!==l[0]&&l.unshift(r),n[r]}function Z(t,e,n,i){var o,r,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(o in c)if((a=o.split(" "))[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[o]:!0!==c[o]&&(r=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function X(t){return t.style&&t.style.display||ft.css(t,"display")}function J(t){if(!ft.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===X(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function K(t,e,n,i){var o;if(ft.isArray(e))ft.each(e,function(e,o){n||dn.test(t)?i(t,o):K(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)});else if(n||"object"!==ft.type(e))i(t,e);else for(o in e)K(t+"["+o+"]",e[o],n,i)}function Q(){try{return new t.XMLHttpRequest}catch(e){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=t.document,ot=nt.slice,rt=nt.concat,st=nt.push,at=nt.indexOf,lt={},ct=lt.toString,ut=lt.hasOwnProperty,dt={},ht="1.12.4",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ht,constructor:ft,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:nt.sort,splice:nt.splice},ft.extend=ft.fn.extend=function(){var t,e,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ft.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(o=arguments[a]))for(i in o)t=s[i],s!==(n=o[i])&&(c&&n&&(ft.isPlainObject(n)||(e=ft.isArray(n)))?(e?(e=!1,r=t&&ft.isArray(t)?t:[]):r=t&&ft.isPlainObject(t)?t:{},s[i]=ft.extend(c,r,n)):n!==undefined&&(s[i]=n));return s},ft.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!ut.call(t,"constructor")&&!ut.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!dt.ownFirst)for(e in t)return ut.call(t,e);for(e in t);return e===undefined||ut.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(e){e&&ft.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,o=0;if(n(t))for(i=t.length;o<i&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ft.merge(i,"string"==typeof t?[t]:t):st.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(at)return at.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;)t[o++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,s=!n;o<r;o++)!e(t[o],o)!==s&&i.push(t[o]);return i},map:function(t,e,i){var o,r,s=0,a=[];if(n(t))for(o=t.length;s<o;s++)null!=(r=e(t[s],s,i))&&a.push(r);else for(s in t)null!=(r=e(t[s],s,i))&&a.push(r);return rt.apply([],a)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),ft.isFunction(t)?(n=ot.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(ot.call(arguments)))}).guid=t.guid=t.guid||ft.guid++,i):undefined},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=nt[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var yt=function(t){function e(t,e,n,i){var o,r,s,a,l,c,d,f,p=e&&e.ownerDocument,m=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return n;if(!i&&((e?e.ownerDocument||e:B)!==R&&L(e),e=e||R,M)){if(11!==m&&(c=vt.exec(t)))if(o=c[1]){if(9===m){if(!(s=e.getElementById(o)))return n;if(s.id===o)return n.push(s),n}else if(p&&(s=p.getElementById(o))&&F(e,s)&&s.id===o)return n.push(s),n}else{if(c[2])return K.apply(n,e.getElementsByTagName(t)),n;if((o=c[3])&&w.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(o)),n}if(w.qsa&&!Y[t+" "]&&(!N||!N.test(t))){if(1!==m)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=$),r=(d=x(t)).length,l=ht.test(a)?"#"+a:"[id='"+a+"']";r--;)d[r]=l+" "+h(d[r]);f=d.join(","),p=yt.test(t)&&u(e.parentNode)||e}if(f)try{return K.apply(n,p.querySelectorAll(f)),n}catch(g){}finally{a===$&&e.removeAttribute("id")}}}return T(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>k.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[$]=!0,t}function o(t){var e=R.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=n.length;i--;)k.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||q)-(~t.sourceIndex||q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=H++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,s){var a,l,c,u=[U,r];if(s){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if((a=(l=(c=e[$]||(e[$]={}))[e.uniqueID]||(c[e.uniqueID]={}))[i])&&a[0]===U&&a[1]===r)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var o=0,r=n.length;o<r;o++)e(t,n[o],i);return i}function g(t,e,n,i,o){for(var r,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(r=t[a])&&(n&&!n(r,i,o)||(s.push(r),c&&e.push(a)));return s}function v(t,e,n,o,r,s){return o&&!o[$]&&(o=v(o)),r&&!r[$]&&(r=v(r,s)),i(function(i,s,a,l){var c,u,d,h=[],f=[],p=s.length,v=i||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:g(v,h,t,a,l),b=n?r||(i?t:p||o)?[]:s:y;if(n&&n(y,b,a,l),o)for(c=g(b,f),o(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[f[u]]=!(y[f[u]]=d));if(i){if(r||t){if(r){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);r(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=r?tt(i,d):h[u])>-1&&(i[c]=!(s[c]=d))}}else b=g(b===s?b.splice(p,b.length):b),r?r(null,s,b,l):K.apply(s,b)})}function y(t){for(var e,n,i,o=t.length,r=k.relative[t[0].type],s=r||k.relative[" "],a=r?1:0,l=f(function(t){return t===e},s,!0),c=f(function(t){return tt(e,t)>-1},s,!0),u=[function(t,n,i){var o=!r&&(i||n!==A)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,o}];a<o;a++)if(n=k.relative[t[a].type])u=[f(p(u),n)];else{if((n=k.filter[t[a].type].apply(null,t[a].matches))[$]){for(i=++a;i<o&&!k.relative[t[i].type];i++);return v(a>1&&p(u),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<i&&y(t.slice(a,i)),i<o&&y(t=t.slice(i)),i<o&&h(t))}u.push(n)}return p(u)}function b(t,n){var o=n.length>0,r=t.length>0,s=function(i,s,a,l,c){var u,d,h,f=0,p="0",m=i&&[],v=[],y=A,b=i||r&&k.find.TAG("*",c),_=U+=null==y?1:Math.random()||.1,w=b.length;for(c&&(A=s===R||s||c);p!==w&&null!=(u=b[p]);p++){if(r&&u){for(d=0,s||u.ownerDocument===R||(L(u),a=!M);h=t[d++];)if(h(u,s||R,a)){l.push(u);break}c&&(U=_)}o&&((u=!h&&u)&&f--,i&&m.push(u))}if(f+=p,o&&p!==f){for(d=0;h=n[d++];)h(m,v,s,a);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=X.call(l));v=g(v)}K.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return c&&(U=_,A=y),m};return o?i(s):s}var _,w,k,C,S,x,E,T,A,I,D,L,R,P,M,N,O,j,F,$="sizzle"+1*new Date,B=t.document,U=0,H=0,z=n(),W=n(),Y=n(),G=function(t,e){return t===e&&(D=!0),0},q=1<<31,V={}.hasOwnProperty,Z=[],X=Z.pop,J=Z.push,K=Z.push,Q=Z.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",rt=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(rt),ht=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},kt=function(){L()};try{K.apply(Z=Q.call(B.childNodes),B.childNodes),Z[B.childNodes.length].nodeType}catch(Ct){K={apply:Z.length?function(t,e){J.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(_ in w=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},L=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:B;return i!==R&&9===i.nodeType&&i.documentElement?(P=(R=i).documentElement,M=!S(R),(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),w.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=o(function(t){return t.appendChild(R.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=gt.test(R.getElementsByClassName),w.getById=o(function(t){return P.appendChild(t).id=$,!R.getElementsByName||!R.getElementsByName($).length}),w.getById?(k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&M){var n=e.getElementById(t);return n?[n]:[]}},k.filter.ID=function(t){var e=t.replace(_t,wt);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var e=t.replace(_t,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),k.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},k.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&M)return e.getElementsByClassName(t)},O=[],N=[],(w.qsa=gt.test(R.querySelectorAll))&&(o(function(t){P.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+$+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||N.push(".#.+[+~]")}),o(function(t){var e=R.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(w.matchesSelector=gt.test(j=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(t){w.disconnectedMatch=j.call(t,"div"),j.call(t,"[s!='']:x"),O.push("!=",rt)}),N=N.length&&new RegExp(N.join("|")),O=O.length&&new RegExp(O.join("|")),e=gt.test(P.compareDocumentPosition),F=e||gt.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===R||t.ownerDocument===B&&F(B,t)?-1:e===R||e.ownerDocument===B&&F(B,e)?1:I?tt(I,t)-tt(I,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,a=[t],l=[e];if(!o||!r)return t===R?-1:e===R?1:o?-1:r?1:I?tt(I,t)-tt(I,e):0;if(o===r)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===B?-1:l[i]===B?1:0},R):R},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==R&&L(t),n=n.replace(ut,"='$1']"),w.matchesSelector&&M&&!Y[n+" "]&&(!O||!O.test(n))&&(!N||!N.test(n)))try{var i=j.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(Ct){}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==R&&L(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==R&&L(t);var n=k.attrHandle[e.toLowerCase()],i=n&&V.call(k.attrHandle,e.toLowerCase())?n(t,e,!M):undefined;return i!==undefined?i:w.attributes||!M?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(D=!w.detectDuplicates,I=!w.sortStable&&t.slice(0),t.sort(G),D){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return I=null,t},C=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},(k=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=x(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,h,f,p,m=r!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(r){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(b=(f=(c=(u=(d=(h=g)[$]||(h[$]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===U&&c[1])&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){u[t]=[U,f,b];break}}else if(y&&(b=f=(c=(u=(d=(h=e)[$]||(h[$]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===U&&c[1]),!1===b)for(;(h=++f&&h&&h[m]||(b=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((u=(d=h[$]||(h[$]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]=[U,b]),h!==e)););return(b-=o)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,n){var o,r=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t)
;return r[$]?r(n):r.length>1?(o=[t,t,"",n],k.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),s=o.length;s--;)t[i=tt(t,o[s])]=!(e[i]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=E(t.replace(at,"$1"));return o[$]?i(function(t,e,n,i){for(var r,s=o(t,null,i,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(_t,wt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,wt).toLowerCase(),function(e){var n;do{if(n=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})k.pseudos[_]=l(_);return d.prototype=k.filters=k.pseudos,k.setFilters=new d,x=e.tokenize=function(t,n){var i,o,r,s,a,l,c,u=W[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=k.preFilter;a;){for(s in i&&!(o=lt.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=ct.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(at," ")}),a=a.slice(i.length)),k.filter)!(o=ft[s].exec(a))||c[s]&&!(o=c[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):W(t,l).slice(0)},E=e.compile=function(t,e){var n,i=[],o=[],r=Y[t+" "];if(!r){for(e||(e=x(t)),n=e.length;n--;)(r=y(e[n]))[$]?i.push(r):o.push(r);(r=Y(t,b(o,i))).selector=t}return r},T=e.select=function(t,e,n,i){var o,r,s,a,l,c="function"==typeof t&&t,d=!i&&x(t=c.selector||t);if(n=n||[],1===d.length){if((r=d[0]=d[0].slice(0)).length>2&&"ID"===(s=r[0]).type&&w.getById&&9===e.nodeType&&M&&k.relative[r[1].type]){if(!(e=(k.find.ID(s.matches[0].replace(_t,wt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(s=r[o],!k.relative[a=s.type]);)if((l=k.find[a])&&(i=l(s.matches[0].replace(_t,wt),yt.test(r[0].type)&&u(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&h(r)))return K.apply(n,i),n;break}}return(c||E(t,d))(i,e,!M,n,!e||yt.test(t)&&u(e.parentNode)||e),n},w.sortStable=$.split("").sort(G).join("")===$,w.detectDuplicates=!!D,L(),w.sortDetached=o(function(t){return 1&t.compareDocumentPosition(R.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ft.find=yt,ft.expr=yt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=yt.uniqueSort,ft.text=yt.getText,ft.isXMLDoc=yt.isXML,ft.contains=yt.contains;var bt=function(t,e,n){for(var i=[],o=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&ft(t).is(n))break;i.push(t)}return i},_t=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},wt=ft.expr.match.needsContext,kt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ct=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ft.find.matchesSelector(i,t)?[i]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;e<o;e++)if(ft.contains(i[e],this))return!0}));for(e=0;e<o;e++)ft.find(t,i[e],n);return(n=this.pushStack(o>1?ft.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&wt.test(t)?ft(t):t||[],!1).length}});var St,xt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ft.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||St,"string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:xt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),kt.test(i[1])&&ft.isPlainObject(e))for(i in e)ft.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((o=it.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return St.find(t);this.length=1,this[0]=o}return this.context=it,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(ft):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this))}).prototype=ft.fn,St=ft(it);var Et=/^(?:parents|prev(?:Until|All))/,Tt={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,n=ft(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(ft.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],s=wt.test(t)||"string"!=typeof t?ft(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ft.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?ft.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return _t((t.parentNode||{}).firstChild,t)},children:function(t){return _t(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},function(t,e){ft.fn[t]=function(n,i){var o=ft.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ft.filter(i,o)),this.length>1&&(Tt[t]||(o=ft.uniqueSort(o)),Et.test(t)&&(o=o.reverse())),this.pushStack(o)}});var At,It,Dt=/\S+/g;for(It in ft.Callbacks=function(t){t="string"==typeof t?r(t):ft.extend({},t);var e,n,i,o,s=[],a=[],l=-1,c=function(){for(o=t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)!1===s[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:"")},u={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function i(e){ft.each(e,function(e,n){ft.isFunction(n)?t.unique&&u.has(n)||s.push(n):n&&n.length&&"string"!==ft.type(n)&&i(n)})}(arguments),n&&!e&&c()),this},remove:function(){return ft.each(arguments,function(t,e){for(var n;(n=ft.inArray(e,s,n))>-1;)s.splice(n,1),n<=l&&l--}),this},has:function(t){return t?ft.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return o=!0,n||u.disable(),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},ft.extend({Deferred:function(t){var e=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ft.Deferred(function(n){ft.each(e,function(e,r){var s=ft.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ft.extend(t,i):i}},o={};return i.pipe=i.then,ft.each(e,function(t,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=ot.call(arguments),s=r.length,a=1!==s||t&&ft.isFunction(t.promise)?s:0,l=1===a?t:ft.Deferred(),c=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?ot.call(arguments):o,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);o<s;o++)r[o]&&ft.isFunction(r[o].promise)?r[o].promise().progress(c(o,n,e)).done(c(o,i,r)).fail(l.reject):--a;return a||l.resolveWith(i,r),l.promise()}}),ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(!0===t?--ft.readyWait:ft.isReady)||(ft.isReady=!0,!0!==t&&--ft.readyWait>0||(At.resolveWith(it,[ft]),ft.fn.triggerHandler&&(ft(it).triggerHandler("ready"),ft(it).off("ready"))))}}),ft.ready.promise=function(e){if(!At)if(At=ft.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)t.setTimeout(ft.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{it.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&it.documentElement}catch(i){}n&&n.doScroll&&function o(){if(!ft.isReady){try{n.doScroll("left")}catch(i){return t.setTimeout(o,50)}s(),ft.ready()}}()}return At.promise(e)},ft.ready.promise(),ft(dt))break;dt.ownFirst="0"===It,dt.inlineBlockNeedsLayout=!1,ft(function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(e){dt.deleteExpando=!1}t=null}();var Lt,Rt=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Mt=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando])&&!c(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),ft.fn.extend({data:function(t,e){var n,i,o,r=this[0],s=r&&r.attributes;if(t===undefined){if(this.length&&(o=ft.data(r),1===r.nodeType&&!ft._data(r,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&l(r,i=ft.camelCase(i.slice(5)),o[i]);ft._data(r,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ft.data(this,t)}):arguments.length>1?this.each(function(){ft.data(this,t,e)}):r?l(r,t,ft.data(r,t)):undefined},removeData:function(t){return this.each(function(){ft.removeData(this,t)})}}),ft.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ft._data(t,e),n&&(!i||ft.isArray(n)?i=ft._data(t,e,ft.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),i=n.length,o=n.shift(),r=ft._queueHooks(t,e),s=function(){ft.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ft._data(t,n)||ft._data(t,n,{empty:ft.Callbacks("once memory").add(function(){ft._removeData(t,e+"queue"),ft._removeData(t,n)})})}}),ft.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ft.queue(this[0],t):e===undefined?this:this.each(function(){var n=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ft.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=ft.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";s--;)(n=ft._data(r[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}}),dt.shrinkWrapBlocks=function(){return null!=Lt?Lt:(Lt=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",Lt=3!==t.offsetWidth),e.removeChild(n),Lt):void 0);var t,e,n};var Nt,Ot,jt,Ft=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$t=new RegExp("^(?:([+-])=|)("+Ft+")([a-z%]*)$","i"),Bt=["Top","Right","Bottom","Left"],Ut=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},Ht=function(t,e,n,i,o,r,s){var a=0,l=t.length,c=null==n;if("object"===ft.type(n))for(a in o=!0,n)Ht(t,e,a,n[a],!0,r,s);else if(i!==undefined&&(o=!0,ft.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(ft(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return o?t:c?e.call(t):l?e(t[0],n):r},zt=/^(?:checkbox|radio)$/i,Wt=/<([\w:-]+)/,Yt=/^$|\/(?:java|ecma)script/i,Gt=/^\s+/,qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Nt=it.createElement("div"),Ot=it.createDocumentFragment(),jt=it.createElement("input"),Nt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===Nt.firstChild.nodeType,dt.tbody=!Nt.getElementsByTagName("tbody").length,dt.htmlSerialize=!!Nt.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,jt.type="checkbox",jt.checked=!0,Ot.appendChild(jt),dt.appendChecked=jt.checked,Nt.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!Nt.cloneNode(!0).lastChild.defaultValue,Ot.appendChild(Nt),(jt=it.createElement("input")).setAttribute("type","radio"),jt.setAttribute("checked","checked"),jt.setAttribute("name","t"),Nt.appendChild(jt),dt.checkClone=Nt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!Nt.addEventListener,Nt[ft.expando]=1,dt.attributes=!Nt.getAttribute(ft.expando);var Vt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Vt.optgroup=Vt.option,Vt.tbody=Vt.tfoot=Vt.colgroup=Vt.caption=Vt.thead,Vt.th=Vt.td;var Zt=/<|&#?\w+;/,Xt=/<tbody/i;!function(){var e,n,i=it.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(dt[e]=n in t)||(i.setAttribute(n,"t"),dt[e]=!1===i.attributes[n].expando);i=null}();var Jt=/^(?:input|select|textarea)$/i,Kt=/^key/,Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,i,o){var r,s,a,l,c,u,d,h,f,p,m,g=ft._data(t);if(g){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=ft.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||((u=g.handle=function(t){return void 0===ft||t&&ft.event.triggered===t.type?undefined:ft.event.dispatch.apply(u.elem,arguments)}).elem=t),a=(e=(e||"").match(Dt)||[""]).length;a--;)f=m=(r=ee.exec(e[a])||[])[1],p=(r[2]||"").split(".").sort(),f&&(c=ft.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=ft.event.special[f]||{},d=ft.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ft.expr.match.needsContext.test(o),namespace:p.join(".")},l),(h=s[f])||((h=s[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,u)||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),ft.event.global[f]=!0);t=null}},remove:function(t,e,n,i,o){var r,s,a,l,c,u,d,h,f,p,m,g=ft.hasData(t)&&ft._data(t);if(g&&(u=g.events)){for(c=(e=(e||"").match(Dt)||[""]).length;c--;)if(f=m=(a=ee.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=ft.event.special[f]||{},h=u[f=(i?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)s=h[r],!o&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(r,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(t,s));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,g.handle)||ft.removeEvent(t,f,g.handle),delete u[f])}else for(f in u)ft.event.remove(t,f+e[c],n,i,!0);ft.isEmptyObject(u)&&(delete g.handle,ft._removeData(t,"events"))}},trigger:function(e,n,i,o){var r,s,a,l,c,u,d,h=[i||it],f=ut.call(e,"type")?e.type:e,p=ut.call(e,"namespace")?e.namespace.split("."):[];if(a=u=i=i||it,3!==i.nodeType&&8!==i.nodeType&&!te.test(f+ft.event.triggered)&&(f.indexOf(".")>-1&&(f=(p=f.split(".")).shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,(e=e[ft.expando]?e:new ft.Event(f,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=i),n=null==n?[e]:ft.makeArray(n,[e]),c=ft.event.special[f]||{},o||!c.trigger||!1!==c.trigger.apply(i,n))){if(!o&&!c.noBubble&&!ft.isWindow(i)){for(l=c.delegateType||f,te.test(l+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(i.ownerDocument||it)&&h.push(u.defaultView||u.parentWindow||t)}for(d=0;(a=h[d++])&&!e.isPropagationStopped();)e.type=d>1?l:c.bindType||f,(r=(ft._data(a,"events")||{})[e.type]&&ft._data(a,"handle"))&&r.apply(a,n),(r=s&&a[s])&&r.apply&&Rt(a)&&(e.result=r.apply(a,n),!1===e.result&&e.preventDefault());if(e.type=f,!o&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(h.pop(),n))&&Rt(i)&&s&&i[f]&&!ft.isWindow(i)){(u=i[s])&&(i[s]=null),ft.event.triggered=f;try{i[f]()}catch(m){}ft.event.triggered=undefined,u&&(i[s]=u)}return e.result}},dispatch:function(t){t=ft.event.fix(t);var e,n,i,o,r,s=[],a=ot.call(arguments),l=(ft._data(this,"events")||{})[t.type]||[],c=ft.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(s=ft.event.handlers.call(this,t,l),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,(i=((ft.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<a;n++)i[o=(r=e[n]).selector+" "]===undefined&&(i[o]=r.needsContext?ft(o,this).index(l)>-1:ft.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[ft.expando])return t;var e,n,i,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Qt.test(o)?this.mouseHooks:Kt.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ft.Event(r),e=i.length;e--;)t[n=i[e]]=r[n];return t.target||(t.target=r.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||r===undefined||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===_()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},ft.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},ft.Event=function(t,e){if(!(this instanceof ft.Event))return new ft.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?y:b):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),this[ft.expando]=!0},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===i||ft.contains(i,o))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),dt.submit||(ft.event.special.submit={setup:function(){if(ft.nodeName(this,"form"))return!1;ft.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):undefined;n&&!ft._data(n,"submit")&&(ft.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),ft._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ft.nodeName(this,"form"))return!1;ft.event.remove(this,"._submit")}}),dt.change||(ft.event.special.change={setup:function(){if(Jt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ft.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)})),!1;ft.event.add(this,"beforeactivate._change",function(t){var e=t.target;Jt.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)}),ft._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ft.event.remove(this,"._change"),!Jt.test(this.nodeName)}}),dt.focusin||ft.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=ft._data(i,e);o||i.addEventListener(t,n,!0),ft._data(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ft._data(i,e)-1;o?ft._data(i,e,o):(i.removeEventListener(t,n,!0),ft._removeData(i,e))}}}),ft.fn.extend({on:function(t,e,n,i){return w(this,t,e,n,i)},one:function(t,e,n,i){return w(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ft(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=b),this.each(function(){ft.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ft.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+qt+")[\\s/>]","i"),oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,re=/<script|<style|<link/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=f(it).appendChild(it.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,n){var i,o,r,s,a,l=ft.contains(t.ownerDocument,t);if(dt.html5Clone||ft.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(ce.innerHTML=t.outerHTML,ce.removeChild(r=ce.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(i=p(r),a=p(t),s=0;null!=(o=a[s]);++s)i[s]&&E(o,i[s]);if(e)if(n)for(a=a||p(t),i=i||p(r),s=0;null!=(o=a[s]);s++)x(o,i[s]);else x(t,r);return(i=p(r,"script")).length>0&&m(i,!l&&p(t,"script")),i=a=o=null,r},cleanData:function(t,e){for(var n,i,o,r,s=0,a=ft.expando,l=ft.cache,c=dt.attributes,u=ft.event.special;null!=(n=t[s]);s++)if((e||Rt(n))&&(r=(o=n[a])&&l[o])){if(r.events)for(i in r.events)u[i]?ft.event.remove(n,i):ft.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c||"undefined"==typeof n.removeAttribute?n[a]=undefined:n.removeAttribute(a),nt.push(o))}}}),ft.fn.extend({domManip:T,detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return Ht(this,function(t){return t===undefined?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return T(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||k(this,t).appendChild(t)})},prepend:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=k(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(p(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return Ht(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!re.test(t)&&(dt.htmlSerialize||!ie.test(t))&&(dt.leadingWhitespace||!Gt.test(t))&&!Vt[(Wt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(ft.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return T(this,arguments,function(e){var n=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(p(this)),n&&n.replaceChild(e,this))},t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ft.fn[t]=function(t){for(var n,i=0,o=[],r=ft(t),s=r.length-1;i<=s;i++)n=i===s?this:this.clone(!0),ft(r[i])[e](n),st.apply(o,n.get());return this.pushStack(o)}});var ue,de={HTML:"block",BODY:"block"},he=/^margin/,fe=new RegExp("^("+Ft+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,i){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in o=n.apply(t,i||[]),e)t.style[r]=s[r];return o},me=it.documentElement;!function(){function e(){var e,u,d=it.documentElement;d.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=o=a=!1,i=s=!0,t.getComputedStyle&&(u=t.getComputedStyle(c),n="1%"!==(u||{}).top,a="2px"===(u||{}).marginLeft,o="4px"===(u||{width:"4px"}).width,c.style.marginRight="50%",i="4px"===(u||{marginRight:"4px"}).marginRight,(e=c.appendChild(it.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",c.style.width="1px",s=!parseFloat((t.getComputedStyle(e)||{}).marginRight),
c.removeChild(e)),c.style.display="none",(r=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(e=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),d.removeChild(l)}var n,i,o,r,s,a,l=it.createElement("div"),c=it.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===c.style.opacity,dt.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===c.style.backgroundClip,(l=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),dt.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,ft.extend(dt,{reliableHiddenOffsets:function(){return null==n&&e(),r},boxSizingReliable:function(){return null==n&&e(),o},pixelMarginRight:function(){return null==n&&e(),i},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),s},reliableMarginLeft:function(){return null==n&&e(),a}}))}();var ge,ve,ye=/^(top|right|bottom|left)$/;t.getComputedStyle?(ge=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},ve=function(t,e,n){var i,o,r,s,a=t.style;return""!==(s=(n=n||ge(t))?n.getPropertyValue(e)||n[e]:undefined)&&s!==undefined||ft.contains(t.ownerDocument,t)||(s=ft.style(t,e)),n&&!dt.pixelMarginRight()&&fe.test(s)&&he.test(e)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r),s===undefined?s:s+""}):me.currentStyle&&(ge=function(t){return t.currentStyle},ve=function(t,e,n){var i,o,r,s,a=t.style;return null==(s=(n=n||ge(t))?n[e]:undefined)&&a&&a[e]&&(s=a[e]),fe.test(s)&&!ye.test(e)&&(i=a.left,(r=(o=t.runtimeStyle)&&o.left)&&(o.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,r&&(o.left=r)),s===undefined?s:s+""||"auto"});var be=/alpha\([^)]*\)/i,_e=/opacity\s*=\s*([^)]*)/i,we=/^(none|table(?!-c[ea]).+)/,ke=new RegExp("^("+Ft+")(.*)$","i"),Ce={position:"absolute",visibility:"hidden",display:"block"},Se={letterSpacing:"0",fontWeight:"400"},xe=["Webkit","O","Moz","ms"],Ee=it.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ve(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=ft.camelCase(e),l=t.style;if(e=ft.cssProps[a]||(ft.cssProps[a]=R(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],n===undefined)return s&&"get"in s&&(o=s.get(t,!1,i))!==undefined?o:l[e];if("string"===(r=typeof n)&&(o=$t.exec(n))&&o[1]&&(n=h(t,e,o),r="number"),null!=n&&n==n&&("number"===r&&(n+=o&&o[3]||(ft.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&(n=s.set(t,n,i))===undefined)))try{l[e]=n}catch(c){}}},css:function(t,e,n,i){var o,r,s,a=ft.camelCase(e);return e=ft.cssProps[a]||(ft.cssProps[a]=R(a)||a),(s=ft.cssHooks[e]||ft.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),r===undefined&&(r=ve(t,e,i)),"normal"===r&&e in Se&&(r=Se[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),ft.each(["height","width"],function(t,e){ft.cssHooks[e]={get:function(t,n,i){if(n)return we.test(ft.css(t,"display"))&&0===t.offsetWidth?pe(t,Ce,function(){return O(t,e,i)}):O(t,e,i)},set:function(t,n,i){var o=i&&ge(t);return M(t,n,i?N(t,e,i,dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,o),o):0)}}}),dt.opacity||(ft.cssHooks.opacity={get:function(t,e){return _e.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ft.trim(r.replace(be,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=be.test(r)?r.replace(be,o):r+" "+o)}}),ft.cssHooks.marginRight=L(dt.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},ve,[t,"marginRight"])}),ft.cssHooks.marginLeft=L(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ft.each({margin:"",padding:"",border:"Width"},function(t,e){ft.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+Bt[i]+e]=r[i]||r[i-2]||r[0];return o}},he.test(t)||(ft.cssHooks[t+e].set=M)}),ft.fn.extend({css:function(t,e){return Ht(this,function(t,e,n){var i,o,r={},s=0;if(ft.isArray(e)){for(i=ge(t),o=e.length;s<o;s++)r[e[s]]=ft.css(t,e[s],!1,i);return r}return n!==undefined?ft.style(t,e,n):ft.css(t,e)},t,e,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ut(this)?ft(this).show():ft(this).hide()})}}),ft.Tween=j,j.prototype={constructor:j,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ft.cssNumber[n]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,n=j.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=j.prototype.init,ft.fx.step={};var Te,Ae,Ie,De,Le,Re,Pe,Me=/^(?:toggle|show|hide)$/,Ne=/queueHooks$/;ft.Animation=ft.extend(z,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return h(n.elem,t,$t.exec(e),n),n}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(Dt);for(var n,i=0,o=t.length;i<o;i++)n=t[i],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(e)},prefilters:[U],prefilter:function(t,e){e?z.prefilters.unshift(t):z.prefilters.push(t)}}),ft.speed=function(t,e,n){var i=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return i.duration=ft.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ft.fx.speeds?ft.fx.speeds[i.duration]:ft.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ft.isFunction(i.old)&&i.old.call(this),i.queue&&ft.dequeue(this,i.queue)},i},ft.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=ft.isEmptyObject(t),r=ft.speed(e,n,i),s=function(){var e=z(this,ft.extend({},t),r);(o||ft._data(this,"finish"))&&e.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=undefined),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=ft.timers,s=ft._data(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&Ne.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));!e&&n||ft.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=ft._data(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=ft.timers,s=i?i.length:0;for(n.finish=!0,ft.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ft.each(["toggle","show","hide"],function(t,e){var n=ft.fn[e];ft.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate($(e,!0),t,i,o)}}),ft.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ft.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,n=0;for(Te=ft.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ft.fx.stop(),Te=undefined},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){Ae||(Ae=t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.clearInterval(Ae),Ae=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,n){return e=ft.fx&&ft.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}})},De=it.createElement("input"),Le=it.createElement("div"),Re=it.createElement("select"),Pe=Re.appendChild(it.createElement("option")),(Le=it.createElement("div")).setAttribute("className","t"),Le.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Ie=Le.getElementsByTagName("a")[0],De.setAttribute("type","checkbox"),Le.appendChild(De),(Ie=Le.getElementsByTagName("a")[0]).style.cssText="top:1px",dt.getSetAttribute="t"!==Le.className,dt.style=/top/.test(Ie.getAttribute("style")),dt.hrefNormalized="/a"===Ie.getAttribute("href"),dt.checkOn=!!De.value,dt.optSelected=Pe.selected,dt.enctype=!!it.createElement("form").enctype,Re.disabled=!0,dt.optDisabled=!Pe.disabled,(De=it.createElement("input")).setAttribute("value",""),dt.input=""===De.getAttribute("value"),De.value="t",De.setAttribute("type","radio"),dt.radioValue="t"===De.value;var Oe=/\r/g,je=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=ft.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,ft(this).val()):t)?o="":"number"==typeof o?o+="":ft.isArray(o)&&(o=ft.map(o,function(t){return null==t?"":t+""})),(e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,o,"value")!==undefined||(this.value=o))})):o?(e=ft.valHooks[o.type]||ft.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&(n=e.get(o,"value"))!==undefined?n:"string"==typeof(n=o.value)?n.replace(Oe,""):null==n?"":n:void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(je," ")}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,s=r?null:[],a=r?o+1:i.length,l=o<0?a:r?o:0;l<a;l++)if(((n=i[l]).selected||l===o)&&(dt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,r=ft.makeArray(e),s=o.length;s--;)if(i=o[s],ft.inArray(ft.valHooks.option.get(i),r)>-1)try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=ft.inArray(ft(t).val(),e)>-1}},dt.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Fe,$e,Be=ft.expr.attrHandle,Ue=/^(?:checked|selected)$/i,He=dt.getSetAttribute,ze=dt.input;ft.fn.extend({attr:function(t,e){return Ht(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?ft.prop(t,e,n):(1===r&&ft.isXMLDoc(t)||(e=e.toLowerCase(),o=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?$e:Fe)),n!==undefined?null===n?void ft.removeAttr(t,e):o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=ft.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(Dt);if(r&&1===t.nodeType)for(;n=r[o++];)i=ft.propFix[n]||n,ft.expr.match.bool.test(n)?ze&&He||!Ue.test(n)?t[i]=!1:t[ft.camelCase("default-"+n)]=t[i]=!1:ft.attr(t,n,""),t.removeAttribute(He?n:i)}}),$e={set:function(t,e,n){return!1===e?ft.removeAttr(t,n):ze&&He||!Ue.test(n)?t.setAttribute(!He&&ft.propFix[n]||n,n):t[ft.camelCase("default-"+n)]=t[n]=!0,n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Be[e]||ft.find.attr;ze&&He||!Ue.test(e)?Be[e]=function(t,e,i){var o,r;return i||(r=Be[e],Be[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,Be[e]=r),o}:Be[e]=function(t,e,n){if(!n)return t[ft.camelCase("default-"+e)]?e.toLowerCase():null}}),ze&&He||(ft.attrHooks.value={set:function(t,e,n){if(!ft.nodeName(t,"input"))return Fe&&Fe.set(t,e,n);t.defaultValue=e}}),He||(Fe={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},Be.id=Be.name=Be.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ft.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Fe.set},ft.attrHooks.contenteditable={set:function(t,e,n){Fe.set(t,""!==e&&e,n)}},ft.each(["width","height"],function(t,e){ft.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),dt.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var We=/^(?:input|select|textarea|button|object)$/i,Ye=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return Ht(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ft.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(e){}})}}),ft.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,o=ft.propHooks[e]),n!==undefined?o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):We.test(t.nodeName)||Ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.hrefNormalized||ft.each(["href","src"],function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),dt.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),dt.enctype||(ft.propFix.enctype="encoding");var Ge=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,n,i,o,r,s,a,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).addClass(t.call(this,e,W(this)))});if("string"==typeof t&&t)for(e=t.match(Dt)||[];n=this[l++];)if(o=W(n),i=1===n.nodeType&&(" "+o+" ").replace(Ge," ")){for(s=0;r=e[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(a=ft.trim(i))&&ft.attr(n,"class",a)}return this},removeClass:function(t){var e,n,i,o,r,s,a,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).removeClass(t.call(this,e,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Dt)||[];n=this[l++];)if(o=W(n),i=1===n.nodeType&&(" "+o+" ").replace(Ge," ")){for(s=0;r=e[s++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o!==(a=ft.trim(i))&&ft.attr(n,"class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each(function(n){ft(this).toggleClass(t.call(this,n,W(this),e),e)}):this.each(function(){var e,i,o,r;if("string"===n)for(i=0,o=ft(this),r=t.match(Dt)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else t!==undefined&&"boolean"!==n||((e=W(this))&&ft._data(this,"__className__",e),ft.attr(this,"class",e||!1===t?"":ft._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(Ge," ").indexOf(e)>-1)return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ft.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var qe=t.location,Ve=ft.now(),Ze=/\?/,Xe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,o=ft.trim(e+"");return o&&!ft.trim(o.replace(Xe,function(t,e,o,r){return n&&e&&(i=0),0===i?t:(n=o||e,i+=!r-!o,"")}))?Function("return "+o)():ft.error("Invalid JSON: "+e)},ft.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new t.DOMParser,n=i.parseFromString(e,"text/xml")):((n=new t.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(e))}catch(o){n=undefined}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),n};var Je=/#.*$/,Ke=/([?&])_=[^&]*/,Qe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,en=/^(?:GET|HEAD)$/,nn=/^\/\//,on=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,rn={},sn={},an="*/".concat("*"),ln=qe.href,cn=on.exec(ln.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ln,type:"GET",isLocal:tn.test(cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":an,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?q(q(t,ft.ajaxSettings),e):q(ft.ajaxSettings,t)},ajaxPrefilter:Y(rn),ajaxTransport:Y(sn),ajax:function(e,n){function i(e,n,i,o){var r,d,y,b,w,C=n;2!==_&&(_=2,l&&t.clearTimeout(l),u=undefined,a=o||"",k.readyState=e>0?4:0,r=e>=200&&e<300||304===e,i&&(b=V(h,k,i)),b=Z(h,b,k,r),r?(h.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(ft.lastModified[s]=w),(w=k.getResponseHeader("etag"))&&(ft.etag[s]=w)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=b.state,d=b.data,r=!(y=b.error))):(y=C,!e&&C||(C="error",e<0&&(e=0))),k.status=e,k.statusText=(n||C)+"",r?m.resolveWith(f,[d,C,k]):m.rejectWith(f,[k,C,y]),k.statusCode(v),v=undefined,c&&p.trigger(r?"ajaxSuccess":"ajaxError",[k,h,r?d:y]),g.fireWith(f,[k,C]),c&&(p.trigger("ajaxComplete",[k,h]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=undefined),n=n||{};var o,r,s,a,l,c,u,d,h=ft.ajaxSetup({},n),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?ft(f):ft.event,m=ft.Deferred(),g=ft.Callbacks("once memory"),v=h.statusCode||{},y={},b={},_=0,w="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!d)for(d={};e=Qe.exec(a);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return _||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)v[e]=[v[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||w;return u&&u.abort(e),i(0,e),this}};if(m.promise(k).complete=g.add,k.success=k.done,k.error=k.fail,h.url=((e||h.url||ln)+"").replace(Je,"").replace(nn,cn[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=ft.trim(h.dataType||"*").toLowerCase().match(Dt)||[""],null==h.crossDomain&&(o=on.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===cn[1]&&o[2]===cn[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(cn[3]||("http:"===cn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ft.param(h.data,h.traditional)),G(rn,h,n,k),2===_)return k;for(r in(c=ft.event&&h.global)&&0==ft.active++&&ft.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!en.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(Ze.test(s)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Ke.test(s)?s.replace(Ke,"$1_="+Ve++):s+(Ze.test(s)?"&":"?")+"_="+Ve++)),h.ifModified&&(ft.lastModified[s]&&k.setRequestHeader("If-Modified-Since",ft.lastModified[s]),ft.etag[s]&&k.setRequestHeader("If-None-Match",ft.etag[s])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+an+"; q=0.01":""):h.accepts["*"]),h.headers)k.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(!1===h.beforeSend.call(f,k,h)||2===_))return k.abort();for(r in w="abort",{success:1,error:1,complete:1})k[r](h[r]);if(u=G(sn,h,n,k)){if(k.readyState=1,c&&p.trigger("ajaxSend",[k,h]),2===_)return k;h.async&&h.timeout>0&&(l=t.setTimeout(function(){k.abort("timeout")},h.timeout));try{_=1,u.send(y,i)}catch(C){if(!(_<2))throw C;i(-1,C)}}else i(-1,"No Transport");return k},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,undefined,e,"script")}}),ft.each(["get","post"],function(t,e){ft[e]=function(t,n,i,o){return ft.isFunction(n)&&(o=o||i,i=n,n=undefined),ft.ajax(ft.extend({url:t,type:e,dataType:o,data:n,success:i},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ft.fn.extend({wrapAll:function(t){if(ft.isFunction(t))return this.each(function(e){ft(this).wrapAll(t.call(this,e))});if(this[0]){var e=ft(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ft.isFunction(t)?this.each(function(e){ft(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ft(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ft.isFunction(t);return this.each(function(n){ft(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)}).end()}}),ft.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:J(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var un=/%20/g,dn=/\[\]$/,hn=/\r?\n/g,fn=/^(?:submit|button|image|reset|file)$/i,pn=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,i=[],o=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){o(this.name,this.value)});else for(n in t)K(n,t[n],e,o);return i.join("&").replace(un,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&pn.test(this.nodeName)&&!fn.test(t)&&(this.checked||!zt.test(t))}).map(function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,function(t){return{name:e.name,value:t.replace(hn,"\r\n")}}):{name:e.name,value:n.replace(hn,"\r\n")}}).get()}}),ft.ajaxSettings.xhr=t.ActiveXObject!==undefined?function(){return this.isLocal?tt():it.documentMode>8?Q():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Q()||tt()}:Q;var mn=0,gn={},vn=ft.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in gn)gn[t](undefined,!0)}),dt.cors=!!vn&&"withCredentials"in vn,(vn=dt.ajax=!!vn)&&ft.ajaxTransport(function(e){var n;if(!e.crossDomain||dt.cors)return{send:function(i,o){var r,s=e.xhr(),a=++mn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];for(r in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)i[r]!==undefined&&s.setRequestHeader(r,i[r]+"");s.send(e.hasContent&&e.data||null),n=function(t,i){var r,l,c;if(n&&(i||4===s.readyState))if(delete gn[a],n=undefined,s.onreadystatechange=ft.noop,i)4!==s.readyState&&s.abort();else{c={},r=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(u){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=c.text?200:404}c&&o(r,l,c,s.getAllResponseHeaders())},e.async?4===s.readyState?t.setTimeout(n):s.onreadystatechange=gn[a]=n:n()},abort:function(){n&&n(undefined,!0)}}}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ft.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=it.head||ft("head")[0]||it.documentElement;return{send:function(i,o){(e=it.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||o(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(undefined,!0)}}}});var yn=[],bn=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=yn.pop()||ft.expando+"_"+Ve++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(e,n,i){var o,r,s,a=!1!==e.jsonp&&(bn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&bn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(bn,"$1"+o):!1!==e.jsonp&&(e.url+=(Ze.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||ft.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},i.always(function(){r===undefined?ft(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,yn.push(o)),s&&ft.isFunction(r)&&r(s[0]),s=r=undefined}),"script"}),ft.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=kt.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=v([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],i.childNodes))};var _n=ft.fn.load;ft.fn.load=function(t,e,n){if("string"!=typeof t&&_n)return _n.apply(this,arguments);var i,o,r,s=this,a=t.indexOf(" ");return a>-1&&(i=ft.trim(t.slice(a,t.length)),t=t.slice(0,a)),ft.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(o="POST"),s.length>0&&ft.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?ft("<div>").append(ft.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.filters.animated=function(t){return ft.grep(ft.timers,function(e){return t===e.elem}).length},ft.offset={setOffset:function(t,e,n){var i,o,r,s,a,l,c=ft.css(t,"position"),u=ft(t),d={};"static"===c&&(t.style.position="relative"),a=u.offset(),r=ft.css(t,"top"),l=ft.css(t,"left"),("absolute"===c||"fixed"===c)&&ft.inArray("auto",[r,l])>-1?(s=(i=u.position()).top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):u.css(d)}},ft.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){ft.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(e=r.documentElement,ft.contains(e,o)?("undefined"!=typeof o.getBoundingClientRect&&(i=o.getBoundingClientRect()),n=et(r),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ft.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(n=t.offset()),n.top+=ft.css(t[0],"borderTopWidth",!0),n.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ft.css(i,"marginTop",!0),left:e.left-n.left-ft.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||me})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);ft.fn[t]=function(i){return Ht(this,function(t,i,o){var r=et(t);if(o===undefined)return r?e in r?r[e]:r.document.documentElement[i]:t[i];r?r.scrollTo(n?ft(r).scrollLeft():o,n?o:ft(r).scrollTop()):t[i]=o},t,i,arguments.length,null)}}),ft.each(["top","left"],function(t,e){ft.cssHooks[e]=L(dt.pixelPosition,function(t,n){if(n)return n=ve(t,e),fe.test(n)?ft(t).position()[e]+"px":n})}),ft.each({Height:"height",Width:"width"},function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ft.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Ht(this,function(e,n,i){var o;return ft.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):i===undefined?ft.css(e,n,s):ft.style(e,n,i,s)},e,r?i:undefined,r,null)}})}),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var wn=t.jQuery,kn=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=kn),e&&t.jQuery===ft&&(t.jQuery=wn),ft},e||(t.jQuery=t.$=ft),ft}),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"}
;for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;return t(this).one("bsTransitionEnd",function(){n=!0}),setTimeout(function(){n||t(i).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=(r=o.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,""));var s=t("#"===r?[]:r);e&&e.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.button"),r="object"==typeof e&&e;o||i.data("bs.button",o=new n(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();e+="Text",null==r.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target).closest(".btn");e.call(i,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:r.slide;o||i.data("bs.carousel",o=new n(this,r)),"number"==typeof e?o.to(e):s?o[s]():r.interval&&o.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(e,o),s=this.interval,a="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(n){var i,o=t(this),r=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=t.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),e.call(r,s),a&&r.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),o=n.data("bs.collapse"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||n.data("bs.collapse",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"))&&e.transitioning)){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return o.call(this);this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var r=e(o),s=r.data("bs.collapse")?"toggle":o.data();n.call(r,s)})}(jQuery),function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(o).remove(),t(r).each(function(){var i=t(this),o=e(i),r={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o[0],n.target)||(o.trigger(n=t.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.7",s.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var r=e(o),s=r.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(r.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=e(i),s=o.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&o.find(r).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+a);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),r=o.data("bs.modal"),s=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new n(this,s)),"string"==typeof e?r[e](i):s.show&&r.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),o=i.attr("href"),r=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(r,s,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(e,i,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=i.find("> .active"),a=o&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.affix"),r="object"==typeof e&&e;o||i.data("bs.affix",o=new n(this,r)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+s<=t-i)&&"bottom";var a=null==this.affixed,l=a?o:r.top;return null!=n&&o<=n?"top":null!=i&&l+(a?s:e)>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,o=i.top,r=i.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(r=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var a=this.getState(s,e,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-r})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(n).is(document.body)?t(window):t(n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,r)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[n]().top+i,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=r[r.length-1])&&this.activate(t);if(s&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)s!=r[t]&&e>=o[t]&&(o[t+1]===undefined||e<o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),r="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.tooltip",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)}},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=r[0].offsetWidth,h=r[0].offsetHeight;if(c){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+h>p.bottom?"top":"top"==a&&u.top-h<p.top?"bottom":"right"==a&&u.right+d>p.width?"left":"left"==a&&u.left-d<p.left?"right":a,r.removeClass(f).addClass(a)}var m=this.getCalculatedOffset(a,u,d,h);this.applyPlacement(m,a);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=r&&(e.top=e.top+r-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=/top|bottom/.test(n),h=d?2*u.left-o+l:2*u.top-r+c,f=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(h,i[0][f],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=o.hoverState&&r.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=t(this.$tip),s=t.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=window.SVGElement&&n instanceof window.SVGElement,s=i?{top:0,left:0}:r?null:e.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,l,s)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,
left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+i;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var c=e.left-r,u=e.left+r+n;c<s.left?o.left=s.left-c:u>s.right&&(o.left=s.left+s.width-u)}return o},n.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},n.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.popover"),r="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.popover",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),function(t,e){"use strict";var n;t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var o=t.Event(n);return e.trigger(o,i),!1!==o.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(i){var o,r,s,a,l,c;if(n.fire(i,"ajax:before")){if(a=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){o=i.data("ujs:submit-button-formmethod")||i.attr("method"),r=i.data("ujs:submit-button-formaction")||i.attr("action"),s=t(i[0]).serializeArray();var u=i.data("ujs:submit-button");u&&(s.push(u),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(o=i.data("method"),r=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",r=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(o=i.data("method"),r=n.href(i),s=i.data("params")||null);return c={type:o||"GET",data:s,dataType:l,beforeSend:function(t,o){if(o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!n.fire(i,"ajax:beforeSend",[t,o]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(r)},a&&(c.xhrFields={withCredentials:a}),r&&(c.url=r),n.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var o=n.href(i),r=i.data("method"),s=i.attr("target"),a=n.csrfToken(),l=n.csrfParam(),c=t('<form method="post" action="'+o+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l===e||a===e||n.isCrossDomain(o)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",(i=t.data("disable-with"))!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),o=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{o=n.confirm(i)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=n.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,n,i){var o,r,s,a=t(),l=n||"input,textarea",c={};return e.find(l).each(function(){(o=t(this)).is("input[type=radio]")?(s=o.attr("name"),c[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(r=e.find('input[type=radio][name="'+s+'"]'),a=a.add(r)),c[s]=s)):(o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val())===i&&(a=a.add(o))}),!!a.length&&a},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),i.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(t(this))}),i.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(t(this))}),i.on("click.rails",n.linkClickSelector,function(e){var i=t(this),o=i.data("method"),r=i.data("params"),s=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(s&&(!o||"GET"===o)&&!r)return!0;var a=n.handleRemote(i);return!1===a?n.enableElement(i):a.fail(function(){n.enableElement(i)}),!1}return o?(n.handleMethod(i),!1):void 0}),i.on("click.rails",n.buttonClickSelector,function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var o=n.handleRemote(i);return!1===o?n.enableFormElement(i):o.fail(function(){n.enableFormElement(i)}),!1}),i.on("change.rails",n.inputChangeSelector,function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.on("submit.rails",n.formSubmitSelector,function(i){var o,r,s=t(this),a=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if((o=n.blankInputs(s,n.requiredInputSelector,!1))&&n.fire(s,"ajax:aborted:required",[o]))return n.stopEverything(i)}else s.data("ujs:formnovalidate-button",e);if(a){if(r=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[r]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),i.on("click.rails",n.formInputClickSelector,function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var o=i.attr("name"),r=o?{name:o,value:i.val()}:null,s=i.closest("form");0===s.length&&(s=t("#"+i.attr("form"))),s.data("ujs:submit-button",r),s.data("ujs:formnovalidate-button",i.attr("formnovalidate")),s.data("ujs:submit-button-formaction",i.attr("formaction")),s.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.on("ajax:send.rails",n.formSubmitSelector,function(e){this===e.target&&n.disableFormElements(t(this))}),i.on("ajax:complete.rails",n.formSubmitSelector,function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e,n,i=0,o=Array.prototype.slice;t.cleanData=(n=t.cleanData,function(e){var i,o,r;for(r=0;null!=(o=e[r]);r++)try{(i=t._data(o,"events"))&&i.remove&&t(o).triggerHandler("remove")}catch(s){}n(e)}),t.widget=function(e,n,i){var o,r,s,a={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},o=t[l][e],r=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?void(a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function o(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}()):void(a[e]=i)}),r.prototype=t.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||e},a,{constructor:r,namespace:l,widgetName:e,widgetFullName:c}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,r,n._proto)}),delete o._childConstructors):n._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,i,r=o.call(arguments,1),s=0,a=r.length;a>s;s++)for(n in r[s])i=r[s][n],r[s].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var s="string"==typeof r,a=o.call(arguments,1),l=this;return s?this.length||"instance"!==r?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(l=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,a))!==o&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):l=void 0:(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,r,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(i=e.split(".")).shift(),i.length){for(o=s[e]=t.widget.extend({},this.options[e]),r=0;i.length-1>r;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,o;for(n in e)o=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&o&&o.length&&(i=t(o.get()),this._removeClass(o,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,r){var s,a;for(a=0;n.length>a;a++)s=o.classesElementLookup[n[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),o.classesElementLookup[n[a]]=s,i.push(n[a]),r&&e.classes[n[a]]&&i.push(e.classes[n[a]])}var i=[],o=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,o){-1!==t.inArray(e.target,o)&&(n.classesElementLookup[i]=t(o.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var o="string"==typeof t||null===t,r={extra:o?e:n,keys:o?t:e,element:o?this.element:t,add:i};return r.element.toggleClass(this._classes(r),i),this},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,s){function a(){return e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?r[s]:s).apply(r,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.on(c,u,a):n.on(c,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var o,r,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?!0===o||"number"==typeof o?n:o.effect||n:e;"number"==typeof(o=o||{})&&(o={duration:o}),s=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),s&&t.effects&&t.effects.effect[a]?i[e](o):a!==e&&i[a]?i[a](o.duration,o.easing,r):i.queue(function(n){t(this)[e](),r&&r.call(i[0]),n()})}}),t.widget,function(){function e(t,e,n){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var o,r=Math.max,s=Math.abs,a=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,d=/%$/,h=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=i.children()[0];return t("body").append(i),e=r.offsetWidth,i.css("overflow","scroll"),e===(n=r.offsetWidth)&&(n=i[0].clientWidth),i.remove(),o=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:!i&&!o?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(o){if(!o||!o.of)return h.apply(this,arguments);o=t.extend({},o);var d,f,p,m,g,v,y=t(o.of),b=t.position.getWithinInfo(o.within),_=t.position.getScrollInfo(b),w=(o.collision||"flip").split(" "),k={};return v=i(y),y[0].preventDefault&&(o.at="left top"),f=v.width,p=v.height,m=v.offset,g=t.extend({},m),t.each(["my","at"],function(){var t,e,n=(o[this]||"").split(" ");1===n.length&&(n=a.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=a.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",t=c.exec(n[0]),e=c.exec(n[1]),k[this]=[t?t[0]:0,e?e[0]:0],o[this]=[u.exec(n[0])[0],u.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===o.at[0]?g.left+=f:"center"===o.at[0]&&(g.left+=f/2),"bottom"===o.at[1]?g.top+=p:"center"===o.at[1]&&(g.top+=p/2),d=e(k.at,f,p),g.left+=d[0],g.top+=d[1],this.each(function(){var i,a,l=t(this),c=l.outerWidth(),u=l.outerHeight(),h=n(this,"marginLeft"),v=n(this,"marginTop"),C=c+h+n(this,"marginRight")+_.width,S=u+v+n(this,"marginBottom")+_.height,x=t.extend({},g),E=e(k.my,l.outerWidth(),l.outerHeight());"right"===o.my[0]?x.left-=c:"center"===o.my[0]&&(x.left-=c/2),"bottom"===o.my[1]?x.top-=u:"center"===o.my[1]&&(x.top-=u/2),x.left+=E[0],x.top+=E[1],i={marginLeft:h,marginTop:v},t.each(["left","top"],function(e,n){t.ui.position[w[e]]&&t.ui.position[w[e]][n](x,{targetWidth:f,targetHeight:p,elemWidth:c,elemHeight:u,collisionPosition:i,collisionWidth:C,collisionHeight:S,offset:[d[0]+E[0],d[1]+E[1]],my:o.my,at:o.at,within:b,elem:l})}),o.using&&(a=function(t){var e=m.left-x.left,n=e+f-c,i=m.top-x.top,a=i+p-u,d={target:{element:y,left:m.left,top:m.top,width:f,height:p},element:{element:l,left:x.left,top:x.top,width:c,height:u},horizontal:0>n?"left":e>0?"right":"center",vertical:0>a?"top":i>0?"bottom":"middle"};c>f&&f>s(e+n)&&(d.horizontal="center"),u>p&&p>s(i+a)&&(d.vertical="middle"),d.important=r(s(e),s(n))>r(s(i),s(a))?"horizontal":"vertical",o.using.call(this,t,d)}),l.offset(t.extend(x,{using:a}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,a=t.left-e.collisionPosition.marginLeft,l=o-a,c=a+e.collisionWidth-s-o;e.collisionWidth>s?l>0&&0>=c?(n=t.left+l+e.collisionWidth-s-o,t.left+=l-n):t.left=c>0&&0>=l?o:l>c?o+s-e.collisionWidth:o:l>0?t.left+=l:c>0?t.left-=c:t.left=r(t.left-a,t.left)},top:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollTop:i.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=o-a,c=a+e.collisionHeight-s-o;e.collisionHeight>s?l>0&&0>=c?(n=t.top+l+e.collisionHeight-s-o,t.top+=l-n):t.top=c>0&&0>=l?o:l>c?o+s-e.collisionHeight:o:l>0?t.top+=l:c>0?t.top-=c:t.top=r(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,o=e.within,r=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,d=c+e.collisionWidth-a-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>u?(0>(n=t.left+h+f+p+e.collisionWidth-a-r)||s(u)>n)&&(t.left+=h+f+p):d>0&&(((i=t.left-e.collisionPosition.marginLeft+h+f+p-l)>0||d>s(i))&&(t.left+=h+f+p))},top:function(t,e){var n,i,o=e.within,r=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,d=c+e.collisionHeight-a-l,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];0>u?(0>(i=t.top+h+f+p+e.collisionHeight-a-r)||s(u)>i)&&(t.top+=h+f+p):d>0&&(((n=t.top-e.collisionPosition.marginTop+h+f+p-l)>0||d>s(n))&&(t.top+=h+f+p))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:t(this[0].ownerDocument||document)},t.fn.extend({uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var r=!1;t(document).on("mouseup",function(){r=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),r=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,r=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,r.widgetName+"-item")===r?(i=t(this),!1):void 0}),t.data(e.target,r.widgetName+"-item")===r&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(o=!0)}),!o))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var o,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},
this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,o,r,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(o=(i=this.items[n]).item[0],(r=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!t.contains(this.placeholder[0],o)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,o=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=t.left,s=r+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>a&&l>i+c,h="y"===this.options.axis||e+u>r&&s>e+u,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:e+this.helperProportions.width/2>r&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>o-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!!(i&&o)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,o,r,s,a=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(o=(r=t(c[i],this.document[0])).length-1;o>=0;o--)(s=t.data(r[o],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,o,r,s,a,l,c,u=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=(o=t(h[n],this.document[0])).length-1;i>=0;i--)(r=t.data(o[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&(d.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(n=d.length-1;n>=0;n--)for(s=d[n][1],i=0,c=(a=d[n][0]).length;c>i;i++)(l=t(a[i])).data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,o,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=o.outerWidth(),i.height=o.outerHeight()),r=o.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+i+">",e.document[0]);return e._addClass(o,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):"tr"===i?e._createTrPlaceholder(e.currentItem,o):"img"===i&&o.attr("src",e.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(t,o){(!n||i.forcePlaceholderSize)&&(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,o,r,s,a,l,c,u,d,h=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&t.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,r=null,s=(u=h.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",d=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,e[d]-l>this.items[i][a]/2&&(c=!0),o>Math.abs(e[d]-l)&&(o=Math.abs(e[d]-l),r=this.items[i],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],n=t(o.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function(e){var n,i,o=this.options,r=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;o.length>i;i++)o[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(o){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,o,r,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,i=this.previousFilter||"",r=!1,o=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),o===i?r=!0:o=i+o,n=this._filterMenuItems(o),(n=r&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(o=String.fromCharCode(e.keyCode),n=this._filterMenuItems(o)),n.length?(this.focus(e,n),this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,o,r=this,s=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);r._addClass(i,"ui-menu-icon","ui-icon "+s),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(e=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);r._isDivider(e)&&r._addClass(e,"ui-menu-divider","ui-widget-content")}),o=(i=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,o;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),o=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(o,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,o,r,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-n-i,r=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),0>o?this.activeMenu.scrollTop(r+o):o+a>s&&this.activeMenu.scrollTop(r+o-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return 0>(n=t(this)).offset().top-i-o}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i+o>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,o=this.element[0].nodeName.toLowerCase(),r="textarea"===o,s="input"===o;this.isMultiLine=r||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[r||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var r=t.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:e=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:e=!0,this._move("nextPage",o);break;case r.UP:e=!0,this._keyEvent("previous",o);break;case r.DOWN:e=!0,this._keyEvent("next",o);break;case r.ENTER:this.menu.active&&(e=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:n=!0,this._searchTimeout(o)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var o=t.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:this._move("previousPage",i);break;case o.PAGE_DOWN:this._move("nextPage",i);break
;case o.UP:this._keyEvent("previous",i);break;case o.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,o;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(o=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:o})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(o.value),void((i=n.item.attr("aria-label")||o.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),o=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=o,this._delay(function(){this.previous=o,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,o){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){o(t)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!n&&!i)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete}),function(t){var e=new Array,n=new Array;t.fn.doAutosize=function(e){var n=t(this).data("minwidth"),i=t(this).data("maxwidth"),o="",r=t(this),s=t("#"+t(this).data("tester_id"));if(o!==(o=r.val())){var a=o.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");s.html(a);var l=s.width(),c=l+e.comfortZone>=n?l+e.comfortZone:n;(c<r.width()&&c>=n||c>n&&c<i)&&r.width(c)}},t.fn.resetAutosize=function(e){var n=t(this).data("minwidth")||e.minInputWidth||t(this).width(),i=t(this).data("maxwidth")||e.maxInputWidth||t(this).closest(".tagsinput").width()-e.inputPadding,o=t(this),r=t("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:o.css("fontSize"),fontFamily:o.css("fontFamily"),fontWeight:o.css("fontWeight"),letterSpacing:o.css("letterSpacing"),whiteSpace:"nowrap"}),s=t(this).attr("id")+"_autosize_tester";!t("#"+s).length>0&&(r.attr("id",s),r.appendTo("body")),o.data("minwidth",n),o.data("maxwidth",i),o.data("tester_id",s),o.css("width",n)},t.fn.addTag=function(i,o){return o=jQuery.extend({focus:!1,callback:!0},o),this.each(function(){var r=t(this).attr("id"),s=t(this).val().split(e[r]);if(""==s[0]&&(s=new Array),i=jQuery.trim(i),o.unique)1==(a=t(this).tagExist(i))&&t("#"+r+"_tag").addClass("not_valid");else var a=!1;if(""!=i&&1!=a){if(t("<span>").addClass("tag").append(t("<span>").text(i).append("&nbsp;&nbsp;"),t("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return t("#"+r).removeTag(escape(i))})).insertBefore("#"+r+"_addTag"),s.push(i),t("#"+r+"_tag").val(""),o.focus?t("#"+r+"_tag").focus():t("#"+r+"_tag").blur(),t.fn.tagsInput.updateTagsField(this,s),o.callback&&n[r]&&n[r].onAddTag)n[r].onAddTag.call(this,i);if(n[r]&&n[r].onChange){var l=s.length;n[r].onChange.call(this,t(this),s[l-1])}}}),!1},t.fn.removeTag=function(o){return o=unescape(o),this.each(function(){var r=t(this).attr("id"),s=t(this).val().split(e[r]);for(t("#"+r+"_tagsinput .tag").remove(),str="",i=0;i<s.length;i++)s[i]!=o&&(str=str+e[r]+s[i]);(t.fn.tagsInput.importTags(this,str),n[r]&&n[r].onRemoveTag)&&n[r].onRemoveTag.call(this,o)}),!1},t.fn.tagExist=function(n){var i=t(this).attr("id"),o=t(this).val().split(e[i]);return jQuery.inArray(n,o)>=0},t.fn.importTags=function(e){var n=t(this).attr("id");t("#"+n+"_tagsinput .tag").remove(),t.fn.tagsInput.importTags(this,e)},t.fn.tagsInput=function(i){var r=jQuery.extend({interactive:!0,defaultText:"add tags",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i),s=0;return this.each(function(){if(void 0===t(this).attr("data-tagsinput-init")){t(this).attr("data-tagsinput-init",!0),r.hide&&t(this).hide();var i=t(this).attr("id");i&&!e[t(this).attr("id")]||(i=t(this).attr("id","tags"+(new Date).getTime()+s++).attr("id"));var a=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},r);e[i]=a.delimiter,(r.onAddTag||r.onRemoveTag||r.onChange)&&(n[i]=new Array,n[i].onAddTag=r.onAddTag,n[i].onRemoveTag=r.onRemoveTag,n[i].onChange=r.onChange);var l='<div id="'+i+'_tagsinput" class="tagsinput"><div id="'+i+'_addTag">';if(r.interactive&&(l=l+'<input id="'+i+'_tag" value="" data-default="'+r.defaultText+'" />'),t(l+='</div><div class="tags_clear"></div></div>').insertAfter(this),t(a.holder).css("width",r.width),t(a.holder).css("min-height",r.height),t(a.holder).css("height",r.height),""!=t(a.real_input).val()&&t.fn.tagsInput.importTags(t(a.real_input),t(a.real_input).val()),r.interactive){if(t(a.fake_input).val(t(a.fake_input).attr("data-default")),t(a.fake_input).css("color",r.placeholderColor),t(a.fake_input).resetAutosize(r),t(a.holder).bind("click",a,function(e){t(e.data.fake_input).focus()}),t(a.fake_input).bind("focus",a,function(e){t(e.data.fake_input).val()==t(e.data.fake_input).attr("data-default")&&t(e.data.fake_input).val(""),t(e.data.fake_input).css("color","#000000")}),r.autocomplete_url!=undefined){for(attrname in autocomplete_options={source:r.autocomplete_url},r.autocomplete)autocomplete_options[attrname]=r.autocomplete[attrname];jQuery.Autocompleter!==undefined?(t(a.fake_input).autocomplete(r.autocomplete_url,r.autocomplete),t(a.fake_input).bind("result",a,function(e,n){n&&t("#"+i).addTag(n[0]+"",{focus:!0,unique:r.unique})})):jQuery.ui.autocomplete!==undefined&&(t(a.fake_input).autocomplete(autocomplete_options),t(a.fake_input).bind("autocompleteselect",a,function(e,n){return t(e.data.real_input).addTag(n.item.value,{focus:!0,unique:r.unique}),!1}))}else t(a.fake_input).bind("blur",a,function(e){var n=t(this).attr("data-default");return""!=t(e.data.fake_input).val()&&t(e.data.fake_input).val()!=n?e.data.minChars<=t(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=t(e.data.fake_input).val().length)&&t(e.data.real_input).addTag(t(e.data.fake_input).val(),{focus:!0,unique:r.unique}):(t(e.data.fake_input).val(t(e.data.fake_input).attr("data-default")),t(e.data.fake_input).css("color",r.placeholderColor)),!1});t(a.fake_input).bind("keypress",a,function(e){if(o(e))return e.preventDefault(),e.data.minChars<=t(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=t(e.data.fake_input).val().length)&&t(e.data.real_input).addTag(t(e.data.fake_input).val(),{focus:!0,unique:r.unique}),t(e.data.fake_input).resetAutosize(r),!1;e.data.autosize&&t(e.data.fake_input).doAutosize(r)}),a.removeWithBackspace&&t(a.fake_input).bind("keydown",function(e){if(8==e.keyCode&&""==t(this).val()){e.preventDefault();var n=t(this).closest(".tagsinput").find(".tag:last").text(),i=t(this).attr("id").replace(/_tag$/,"");n=n.replace(/[\s]+x$/,""),t("#"+i).removeTag(escape(n)),t(this).trigger("focus")}}),t(a.fake_input).blur(),a.unique&&t(a.fake_input).keydown(function(e){(8==e.keyCode||String.fromCharCode(e.which).match(/\w+|[\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1,/]+/))&&t(this).removeClass("not_valid")})}}}),this},t.fn.tagsInput.updateTagsField=function(n,i){var o=t(n).attr("id");t(n).val(i.join(e[o]))},t.fn.tagsInput.importTags=function(o,r){t(o).val("");var s=t(o).attr("id"),a=r.split(e[s]);for(i=0;i<a.length;i++)t(o).addTag(a[i],{focus:!1,callback:!1});n[s]&&n[s].onChange&&n[s].onChange.call(o,o,a[i])};var o=function(e){var n=!1;return 13==e.which||("string"==typeof e.data.delimiter?e.which==e.data.delimiter.charCodeAt(0)&&(n=!0):t.each(e.data.delimiter,function(t,i){e.which==i.charCodeAt(0)&&(n=!0)}),n)}}(jQuery),function(t){if("function"==typeof define&&define.amd)define(t);else if("object"==typeof exports)module.exports=t();else{var e=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=e,n}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(n){function i(e,o,r){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(r=t({path:"/"},i.defaults,r)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(p){}return o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",o,r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}e||(s={});for(var l=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,u=0;u<l.length;u++){var d=l[u].split("="),h=d.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var f=d[0].replace(c,decodeURIComponent);if(h=n.read?n.read(h,f):n(h,f)||h.replace(c,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(p){}if(e===f){s=h;break}e||(s[f]=h)}catch(p){}}return s}}return i.set=i,i.get=function(t){return i.call(i,t)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,n){i(e,"",t(n,{expires:-1}))},i.withConverter=e,i}return e(function(){})}),function(t){"use strict";t.ajaxPrefilter(function(t){if(t.iframe)return"iframe"}),t.ajaxTransport("iframe",function(e,n,i){function o(){u.each(function(e){t(this).replaceWith(c[e]),u.splice(e,1)}),s.remove(),a.bind("load",function(){a.remove()}),a.attr("src","about:blank")}var r,s=null,a=null,l="iframe-"+t.now(),c=t(e.files).filter(":file:enabled"),u=null;if(e.dataTypes.shift(),c.length)return s=t("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:e.url,target:l}),"string"==typeof e.data&&e.data.length>0&&t.error("data must not be serialized"),t.each(e.data||{},function(e,n){t.isPlainObject(n)&&(e=n.name,n=n.value),t("<input type='hidden' />").attr({name:e,value:n}).appendTo(s)}),t("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(s),r=e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", */*; q=0.01":""):e.accepts["*"],t("<input type='hidden' name='X-Http-Accept'>").attr("value",r).appendTo(s),u=c.after(function(){return t(this).clone().prop("disabled",!0)}).next(),c.appendTo(s),{send:function(e,n){(a=t("<iframe src='about:blank' name='"+l+"' id='"+l+"' style='display:none'></iframe>")).bind("load",function(){a.unbind("load").bind("load",function(){var t=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,e=t.documentElement?t.documentElement:t.body,r=e.getElementsByTagName("textarea")[0],s=r&&r.getAttribute("data-type")||null,a=r&&r.getAttribute("data-status")||200,l=r&&r.getAttribute("data-statusText")||"OK",c={html:e.innerHTML,text:s?r.value:e?e.textContent||e.innerText:null};o(),i.responseText||(i.responseText=c.text),n(a,l,c,s?"Content-Type: "+s:null)}),s[0].submit()}),t("body").append(s,a)},abort:function(){null!==a&&(a.unbind("load").attr("src","javascript:false;"),o())}}})}(jQuery),function(t){var e;t.remotipart=e={setup:function(n){var i=n.data("ujs:submit-button"),o=t('meta[name="csrf-param"]').attr("content"),r=t('meta[name="csrf-token"]').attr("content"),s=n.find('input[name="'+o+'"]').length;n.one("ajax:beforeSend.remotipart",function(a,l,c){return delete c.beforeSend,c.iframe=!0,c.files=t(t.rails.fileInputSelector,n),c.data=n.serializeArray(),i&&c.data.push(i),c.files.each(function(t,e){for(var n=c.data.length-1;n>=0;n--)c.data[n].name==e.name&&c.data.splice(n,1)}),c.processData=!1,c.dataType===undefined&&(c.dataType="script *"),c.data.push({name:"remotipart_submitted",value:!0}),r&&o&&!s&&c.data.push({name:o,value:r}),t.rails.fire(n,"ajax:remotipartSubmit",[l,c])&&(t.rails.ajax(c).complete(function(e){t.rails.fire(n,"ajax:remotipartComplete",[e])}),setTimeout(function(){t.rails.disableFormElements(n)},20)),e.teardown(n),!1}).data("remotipartSubmitted",!0)},teardown:function(t){t.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},t(document).on("ajax:aborted:file","form",function(){var n=t(this);return e.setup(n),t.rails.handleRemote(n),!1})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(){var e,n,i={height:c.innerHeight,width:c.innerWidth};return i.height||!(e=l.compatMode)&&t.support.boxModel||(i={height:(n="CSS1Compat"===e?u:l.body).clientHeight,width:n.clientWidth}),i}function n(){return{top:c.pageYOffset||u.scrollTop||l.body.scrollTop,left:c.pageXOffset||u.scrollLeft||l.body.scrollLeft}}function i(){if(a.length){var i=0,s=t.map(a,function(t){var e=t.data.selector,n=t.$element;return e?n.find(e):n});for(o=o||e(),r=r||n();i<a.length;i++)if(t.contains(u,s[i][0])){var l=t(s[i]),c={height:l[0].offsetHeight,width:l[0].offsetWidth},d=l.offset(),h=l.data("inview");if(!r||!o)return;var f=d.top-(l.data("inview-offset")||0);f+c.height>r.top&&f<r.top+o.height&&d.left+c.width>r.left&&d.left<r.left+o.width?h||l.data("inview",!0).trigger("inview",[!0]):h&&l.data("inview",!1).trigger("inview",[!1])}}}var o,r,s,a=[],l=document,c=window,u=l.documentElement;t.event.special.inview={add:function(e){a.push({data:e,$element:t(this),element:this}),!s&&a.length&&(s=setInterval(i,250))},remove:function(t){for(var e=0;e<a.length;e++){var n=a[e];if(n.element===this&&n.data.guid===t.guid){a.splice(e,1);break}}a.length||(clearInterval(s),s=null)}},t(c).bind("scroll resize scrollstop",function(){o=r=null}),!u.addEventListener&&u.attachEvent&&u.attachEvent("onfocusin",function(){r=null})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?t(require("jquery")):t(jQuery)}(function(t){function e(){var e=r.settings;if(e.autoDispose&&!t.contains(document.documentElement,this))return t(this).timeago("dispose"),this;var s=n(this);return isNaN(s.datetime)||(0===e.cutoff||Math.abs(o(s.datetime))<e.cutoff?t(this).text(i(s.datetime)):t(this).attr("title").length>0&&t(this).text(t(this).attr("title"))),this}function n(e){if(!(e=t(e)).data("timeago")){e.data("timeago",{datetime:r.datetime(e)});var n=t.trim(e.text());r.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(n.length>0)||r.isTime(e)&&e.attr("title")||e.attr("title",n)}return e.data("timeago")}function i(t){return r.inWords(o(t))}function o(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return e instanceof Date?i(e):i("string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var r=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function n(n,o){var r=t.isFunction(n)?n(o,e):n,s=i.numbers&&i.numbers[o]||o;return r.replace(/%d/i,s)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var i=this.settings.strings,o=i.prefixAgo,r=i.suffixAgo;if(this.settings.allowFuture&&e<0&&(o=i.prefixFromNow,r=i.suffixFromNow),!this.settings.allowPast&&e>=0)return this.settings.strings.inPast;var s=Math.abs(e)/1e3,a=s/60,l=a/60,c=l/24,u=c/365,d=s<45&&n(i.seconds,Math.round(s))||s<90&&n(i.minute,1)||a<45&&n(i.minutes,Math.round(a))||a<90&&n(i.hour,1)||l<24&&n(i.hours,Math.round(l))||l<42&&n(i.day,1)||c<30&&n(i.days,Math.round(c))||c<45&&n(i.month,1)||c<365&&n(i.months,Math.round(c/30))||u<1.5&&n(i.year,1)||n(i.years,Math.round(u)),h=i.wordSeparator||"";return i.wordSeparator===undefined&&(h=" "),t.trim([o,d,r].join(h))},parse:function(e){var n=t.trim(e);return n=(n=(n=(n=(n=n.replace(/\.\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2")).replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(e){var n=r.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return r.parse(n)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var s={init:function(){var n=t.proxy(e,this);n();var i=r.settings;i.refreshMillis>0&&(this._timeagoInterval=setInterval(n,i.refreshMillis))},update:function(n){var i=n instanceof Date?n:r.parse(n);t(this).data("timeago",{datetime:i}),r.settings.localeTitle&&t(this).attr("title",i.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:r.parse(r.isTime(this)?t(this).attr("datetime"):t(this).attr("title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var n=t?s[t]:s.init;if(!n)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){n.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")}),("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)})(["jquery"],function(t){return function(){function e(t,e,n){return p({type:w.error,iconClass:m().iconClasses.error,message:t,optionsOverride:n,title:e})}function n(e,n){return e||(e=m()),(v=t("#"+e.containerId)).length?v:(n&&(v=d(e)),v)}function i(t,e,n){return p({type:w.info,iconClass:m().iconClasses.info,message:t,optionsOverride:n,title:e})}function o(t){y=t}function r(t,e,n){return p({type:w.success,iconClass:m().iconClasses.success,message:t,optionsOverride:n,title:e})}function s(t,e,n){return p({type:w.warning,iconClass:m().iconClasses.warning,message:t,optionsOverride:n,title:e})}function a(t,e){var i=m();v||n(i),u(t,i,e)||c(i)}function l(e){var i=m();v||n(i),e&&0===t(":focus",e).length?g(e):v.children().length&&v.remove()}function c(e){for(var n=v.children(),i=n.length-1;i>=0;i--)u(t(n[i]),e)}function u(e,n,i){var o=!(!i||!i.force)&&i.force;return!(!e||!o&&0!==t(":focus",e).length||(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){g(e)}}),0))}function d(e){return(v=t("<div/>").attr("id",e.containerId).addClass(e.positionClass)).appendTo(t(e.target)),v}function h(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:undefined,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:undefined,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function f(t){y&&y(t)}function p(e){function i(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(){l(),u(),d(),h(),p(),y(),c(),r()}function r(){var t="";switch(e.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}I.attr("aria-live",t)}function s(){E.closeOnHover&&I.hover(S,C),!E.onclick&&E.tapToDismiss&&I.click(k),E.closeButton&&P&&P.click(function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble!==undefined&&!0!==t.cancelBubble&&(t.cancelBubble=!0),E.onCloseClick&&E.onCloseClick(t),k(!0)}),E.onclick&&I.click(function(t){E.onclick(t),k()})}function a(){I.hide(),I[E.showMethod]({duration:E.showDuration,easing:E.showEasing,complete:E.onShown}),E.timeOut>0&&(A=setTimeout(k,E.timeOut),M.maxHideTime=parseFloat(E.timeOut),M.hideEta=(new Date).getTime()+M.maxHideTime,E.progressBar&&(M.intervalId=setInterval(x,10)))}function l(){e.iconClass&&I.addClass(E.toastClass).addClass(T)}function c(){E.newestOnTop?v.prepend(I):v.append(I)}function u(){if(e.title){var t=e.title;E.escapeHtml&&(t=i(e.title)),D.append(t).addClass(E.titleClass),I.append(D)}}function d(){if(e.message){var t=e.message;E.escapeHtml&&(t=i(e.message)),L.append(t).addClass(E.messageClass),I.append(L)}}function h(){E.closeButton&&(P.addClass(E.closeClass).attr("role","button"),I.prepend(P))}function p(){E.progressBar&&(R.addClass(E.progressClass),I.prepend(R))}function y(){E.rtl&&I.addClass("rtl")}function w(t,e){if(t.preventDuplicates){if(e.message===b)return!0;b=e.message}return!1}function k(e){var n=e&&!1!==E.closeMethod?E.closeMethod:E.hideMethod,i=e&&!1!==E.closeDuration?E.closeDuration:E.hideDuration,o=e&&!1!==E.closeEasing?E.closeEasing:E.hideEasing;if(!t(":focus",I).length||e)return clearTimeout(M.intervalId),I[n]({duration:i,easing:o,complete:function(){g(I),clearTimeout(A),E.onHidden&&"hidden"!==N.state&&E.onHidden(),N.state="hidden",N.endTime=new Date,f(N)}})}function C(){(E.timeOut>0||E.extendedTimeOut>0)&&(A=setTimeout(k,E.extendedTimeOut),M.maxHideTime=parseFloat(E.extendedTimeOut),M.hideEta=(new Date).getTime()+M.maxHideTime)}function S(){clearTimeout(A),M.hideEta=0,I.stop(!0,!0)[E.showMethod]({duration:E.showDuration,easing:E.showEasing})}function x(){var t=(M.hideEta-(new Date).getTime())/M.maxHideTime*100;R.width(t+"%")}var E=m(),T=e.iconClass||E.iconClass;if("undefined"!=typeof e.optionsOverride&&(E=t.extend(E,e.optionsOverride),T=e.optionsOverride.iconClass||T),!w(E,e)){_++,v=n(E,!0);var A=null,I=t("<div/>"),D=t("<div/>"),L=t("<div/>"),R=t("<div/>"),P=t(E.closeHtml),M={intervalId:null,hideEta:null,maxHideTime:null},N={toastId:_,state:"visible",startTime:new Date,options:E,map:e};return o(),a(),s(),f(N),E.debug&&console&&console.log(N),I}}function m(){return t.extend({},h(),k.options)}function g(t){v||(v=n()),t.is(":visible")||(t.remove(),t=null,0===v.children().length&&(v.remove(),b=undefined))}var v,y,b,_=0,w={error:"error",info:"info",success:"success",warning:"warning"},k={clear:a,remove:l,error:e,getContainer:n,info:i,options:{},subscribe:o,success:r,version:"2.1.3",warning:s};return k}()}),function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return t.Bloodhound=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,o){if(!(i=n.call(null,o,t,e)))return!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,o){if(i=n.call(null,o,t,e))return!1}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,o;return function(){var r,s,a=this,l=arguments;return r=function(){i=null,n||(o=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(r,e),s&&(o=t.apply(a,l)),o}},throttle:function(t,e){var n,i,o,r,s,a;return s=0,a=function(){s=new Date,o=null,r=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,c<=0?(clearTimeout(o),o=null,s=l,r=t.apply(n,i)):o||(o=setTimeout(a,c)),r}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function n(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var o=[];return e.each(n,function(n){o=o.concat(t(e.toStr(i[n])))}),o}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),o=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function o(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new o(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),r=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||a,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function o(t){return JSON.stringify(e.isUndefined(t)?null:t)}function r(e){return t.parseJSON(e)}function s(t){var e,n,i=[],o=a.length;for(e=0;e<o;e++)(n=a.key(e)).match(t)&&i.push(n.replace(t,""));return i}var a;try{(a=window.localStorage).setItem("~~~","!"),a.removeItem("~~~")}catch(l){a=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(l){"QuotaExceededError"===l.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),r(this.ls.getItem(this._prefix(t)))},set:function(t,n,r){return e.isNumber(r)?this._safeSet(this._ttlKey(t),o(i()+r)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),o(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher)
;for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=r(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(n)&&i()>n)}}),n}(),s=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new o(0):a}var i=0,r={},s=6,a=new o(10);return n.setMaxPendingRequests=function(t){s=t},n.resetCache=function(){a.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),u._cache.set(l,t)}function o(){e(!0)}function a(){i--,delete r[l],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var l,c,u=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((c=r[l])?c.done(n).fail(o):i<s?(i++,r[l]=this._send(t).done(n).fail(o).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var o,r;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},r=this._fingerprint(n),this.cancelled=!1,this.lastReq=r,(o=this._cache.get(r))?i(null,o):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),a=window.SearchIndex=function(){"use strict";function n(n){(n=n||{}).datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function o(){var t={};return t[l]=[],t[a]={},t}function r(t){for(var e={},n=[],i=0,o=t.length;i<o;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){var n=0,i=0,o=[];t=t.sort(),e=e.sort();for(var r=t.length,s=e.length;n<r&&i<s;)t[n]<e[i]?n++:t[n]>e[i]?i++:(o.push(t[n]),n++,i++);return o}var a="c",l="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var r,s;n.datums[r=n.identify(t)]=t,s=i(n.datumTokenizer(t)),e.each(s,function(t){var e,i,s;for(e=n.trie,i=t.split("");s=i.shift();)(e=e[a][s]||(e[a][s]=o()))[l].push(r)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,o,c=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,r;if(o&&0===o.length)return!1;for(e=c.trie,n=t.split("");e&&(i=n.shift());)e=e[a][i];if(!e||0!==n.length)return o=[],!1;r=e[l].slice(0),o=o?s(o,r):r}),o?e.map(r(o),function(t){return c.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=o()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new r(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,o.transform(e))}var i,o=this;t&&(i=this.prepare(this._settings()),this.transport(i).fail(e).done(n))},clear:function(){return this.storage.clear(),this}}),t}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function n(t,n){e(t?[]:o.transform(n))}var i,o=this;if(e)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,n)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";function i(i){var o;return i?(o={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,!(i=e.mixin(o,i)).url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?a(i.transport):t.ajax,i):null}function o(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,!(n=e.mixin(i,n)).url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=r(n),n.limiter=s(n),n.transport=n.transport?a(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function r(t){function e(t,e){return e.url=r(e.url,t),e}function n(t,e){return e.url=e.url.replace(s,encodeURIComponent(t)),e}function i(t,e){return e}var o,r,s;return o=t.prepare,r=t.replace,s=t.wildcard,o||(o=r?e:t.wildcard?n:i)}function s(t){function n(t){return function(n){return e.debounce(n,t)}}function i(t){return function(n){return e.throttle(n,t)}}var o,r,s;return o=t.limiter,r=t.rateLimitBy,s=t.rateLimitWait,o||(o=/^throttle$/i.test(r)?i(s):n(s)),o}function a(n){return function(i){function o(t){e.defer(function(){s.resolve(t)})}function r(t){e.defer(function(){s.reject(t)})}var s=t.Deferred();return n(i,o,r),s}}return function(n){var r,s;return r={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(n=e.mixin(r,n||{})).datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(t){return t.sort(s)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=o(n.remote),n}}();return function(){"use strict";function n(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var o;return o=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=o),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){function t(t,e,i){return n.search(t,e,i)}function e(t,e){return n.search(t,e)}var n=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){if(t)return n.reject();o.add(e),o.prefetch.store(o.index.serialize()),n.resolve()}var n,i,o=this;return n=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){function o(t){var n=[];e.each(t,function(t){!e.some(r,function(e){return s.identify(t)===s.identify(e)})&&n.push(t)}),i&&i(n)}var r,s=this;return r=this.sorter(this.index.search(t)),n(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,o):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}()}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,o){if(!(i=n.call(null,o,t,e)))return!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,o){if(i=n.call(null,o,t,e))return!1}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,o;return function(){var r,s,a=this,l=arguments;return r=function(){i=null,n||(o=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(r,e),s&&(o=t.apply(a,l)),o}},throttle:function(t,e){var n,i,o,r,s,a;return s=0,a=function(){s=new Date,o=null,r=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,c<=0?(clearTimeout(o),o=null,s=l,r=t.apply(n,i)):o||(o=setTimeout(a,c)),r}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){var s,a;return a=e.mixin({},r,t),{css:(s={css:o(),classes:a,html:n(a),selectors:i(a)}).css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function i(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function o(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,o;return i="typeahead:",o={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var o;return o=t.Event(i+e),(n=n||[]).unshift(o),this.$el.trigger.apply(this.$el,n),o},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=o[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),o=function(){"use strict";function t(t,e,n,i){var o;if(!n)return this;for(e=e.split(l),n=i?a(n,i):n,this._callbacks=this._callbacks||{};o=e.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function o(t){var e,n,i,o,s;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)o=r(n.sync,this,[e].concat(i)),s=r(n.async,this,[e].concat(i)),o()&&c(s);return this}function r(t,e,n){function i(){for(var i,o=0,r=t.length;!i&&o<r;o+=1)i=!1===t[o].apply(e,n);return!i}return i}function s(){return window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,c=s();return{onSync:n,onAsync:e,off:i,trigger:o}}(),r=function(t){"use strict";function n(t,n,i){for(var o,r=[],s=0,a=t.length;s<a;s++)r.push(e.escapeRegExChars(t[s]));return o=i?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",n?new RegExp(o):new RegExp(o,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(o){function r(e){var n,i,r;return(n=a.exec(e.data))&&(r=t.createElement(o.tagName),o.className&&(r.className=o.className),(i=e.splitText(n.index)).splitText(n[0].length),r.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(r,i)),!!n}function s(t,e){for(var n,i=3,o=0;o<t.childNodes.length;o++)(n=t.childNodes[o]).nodeType===i?o+=e(n)?1:0:s(n,e)}var a;(o=e.mixin({},i,o)).node&&o.pattern&&(o.pattern=e.isArray(o.pattern)?o.pattern:[o.pattern],a=n(o.pattern,o.caseSensitive,o.wordsOnly),s(o.node,r))}}(window.document),s=function(){"use strict";function n(n,o){(n=n||{}).input||t.error("input is missing"),o.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,o,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!s(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!s(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;i=!!(n=r(t,this.query))&&this.query.length!==t.length,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,o,r=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),o=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",o):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(r._onInput,r,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||((i=document.selection.createRange()).moveStart("character",-t),t===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),a=function(){"use strict";function n(n,o){(n=n||{}).templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!a(n.name)&&t.error("invalid dataset name: "+n.name),o.mixin(this),this.highlight=!!n.highlight,this.name=n.name||c(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){function n(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:n}function s(n,i){function o(e){return t("<div>").text(i(e))}return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||o}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},e.mixin(n.prototype,o,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var o,s=this;return o=document.createDocumentFragment(),e.each(i,function(e){var i,r;r=s._injectQuery(n,e),i=t(s.templates.suggestion(r)).data(l.obj,e).data(l.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),o.appendChild(i[0])}),this.highlight&&r({className:this.classes.highlight,node:o,pattern:n}),t(o)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){s||(s=!0,t=(t||[]).slice(0,o.limit),a=t.length,o._overwrite(e,t),a<o.limit&&o.async&&o.trigger("asyncRequested",e))}function i(n){n=n||[],!r&&a<o.limit&&(o.cancel=t.noop,o._append(e,n.slice(0,o.limit-a)),a+=n.length,o.async&&o.trigger("asyncReceived",e))}var o=this,r=!1,s=!1,a=0;this.cancel(),this.cancel=function(){r=!0,o.cancel=t.noop,o.async&&o.trigger("asyncCanceled",e)},this.source(e,n,i),!s&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,i){function o(e){var n=r.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(r.$node),new a(e,i)}var r=this;(n=n||{}).node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,o)}return e.mixin(n.prototype,o,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,o;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),o=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(i+e):o<n&&this.$node.scrollTop(i+(n-o))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i;return n=this.getActiveSelectable(),e=this._getSelectables(),-1===(i=(i=((i=(n?e.index(n):-1)+t)+1)%(e.length+1)-1)<-1?e.length-1:i)?null:e.eq(i)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function n(e){e.update(t)}var i=t!==this.query;return i&&(this.query=t,e.each(this.datasets,n)),i},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,n)}}),n}(),c=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),u=function(){"use strict";function n(n,o){var r,s,a,l,c,u,d,h,f,p,m;(n=n||{}).input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),o.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),r=i(this,"activate","open","_onFocused"),s=i(this,"deactivate","_onBlurred"),a=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),c=i(this,"isActive","_onEscKeyed"),u=i(this,"isActive","open","_onUpKeyed"),d=i(this,"isActive","open","_onDownKeyed"),h=i(this,"isActive","isOpen","_onLeftKeyed"),f=i(this,"isActive","isOpen","_onRightKeyed"),p=i(this,"_openIfActive","_onQueryChanged"),m=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",r,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",d,this).onSync("leftKeyed",h,this).onSync("rightKeyed",f,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var o,r,s;o=document.activeElement,r=i.is(o),s=i.has(o).length>0,e.isMsie()&&(r||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=e.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,n,i,o,r,a;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(o=s.normalizeQuery(i),r=e.escapeRegExChars(o),(a=new RegExp("^(?:"+r+")(.+$)","i").exec(n.val))&&this.input.setHint(i+a[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,n;return e=this.input.getQuery(),!(!((n=this.menu.getSelectableData(t))&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(t){var e,n,i,o;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),o=(i=this.menu.getSelectableData(n))?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",o)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",o),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function o(e,n){e.each(function(){var e,i=t(this);(e=i.data(m.typeahead))&&n(e,i)})}function r(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(d(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(m.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(n){}return t}function d(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function h(t){var n,i;n=t.data(m.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(m.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function f(n){var i
;return(i=e.isJQuery(n)||e.isElement(n)?t(n).first():[]).length?i:null}var p,m,g;p=t.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},g={initialize:function(o,d){function h(){var n,h,g,v,y,b,_,w,k,C,S;e.each(d,function(t){t.highlight=!!o.highlight}),n=t(this),h=t(p.html.wrapper),g=f(o.hint),v=f(o.menu),y=!1!==o.hint&&!g,b=!1!==o.menu&&!v,y&&(g=r(n,p)),b&&(v=t(p.html.menu).css(p.css.menu)),g&&g.val(""),n=a(n,p),(y||b)&&(h.css(p.css.wrapper),n.css(y?p.css.input:p.css.inputWithNoHint),n.wrap(h).parent().prepend(y?g:null).append(b?v:null)),S=b?c:l,_=new i({el:n}),w=new s({hint:g,input:n},p),k=new S({node:v,datasets:d},p),C=new u({input:w,menu:k,eventBus:_,minLength:o.minLength},p),n.data(m.www,p),n.data(m.typeahead,C)}var p;return d=e.isArray(d)?d:[].slice.call(arguments,1),p=n((o=o||{}).classNames),this.each(h)},isEnabled:function(){var t;return o(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return o(this,function(t){t.enable()}),this},disable:function(){return o(this,function(t){t.disable()}),this},isActive:function(){var t;return o(this.first(),function(e){t=e.isActive()}),t},activate:function(){return o(this,function(t){t.activate()}),this},deactivate:function(){return o(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return o(this.first(),function(e){t=e.isOpen()}),t},open:function(){return o(this,function(t){t.open()}),this},close:function(){return o(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return o(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return o(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return o(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(o(this,function(e){e.setVal(t)}),this):(o(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return o(this,function(t,e){h(e),t.destroy()}),this}},t.fn.typeahead=function(t){return g[t]?g[t].apply(this,[].slice.call(arguments,1)):g.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=p,this}}()}),window.StickersModule={},window.StickersModule.Libs={},function(t){var e=function(){function t(t,e){for(var n in e)if("extend"!==n&&"static"!==n&&"typeOf"!==n&&"mixin"!==n){if("object"==typeof e[n]||"function"==typeof e[n])return void(t[n]=e[n]);n===n.toUpperCase()?(Object.defineProperty(t,n,{writable:!1,configurable:!1,enumerable:!0,value:e[n]}),Object.defineProperty(t.prototype,n,{writable:!1,configurable:!1,enumerable:!0,value:e[n]})):(Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t}}),Object.defineProperty(t.prototype,n,{get:function(){return e[n]},set:function(t){e[n]=t}}))}}function e(t,e,n){for(var i in n=n||!1,e)"_constructor"===i&&!n||"typeOf"===i||"mixin"===i||"static"===i||"extend"===i||(t[i]=e[i])}return function(n){var i=!1;return function o(n,r){var s,a=[],l=r.hasOwnProperty("singleton")&&r.singleton,c=function(){if("function"==typeof this._constructor&&!1===i&&this._constructor.apply(this,arguments),r.hasOwnProperty("get"))for(var t in r.get){null===("set"in r&&t in r.set?r.set[t]:null)&&Object.defineProperty(this,t,{get:r.get[t]})}if(r.hasOwnProperty("set"))for(var t in r.set){null!==("get"in r&&t in r.get?r.get[t]:null)?Object.defineProperty(this,t,{set:r.set[t],get:r.get[t]}):Object.defineProperty(this,t,{set:r.set[t]})}if(l&&void 0!==this)throw new Error("Singleton object cannot have more than one instance, call instance method instead");this.constructor=c};null!==n&&(i=!0,c.prototype=new n,i=!1);var u=c.prototype;return u.typeOf=function(t){if("object"==typeof t)return a.indexOf(t)>=0;if("function"==typeof t){if(this instanceof t)return!0;if(a.indexOf(t)>=0)return!0}return!1},"function"==typeof r&&(r=r()),e(u,r,!0),c["static"]=function(e){return t(c,e),c},c.mixin=function(){for(var t=0,n=arguments.length;t<n;t++){var i=arguments[t];if("function"==typeof i)var o=i.prototype;else{if("object"!=typeof i)throw new Error("js.class mixin method accepts only types: object, function - `"+typeof i+"` type given");o=i}e(u,o,!1),a.push(i)}return c},l?(c.extend=function(){throw new Error("Singleton class cannot be extended")},c.instance=function(){return s||(l=!1,s=new c,l=!0),s}):c.extend=function(t){return o(this,t)},c}(null,n)}}();"undefined"!=typeof module?module.exports=e:t.Libs.Class=e}(window.StickersModule),window.StickersModule.Libs.MD5=function(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,i,o,r,s;return o=2147483648&t,r=2147483648&e,s=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(i=1073741824&e)?2147483648^s^o^r:n|i?1073741824&s?3221225472^s^o^r:1073741824^s^o^r:s^o^r}function i(t,e,n){return t&e|~t&n}function o(t,e,n){return t&n|e&~n}function r(t,e,n){return t^e^n}function s(t,e,n){return e^(t|~n)}function a(t,o,r,s,a,l,c){return n(e(t=n(t,n(n(i(o,r,s),a),c)),l),o)}function l(t,i,r,s,a,l,c){return n(e(t=n(t,n(n(o(i,r,s),a),c)),l),i)}function c(t,i,o,s,a,l,c){return n(e(t=n(t,n(n(r(i,o,s),a),c)),l),i)}function u(t,i,o,r,a,l,c){return n(e(t=n(t,n(n(s(i,o,r),a),c)),l),i)}function d(t){for(var e,n=t.length,i=n+8,o=16*((i-i%64)/64+1),r=Array(o-1),s=0,a=0;a<n;)s=a%4*8,r[e=(a-a%4)/4]=r[e]|t.charCodeAt(a)<<s,a++;return s=a%4*8,r[e=(a-a%4)/4]=r[e]|128<<s,r[o-2]=n<<3,r[o-1]=n>>>29,r}function h(t){var e,n="",i="";for(e=0;e<=3;e++)n+=(i="0"+(t>>>8*e&255).toString(16)).substr(i.length-2,2);return n}function f(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e}t=t.toString();var p,m,g,v,y,b,_,w,k,C=Array(),S=7,x=12,E=17,T=22,A=5,I=9,D=14,L=20,R=4,P=11,M=16,N=23,O=6,j=10,F=15,$=21;for(C=d(t=f(t)),b=1732584193,_=4023233417,w=2562383102,k=271733878,p=0;p<C.length;p+=16)m=b,g=_,v=w,y=k,_=u(_=u(_=u(_=u(_=c(_=c(_=c(_=c(_=l(_=l(_=l(_=l(_=a(_=a(_=a(_=a(_,w=a(w,k=a(k,b=a(b,_,w,k,C[p+0],S,3614090360),_,w,C[p+1],x,3905402710),b,_,C[p+2],E,606105819),k,b,C[p+3],T,3250441966),w=a(w,k=a(k,b=a(b,_,w,k,C[p+4],S,4118548399),_,w,C[p+5],x,1200080426),b,_,C[p+6],E,2821735955),k,b,C[p+7],T,4249261313),w=a(w,k=a(k,b=a(b,_,w,k,C[p+8],S,1770035416),_,w,C[p+9],x,2336552879),b,_,C[p+10],E,4294925233),k,b,C[p+11],T,2304563134),w=a(w,k=a(k,b=a(b,_,w,k,C[p+12],S,1804603682),_,w,C[p+13],x,4254626195),b,_,C[p+14],E,2792965006),k,b,C[p+15],T,1236535329),w=l(w,k=l(k,b=l(b,_,w,k,C[p+1],A,4129170786),_,w,C[p+6],I,3225465664),b,_,C[p+11],D,643717713),k,b,C[p+0],L,3921069994),w=l(w,k=l(k,b=l(b,_,w,k,C[p+5],A,3593408605),_,w,C[p+10],I,38016083),b,_,C[p+15],D,3634488961),k,b,C[p+4],L,3889429448),w=l(w,k=l(k,b=l(b,_,w,k,C[p+9],A,568446438),_,w,C[p+14],I,3275163606),b,_,C[p+3],D,4107603335),k,b,C[p+8],L,1163531501),w=l(w,k=l(k,b=l(b,_,w,k,C[p+13],A,2850285829),_,w,C[p+2],I,4243563512),b,_,C[p+7],D,1735328473),k,b,C[p+12],L,2368359562),w=c(w,k=c(k,b=c(b,_,w,k,C[p+5],R,4294588738),_,w,C[p+8],P,2272392833),b,_,C[p+11],M,1839030562),k,b,C[p+14],N,4259657740),w=c(w,k=c(k,b=c(b,_,w,k,C[p+1],R,2763975236),_,w,C[p+4],P,1272893353),b,_,C[p+7],M,4139469664),k,b,C[p+10],N,3200236656),w=c(w,k=c(k,b=c(b,_,w,k,C[p+13],R,681279174),_,w,C[p+0],P,3936430074),b,_,C[p+3],M,3572445317),k,b,C[p+6],N,76029189),w=c(w,k=c(k,b=c(b,_,w,k,C[p+9],R,3654602809),_,w,C[p+12],P,3873151461),b,_,C[p+15],M,530742520),k,b,C[p+2],N,3299628645),w=u(w,k=u(k,b=u(b,_,w,k,C[p+0],O,4096336452),_,w,C[p+7],j,1126891415),b,_,C[p+14],F,2878612391),k,b,C[p+5],$,4237533241),w=u(w,k=u(k,b=u(b,_,w,k,C[p+12],O,1700485571),_,w,C[p+3],j,2399980690),b,_,C[p+10],F,4293915773),k,b,C[p+1],$,2240044497),w=u(w,k=u(k,b=u(b,_,w,k,C[p+8],O,1873313359),_,w,C[p+15],j,4264355552),b,_,C[p+6],F,2734768916),k,b,C[p+13],$,1309151649),w=u(w,k=u(k,b=u(b,_,w,k,C[p+4],O,4149444226),_,w,C[p+11],j,3174756917),b,_,C[p+2],F,718787259),k,b,C[p+9],$,3951481745),b=n(b,m),_=n(_,g),w=n(w,v),k=n(k,y);return(h(b)+h(_)+h(w)+h(k)).toLowerCase()},function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n||t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t){"use strict";var e=t("../main");"function"==typeof define&&define.amd?define(e):window.StickersModule.Libs.PerfectScrollbar=e},{"../main":7}],2:[function(t,e,n){"use strict";function i(t,e){var n=t.className.split(" ");n.indexOf(e)<0&&n.push(e),t.className=n.join(" ")}function o(t,e){var n=t.className.split(" "),i=n.indexOf(e);i>=0&&n.splice(i,1),t.className=n.join(" ")}n.add=function(t,e){t.classList?t.classList.add(e):i(t,e)},n.remove=function(t,e){t.classList?t.classList.remove(e):o(t,e)},n.list=function(t){return t.classList?Array.prototype.slice.apply(t.classList):t.className.split(" ")}},{}],3:[function(t,e){"use strict";function n(t,e){return window.getComputedStyle(t)[e]}function i(t,e,n){return"number"==typeof n&&(n=n.toString()+"px"),t.style[e]=n,t}function o(t,e){for(var n in e){var i=e[n];"number"==typeof i&&(i=i.toString()+"px"),t.style[n]=i}return t}var r={e:function(t,e){var n=document.createElement(t);return n.className=e,n},appendTo:function(t,e){return e.appendChild(t),t},css:function(t,e,r){return"object"==typeof e?o(t,e):void 0===r?n(t,e):i(t,e,r)},matches:function(t,e){return"undefined"!=typeof t.matches?t.matches(e):"undefined"!=typeof t.matchesSelector?t.matchesSelector(e):"undefined"!=typeof t.webkitMatchesSelector?t.webkitMatchesSelector(e):"undefined"!=typeof t.mozMatchesSelector?t.mozMatchesSelector(e):"undefined"!=typeof t.msMatchesSelector?t.msMatchesSelector(e):void 0},remove:function(t){"undefined"!=typeof t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)},queryChildren:function(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return r.matches(t,e)})}};e.exports=r},{}],4:[function(t,e){"use strict";var n=function(t){this.element=t,this.events={}};n.prototype.bind=function(t,e){"undefined"==typeof this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},n.prototype.unbind=function(t,e){var n=void 0!==e;this.events[t]=this.events[t].filter(function(i){return!(!n||i===e)||(this.element.removeEventListener(t,i,!1),!1)},this)},n.prototype.unbindAll=function(){for(var t in this.events)this.unbind(t)};var i=function(){this.eventElements=[]};i.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return void 0===e&&(e=new n(t),this.eventElements.push(e)),e},i.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},i.prototype.unbind=function(t,e,n){this.eventElement(t).unbind(e,n)},i.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},i.prototype.once=function(t,e,n){var i=this.eventElement(t),o=function(t){i.unbind(e,o),n(t)};i.bind(e,o)},e.exports=i},{}],5:[function(t,e){"use strict";e.exports=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}()},{}],6:[function(t,e,n){"use strict";var i=t("./class"),o=t("./dom");n.toInt=function(t){return parseInt(t,10)||0},n.clone=function(t){if(null===t)return null;if("object"==typeof t){var e={};for(var n in t)e[n]=this.clone(t[n]);return e}return t},n.extend=function(t,e){var n=this.clone(t);for(var i in e)n[i]=this.clone(e[i]);return n},n.isEditable=function(t){return o.matches(t,"input,[contenteditable]")||o.matches(t,"select,[contenteditable]")||o.matches(t,"textarea,[contenteditable]")||o.matches(t,"button,[contenteditable]")},n.removePsClasses=function(t){for(var e=i.list(t),n=0;n<e.length;n++){var o=e[n];0===o.indexOf("ps-")&&i.remove(t,o)}},n.outerWidth=function(t){return this.toInt(o.css(t,"width"))+this.toInt(o.css(t,"paddingLeft"))+this.toInt(o.css(t,"paddingRight"))+this.toInt(o.css(t,"borderLeftWidth"))+this.toInt(o.css(t,"borderRightWidth"))},n.startScrolling=function(t,e){i.add(t,"ps-in-scrolling"),void 0!==e?i.add(t,"ps-"+e):(i.add(t,"ps-x"),i.add(t,"ps-y"))},n.stopScrolling=function(t,e){i.remove(t,"ps-in-scrolling"),void 0!==e?i.remove(t,"ps-"+e):(i.remove(t,"ps-x"),i.remove(t,"ps-y"))},n.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(t,e){"use strict";var n=t("./plugin/destroy"),i=t("./plugin/initialize"),o=t("./plugin/update");e.exports={initialize:i,update:o,destroy:n}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(t,e){"use strict";e.exports={maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,useKeyboard:!0,useSelectionScroll:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(t,e){"use strict";var n=t("../lib/dom"),i=t("../lib/helper"),o=t("./instances");e.exports=function(t){var e=o.get(t);e&&(e.event.unbindAll(),n.remove(e.scrollbarX),n.remove(e.scrollbarY),n.remove(e.scrollbarXRail),n.remove(e.scrollbarYRail),i.removePsClasses(t),o.remove(t))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(t,e){"use strict";function n(t,e){function n(t){return t.getBoundingClientRect()}var o=window.Event.prototype.stopPropagation.bind;e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarY,"click",o),e.event.bind(e.scrollbarYRail,"click",function(o){var a=i.toInt(e.scrollbarYHeight/2),l=e.railYRatio*(o.pageY-window.pageYOffset-n(e.scrollbarYRail).top-a)/(e.railYRatio*(e.railYHeight-e.scrollbarYHeight));l<0?l=0:l>1&&(l=1),s(t,"top",(e.contentHeight-e.containerHeight)*l),r(t),o.stopPropagation()}),e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarX,"click",o),e.event.bind(e.scrollbarXRail,"click",function(o){var a=i.toInt(e.scrollbarXWidth/2),l=e.railXRatio*(o.pageX-window.pageXOffset-n(e.scrollbarXRail).left-a)/(e.railXRatio*(e.railXWidth-e.scrollbarXWidth));l<0?l=0:l>1&&(l=1),s(t,"left",(e.contentWidth-e.containerWidth)*l-e.negativeScrollAdjustment),r(t),o.stopPropagation()})}var i=t("../../lib/helper"),o=t("../instances"),r=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){n(t,o.get(t))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(t,e){"use strict";function n(t,e){function n(n){var o=i+n*e.railXRatio,s=Math.max(0,e.scrollbarXRail.getBoundingClientRect().left)+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);e.scrollbarXLeft=o<0?0:o>s?s:o;var a=r.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;l(t,"left",a)}var i=null,s=null,c=function(e){n(e.pageX-s),a(t),e.stopPropagation(),e.preventDefault()},u=function(){r.stopScrolling(t,"x"),e.event.unbind(e.ownerDocument,"mousemove",c)};e.event.bind(e.scrollbarX,"mousedown",function(n){s=n.pageX,i=r.toInt(o.css(e.scrollbarX,"left"))*e.railXRatio,r.startScrolling(t,"x"),e.event.bind(e.ownerDocument,"mousemove",c),e.event.once(e.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}function i(t,e){function n(n){var o=i+n*e.railYRatio,s=Math.max(0,e.scrollbarYRail.getBoundingClientRect().top)+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);e.scrollbarYTop=o<0?0:o>s?s:o;var a=r.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));l(t,"top",a)}var i=null,s=null,c=function(e){n(e.pageY-s),a(t),e.stopPropagation(),e.preventDefault()},u=function(){r.stopScrolling(t,"y"),e.event.unbind(e.ownerDocument,"mousemove",c)};e.event.bind(e.scrollbarY,"mousedown",function(n){s=n.pageY,i=r.toInt(o.css(e.scrollbarY,"top"))*e.railYRatio,r.startScrolling(t,"y"),e.event.bind(e.ownerDocument,"mousemove",c),e.event.once(e.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}var o=t("../../lib/dom"),r=t("../../lib/helper"),s=t("../instances"),a=t("../update-geometry"),l=t("../update-scroll");e.exports=function(t){var e=s.get(t);n(t,e),i(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(t,e){"use strict";function n(t,e){function n(n,i){var o=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&i>0||o>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var r=t.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===r&&n<0||r>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}var r=!1;e.event.bind(t,"mouseenter",function(){r=!0}),e.event.bind(t,"mouseleave",function(){r=!1});e.event.bind(e.ownerDocument,"keydown",function(l){if(!l.isDefaultPrevented||!l.isDefaultPrevented()){var c=o.matches(e.scrollbarX,":focus")||o.matches(e.scrollbarY,":focus");if(r||c){var u=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(u){for(;u.shadowRoot;)u=u.shadowRoot.activeElement;if(i.isEditable(u))return}var d=0,h=0;switch(l.which){case 37:d=-30;break;case 38:h=30;break;case 39:d=30;break;case 40:h=-30;break;case 33:h=90;break;case 32:h=l.shiftKey?90:-90;break;case 34:h=-90;break;case 35:h=l.ctrlKey?-e.contentHeight:-e.containerHeight;break;case 36:h=l.ctrlKey?t.scrollTop:e.containerHeight;break;default:return}a(t,"top",t.scrollTop-h),a(t,"left",t.scrollLeft+d),s(t),n(d,h)&&l.preventDefault()}}})}var i=t("../../lib/helper"),o=t("../../lib/dom"),r=t("../instances"),s=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t){n(t,r.get(t))}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(t,e){"use strict";function n(t,e){function n(n,i){var o=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&i>0||o>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var r=t.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===r&&n<0||r>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}function i(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),[e,n]}function s(e,n){var i=t.querySelector("textarea:hover");if(i){var o=i.scrollHeight-i.clientHeight;if(o>0&&!(0===i.scrollTop&&n>0||i.scrollTop===o&&n<0))return!0;var r=i.scrollLeft-i.clientWidth;if(r>0&&!(0===i.scrollLeft&&e<0||i.scrollLeft===r&&e>0))return!0}return!1}function a(a){var c=i(a),u=c[0],d=c[1];s(u,d)||(l=!1,e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(r(t,"top",d?t.scrollTop-d*e.settings.wheelSpeed:t.scrollTop+u*e.settings.wheelSpeed),l=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(r(t,"left",u?t.scrollLeft+u*e.settings.wheelSpeed:t.scrollLeft-d*e.settings.wheelSpeed),l=!0):(r(t,"top",t.scrollTop-d*e.settings.wheelSpeed),r(t,"left",t.scrollLeft+u*e.settings.wheelSpeed)),o(t),(l=l||n(u,d))&&(a.stopPropagation(),a.preventDefault()))}var l=!1;"undefined"!=typeof window.onwheel?e.event.bind(t,"wheel",a):"undefined"!=typeof window.onmousewheel&&e.event.bind(t,"mousewheel",a)}var i=t("../instances"),o=t("../update-geometry"),r=t("../update-scroll");e.exports=function(t){n(t,i.get(t))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(t,e){"use strict";function n(t,e){e.event.bind(t,"scroll",function(){o(t)})}var i=t("../instances"),o=t("../update-geometry");e.exports=function(t){n(t,i.get(t))}},{"../instances":18,"../update-geometry":19}],15:[function(t,e){"use strict";function n(t,e){function n(){var t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===t.toString().length?null:t.getRangeAt(0).commonAncestorContainer}function a(){c||(c=setInterval(function(){o.get(t)?(s(t,"top",t.scrollTop+u.top),s(t,"left",t.scrollLeft+u.left),r(t)):clearInterval(c)},50))}function l(){c&&(clearInterval(c),c=null),i.stopScrolling(t)}var c=null,u={top:0,left:0},d=!1;e.event.bind(e.ownerDocument,"selectionchange",function(){t.contains(n())?d=!0:(d=!1,l())}),e.event.bind(window,"mouseup",function(){d&&(d=!1,l())}),e.event.bind(window,"mousemove",function(e){if(d){var n={x:e.pageX,y:e.pageY},o={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};n.x<o.left+3?(u.left=-5,i.startScrolling(t,"x")):n.x>o.right-3?(u.left=5,i.startScrolling(t,"x")):u.left=0,n.y<o.top+3?(o.top+3-n.y<5?u.top=-5:u.top=-20,i.startScrolling(t,"y")):n.y>o.bottom-3?(n.y-o.bottom+3<5?u.top=5:u.top=20,i.startScrolling(t,"y")):u.top=0,0===u.top&&0===u.left?l():a()}})}var i=t("../../lib/helper"),o=t("../instances"),r=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){n(t,o.get(t))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(t,e){"use strict";function n(t,e,n,s){function a(n,i){var o=t.scrollTop,r=t.scrollLeft,s=Math.abs(n),a=Math.abs(i);if(a>s){if(i<0&&o===e.contentHeight-e.containerHeight||i>0&&0===o)return!e.settings.swipePropagation}else if(s>a&&(n<0&&r===e.contentWidth-e.containerWidth||n>0&&0===r))return!e.settings.swipePropagation;return!0}function l(e,n){r(t,"top",t.scrollTop-n),r(t,"left",t.scrollLeft-e),o(t)}function c(){_=!0}function u(){_=!1}function d(t){return t.targetTouches?t.targetTouches[0]:t}function h(t){return!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)}function f(t){if(h(t)){w=!0;var e=d(t);g.pageX=e.pageX,g.pageY=e.pageY,v=(new Date).getTime(),null!==b&&clearInterval(b),t.stopPropagation()}}function p(t){if(!_&&w&&h(t)){var e=d(t),n={pageX:e.pageX,pageY:e.pageY},i=n.pageX-g.pageX,o=n.pageY-g.pageY;l(i,o),g=n;var r=(new Date).getTime(),s=r-v;s>0&&(y.x=i/s,y.y=o/s,v=r),a(i,o)&&(t.stopPropagation(),t.preventDefault())}}function m(){!_&&w&&(w=!1,clearInterval(b),b=setInterval(function(){i.get(t)?Math.abs(y.x)<.01&&Math.abs(y.y)<.01?clearInterval(b):(l(30*y.x,30*y.y),y.x*=.8,y.y*=.8):clearInterval(b)},10))}var g={},v=0,y={},b=null,_=!1,w=!1;n&&(e.event.bind(window,"touchstart",c),e.event.bind(window,"touchend",u),e.event.bind(t,"touchstart",f),e.event.bind(t,"touchmove",p),e.event.bind(t,"touchend",m)),s&&(window.PointerEvent?(e.event.bind(window,"pointerdown",c),e.event.bind(window,"pointerup",u),e.event.bind(t,"pointerdown",f),e.event.bind(t,"pointermove",p),e.event.bind(t,"pointerup",m)):window.MSPointerEvent&&(e.event.bind(window,"MSPointerDown",c),e.event.bind(window,"MSPointerUp",u),e.event.bind(t,"MSPointerDown",f),e.event.bind(t,"MSPointerMove",p),e.event.bind(t,"MSPointerUp",m)))}var i=t("../instances"),o=t("../update-geometry"),r=t("../update-scroll");e.exports=function(t,e,o){n(t,i.get(t),e,o)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(t,e){"use strict";var n=t("../lib/class"),i=t("../lib/helper"),o=t("./instances"),r=t("./update-geometry"),s=t("./handler/click-rail"),a=t("./handler/drag-scrollbar"),l=t("./handler/keyboard"),c=t("./handler/mouse-wheel"),u=t("./handler/native-scroll"),d=t("./handler/selection"),h=t("./handler/touch");e.exports=function(t,e){e="object"==typeof e?e:{},n.add(t,"ps-container");var f=o.add(t);f.settings=i.extend(f.settings,e),n.add(t,"ps-theme-"+f.settings.theme),s(t),a(t),c(t),u(t),f.settings.useSelectionScroll&&d(t),(i.env.supportsTouch||i.env.supportsIePointer)&&h(t,i.env.supportsTouch,i.env.supportsIePointer),f.settings.useKeyboard&&l(t),r(t)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(t,e,n){"use strict";function i(t){function e(){a.add(t,"ps-focus")}function n(){a.remove(t,"ps-focus")}var i,o,r=this;r.settings=h.clone(c),r.containerWidth=null,r.containerHeight=null,r.contentWidth=null,r.contentHeight=null,r.isRtl="rtl"===l.css(t,"direction"),r.isNegativeScroll=(i=t.scrollLeft,o=null,t.scrollLeft=-1,o=t.scrollLeft<0,t.scrollLeft=i,o),r.negativeScrollAdjustment=r.isNegativeScroll?t.scrollWidth-t.clientWidth:0,r.event=new u,r.ownerDocument=t.ownerDocument||document,r.scrollbarXRail=l.appendTo(l.e("div","ps-scrollbar-x-rail"),t),r.scrollbarX=l.appendTo(l.e("div","ps-scrollbar-x"),r.scrollbarXRail),r.scrollbarX.setAttribute("tabindex",0),r.event.bind(r.scrollbarX,"focus",e),r.event.bind(r.scrollbarX,"blur",n),r.scrollbarXActive=null,r.scrollbarXWidth=null,r.scrollbarXLeft=null,r.scrollbarXBottom=h.toInt(l.css(r.scrollbarXRail,"bottom")),r.isScrollbarXUsingBottom=r.scrollbarXBottom==r.scrollbarXBottom,r.scrollbarXTop=r.isScrollbarXUsingBottom?null:h.toInt(l.css(r.scrollbarXRail,"top")),r.railBorderXWidth=h.toInt(l.css(r.scrollbarXRail,"borderLeftWidth"))+h.toInt(l.css(r.scrollbarXRail,"borderRightWidth")),l.css(r.scrollbarXRail,"display","block"),r.railXMarginWidth=h.toInt(l.css(r.scrollbarXRail,"marginLeft"))+h.toInt(l.css(r.scrollbarXRail,"marginRight")),l.css(r.scrollbarXRail,"display",""),r.railXWidth=null,r.railXRatio=null,r.scrollbarYRail=l.appendTo(l.e("div","ps-scrollbar-y-rail"),t),r.scrollbarY=l.appendTo(l.e("div","ps-scrollbar-y"),r.scrollbarYRail),r.scrollbarY.setAttribute("tabindex",0),r.event.bind(r.scrollbarY,"focus",e),r.event.bind(r.scrollbarY,"blur",n),r.scrollbarYActive=null,r.scrollbarYHeight=null,r.scrollbarYTop=null,r.scrollbarYRight=h.toInt(l.css(r.scrollbarYRail,"right")),r.isScrollbarYUsingRight=r.scrollbarYRight==r.scrollbarYRight,r.scrollbarYLeft=r.isScrollbarYUsingRight?null:h.toInt(l.css(r.scrollbarYRail,"left")),r.scrollbarYOuterWidth=r.isRtl?h.outerWidth(r.scrollbarY):null,r.railBorderYWidth=h.toInt(l.css(r.scrollbarYRail,"borderTopWidth"))+h.toInt(l.css(r.scrollbarYRail,"borderBottomWidth")),l.css(r.scrollbarYRail,"display","block"),r.railYMarginHeight=h.toInt(l.css(r.scrollbarYRail,"marginTop"))+h.toInt(l.css(r.scrollbarYRail,"marginBottom")),l.css(r.scrollbarYRail,"display",""),r.railYHeight=null,r.railYRatio=null}function o(t){return"undefined"==typeof t.dataset?t.getAttribute("data-ps-id"):t.dataset.psId}function r(t,e){"undefined"==typeof t.dataset?t.setAttribute("data-ps-id",e):t.dataset.psId=e}function s(t){"undefined"==typeof t.dataset?t.removeAttribute("data-ps-id"):delete t.dataset.psId}var a=t("../lib/class"),l=t("../lib/dom"),c=t("./default-setting"),u=t("../lib/event-manager"),d=t("../lib/guid"),h=t("../lib/helper"),f={};n.add=function(t){var e=d();return r(t,e),f[e]=new i(t),f[e]},n.remove=function(t){delete f[o(t)],s(t)},n.get=function(t){return f[o(t)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(t,e){"use strict";function n(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function i(t,e){var n={width:e.railXWidth};e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t.scrollTop:n.top=e.scrollbarXTop+t.scrollTop,r.css(e.scrollbarXRail,n);var i={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?i.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:i.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:i.left=e.scrollbarYLeft+t.scrollLeft,r.css(e.scrollbarYRail,i),r.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),r.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}var o=t("../lib/class"),r=t("../lib/dom"),s=t("../lib/helper"),a=t("./instances"),l=t("./update-scroll");e.exports=function(t){var e,c=a.get(t);c.containerWidth=t.clientWidth,c.containerHeight=t.clientHeight,c.contentWidth=t.scrollWidth,c.contentHeight=t.scrollHeight,t.contains(c.scrollbarXRail)||((e=r.queryChildren(t,".ps-scrollbar-x-rail")).length>0&&e.forEach(function(t){r.remove(t)}),r.appendTo(c.scrollbarXRail,t)),t.contains(c.scrollbarYRail)||((e=r.queryChildren(t,".ps-scrollbar-y-rail")).length>0&&e.forEach(function(t){r.remove(t)}),r.appendTo(c.scrollbarYRail,t)),!c.settings.suppressScrollX&&c.containerWidth+c.settings.scrollXMarginOffset<c.contentWidth?(c.scrollbarXActive=!0,c.railXWidth=c.containerWidth-c.railXMarginWidth,c.railXRatio=c.containerWidth/c.railXWidth,c.scrollbarXWidth=n(c,s.toInt(c.railXWidth*c.containerWidth/c.contentWidth)),c.scrollbarXLeft=s.toInt((c.negativeScrollAdjustment+t.scrollLeft)*(c.railXWidth-c.scrollbarXWidth)/(c.contentWidth-c.containerWidth))):c.scrollbarXActive=!1,!c.settings.suppressScrollY&&c.containerHeight+c.settings.scrollYMarginOffset<c.contentHeight?(c.scrollbarYActive=!0,c.railYHeight=c.containerHeight-c.railYMarginHeight,c.railYRatio=c.containerHeight/c.railYHeight,c.scrollbarYHeight=n(c,s.toInt(c.railYHeight*c.containerHeight/c.contentHeight)),c.scrollbarYTop=s.toInt(t.scrollTop*(c.railYHeight-c.scrollbarYHeight)/(c.contentHeight-c.containerHeight))):c.scrollbarYActive=!1,c.scrollbarXLeft>=c.railXWidth-c.scrollbarXWidth&&(c.scrollbarXLeft=c.railXWidth-c.scrollbarXWidth),c.scrollbarYTop>=c.railYHeight-c.scrollbarYHeight&&(c.scrollbarYTop=c.railYHeight-c.scrollbarYHeight),i(t,c),c.scrollbarXActive?o.add(t,"ps-active-x"):(o.remove(t,"ps-active-x"),c.scrollbarXWidth=0,c.scrollbarXLeft=0,l(t,"left",0)),c.scrollbarYActive?o.add(t,"ps-active-y"):(o.remove(t,"ps-active-y"),c.scrollbarYHeight=0,c.scrollbarYTop=0,l(t,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(t,e){"use strict";var n,i,o=t("./instances"),r=document.createEvent("Event"),s=document.createEvent("Event"),a=document.createEvent("Event"),l=document.createEvent("Event"),c=document.createEvent("Event"),u=document.createEvent("Event"),d=document.createEvent("Event"),h=document.createEvent("Event"),f=document.createEvent("Event"),p=document.createEvent("Event");r.initEvent("ps-scroll-up",!0,!0),s.initEvent("ps-scroll-down",!0,!0),a.initEvent("ps-scroll-left",!0,!0),l.initEvent("ps-scroll-right",!0,!0),c.initEvent("ps-scroll-y",!0,!0),u.initEvent("ps-scroll-x",!0,!0),d.initEvent("ps-x-reach-start",!0,!0),h.initEvent("ps-x-reach-end",!0,!0),f.initEvent("ps-y-reach-start",!0,!0),p.initEvent("ps-y-reach-end",!0,!0),e.exports=function(t,e,m){if(void 0===t)throw"You must provide an element to the update-scroll function";if(void 0===e)throw"You must provide an axis to the update-scroll function";if(void 0===m)throw"You must provide a value to the update-scroll function";"top"===e&&m<=0&&(t.scrollTop=m=0,t.dispatchEvent(f)),"left"===e&&m<=0&&(t.scrollLeft=m=0,t.dispatchEvent(d));var g=o.get(t);"top"===e&&m>=g.contentHeight-g.containerHeight&&(t.scrollTop=m=g.contentHeight-g.containerHeight,t.dispatchEvent(p)),"left"===e&&m>=g.contentWidth-g.containerWidth&&(t.scrollLeft=m=g.contentWidth-g.containerWidth,t.dispatchEvent(h)),n||(n=t.scrollTop),i||(i=t.scrollLeft),"top"===e&&m<n&&t.dispatchEvent(r),"top"===e&&m>n&&t.dispatchEvent(s),"left"===e&&m<i&&t.dispatchEvent(a),"left"===e&&m>i&&t.dispatchEvent(l),"top"===e&&(t.scrollTop=n=m,t.dispatchEvent(c)),"left"===e&&(t.scrollLeft=i=m,t.dispatchEvent(u))}},{"./instances":18}],21:[function(t,e){"use strict";var n=t("../lib/dom"),i=t("../lib/helper"),o=t("./instances"),r=t("./update-geometry"),s=t("./update-scroll");e.exports=function(t){var e=o.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,n.css(e.scrollbarXRail,"display","block"),n.css(e.scrollbarYRail,"display","block"),e.railXMarginWidth=i.toInt(n.css(e.scrollbarXRail,"marginLeft"))+i.toInt(n.css(e.scrollbarXRail,"marginRight")),e.railYMarginHeight=i.toInt(n.css(e.scrollbarYRail,"marginTop"))+i.toInt(n.css(e.scrollbarYRail,"marginBottom")),n.css(e.scrollbarXRail,"display","none"),n.css(e.scrollbarYRail,"display","none"),r(t),s(t,"top",t.scrollTop),s(t,"left",t.scrollLeft),
n.css(e.scrollbarXRail,"display",""),n.css(e.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),window.StickersModule.Libs.Twemoji=function(){"use strict";function t(t){return document.createTextNode(t)}function e(t){return t.replace(y,a)}function n(t,e){return"".concat(e.base,e.size,"/",t,e.ext)}function i(t,e){for(var n,o,r=t.childNodes,s=r.length;s--;)3===(o=(n=r[s]).nodeType)?e.push(n):1!==o||b.test(n.nodeName)||i(n,e);return e}function o(t,e){return p("\ufe0f"===e?t.slice(0,-1):3===t.length&&"\ufe0f"===t.charAt(1)?t.charAt(0)+t.charAt(2):t)}function r(e,n){for(var r,s,a,l,c,u,d,h,f,p,m,g,y,b,_=i(e,[]),w=_.length;w--;){for(a=!1,l=document.createDocumentFragment(),u=(c=_[w]).nodeValue,h=0;d=v.exec(u);){if((f=d.index)!==h&&l.appendChild(t(u.slice(h,f))),m=d[0],g=d[1],y=d[2],h=f+m.length,"\ufe0e"!==y&&(b=n.callback(o(g,y),n,y))){for(s in(p=new Image).onerror=n.onerror,p.setAttribute("draggable","false"),r=n.attributes(g,y))r.hasOwnProperty(s)&&0!==s.indexOf("on")&&!p.hasAttribute(s)&&p.setAttribute(s,r[s]);p.className=n.className,p.alt=m,p.src=b,a=!0,l.appendChild(p)}p||l.appendChild(t(m)),p=null}a&&(h<u.length&&l.appendChild(t(u.slice(h))),c.parentNode.replaceChild(l,c))}return e}function s(t,n){return h(t,function(t,i,r){var s,a,l,c=t;if("\ufe0e"!==r&&(l=n.callback(o(i,r),n,r))){for(a in c="<img ".concat('class="',n.className,'" ','draggable="false" ','alt="',t,'"',' src="',l,'"'),s=n.attributes(i,r))s.hasOwnProperty(a)&&0!==a.indexOf("on")&&-1===c.indexOf(" "+a+"=")&&(c=c.concat(" ",a,'="',e(s[a]),'"'));c=c.concat(">")}return c})}function a(t){return g[t]}function l(){return null}function c(t){return"number"==typeof t?t+"x"+t:t}function u(t){var e="string"==typeof t?parseInt(t,16):t;return e<65536?_(e):_(55296+((e-=65536)>>10),56320+(1023&e))}function d(t,e){return e&&"function"!=typeof e||(e={callback:e}),("string"==typeof t?s:r)(t,{callback:e.callback||n,attributes:"function"==typeof e.attributes?e.attributes:l,base:"string"==typeof e.base?e.base:m.base,ext:e.ext||m.ext,size:e.folder||c(e.size||m.size),className:e.className||m.className,onerror:e.onerror||m.onerror})}function h(t,e){return String(t).replace(v,e)}function f(t){v.lastIndex=0;var e=v.test(t);return v.lastIndex=0,e}function p(t,e){for(var n=[],i=0,o=0,r=0;r<t.length;)i=t.charCodeAt(r++),o?(n.push((65536+(o-55296<<10)+(i-56320)).toString(16)),o=0):55296<=i&&i<=56319?o=i:n.push(i.toString(16));return n.join(e||"-")}var m={base:("https:"===location.protocol?"https:":"http:")+"//twemoji.maxcdn.com/",ext:".png",size:"36x36",className:"emoji",convert:{fromCodePoint:u,toCodePoint:p},onerror:function(){this.parentNode&&this.parentNode.replaceChild(t(this.alt),this)},parse:d,replace:h,test:f},g={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},v=/((?:\ud83c\udde8\ud83c\uddf3|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf7\ud83c\uddfa|\ud83c\uddf0\ud83c\uddf7|\ud83c\uddef\ud83c\uddf5|\ud83c\uddee\ud83c\uddf9|\ud83c\uddec\ud83c\udde7|\ud83c\uddeb\ud83c\uddf7|\ud83c\uddea\ud83c\uddf8|\ud83c\udde9\ud83c\uddea|\u0039\ufe0f?\u20e3|\u0038\ufe0f?\u20e3|\u0037\ufe0f?\u20e3|\u0036\ufe0f?\u20e3|\u0035\ufe0f?\u20e3|\u0034\ufe0f?\u20e3|\u0033\ufe0f?\u20e3|\u0032\ufe0f?\u20e3|\u0031\ufe0f?\u20e3|\u0030\ufe0f?\u20e3|\u0023\ufe0f?\u20e3|\ud83d\udeb3|\ud83d\udeb1|\ud83d\udeb0|\ud83d\udeaf|\ud83d\udeae|\ud83d\udea6|\ud83d\udea3|\ud83d\udea1|\ud83d\udea0|\ud83d\ude9f|\ud83d\ude9e|\ud83d\ude9d|\ud83d\ude9c|\ud83d\ude9b|\ud83d\ude98|\ud83d\ude96|\ud83d\ude94|\ud83d\ude90|\ud83d\ude8e|\ud83d\ude8d|\ud83d\ude8b|\ud83d\ude8a|\ud83d\ude88|\ud83d\ude86|\ud83d\ude82|\ud83d\ude81|\ud83d\ude36|\ud83d\ude34|\ud83d\ude2f|\ud83d\ude2e|\ud83d\ude2c|\ud83d\ude27|\ud83d\ude26|\ud83d\ude1f|\ud83d\ude1b|\ud83d\ude19|\ud83d\ude17|\ud83d\ude15|\ud83d\ude11|\ud83d\ude10|\ud83d\ude0e|\ud83d\ude08|\ud83d\ude07|\ud83d\ude00|\ud83d\udd67|\ud83d\udd66|\ud83d\udd65|\ud83d\udd64|\ud83d\udd63|\ud83d\udd62|\ud83d\udd61|\ud83d\udd60|\ud83d\udd5f|\ud83d\udd5e|\ud83d\udd5d|\ud83d\udd5c|\ud83d\udd2d|\ud83d\udd2c|\ud83d\udd15|\ud83d\udd09|\ud83d\udd08|\ud83d\udd07|\ud83d\udd06|\ud83d\udd05|\ud83d\udd04|\ud83d\udd02|\ud83d\udd01|\ud83d\udd00|\ud83d\udcf5|\ud83d\udcef|\ud83d\udced|\ud83d\udcec|\ud83d\udcb7|\ud83d\udcb6|\ud83d\udcad|\ud83d\udc6d|\ud83d\udc6c|\ud83d\udc65|\ud83d\udc2a|\ud83d\udc16|\ud83d\udc15|\ud83d\udc13|\ud83d\udc10|\ud83d\udc0f|\ud83d\udc0b|\ud83d\udc0a|\ud83d\udc09|\ud83d\udc08|\ud83d\udc07|\ud83d\udc06|\ud83d\udc05|\ud83d\udc04|\ud83d\udc03|\ud83d\udc02|\ud83d\udc01|\ud83d\udc00|\ud83c\udfe4|\ud83c\udfc9|\ud83c\udfc7|\ud83c\udf7c|\ud83c\udf50|\ud83c\udf4b|\ud83c\udf33|\ud83c\udf32|\ud83c\udf1e|\ud83c\udf1d|\ud83c\udf1c|\ud83c\udf1a|\ud83c\udf18|\ud83c\udccf|\ud83c\udd8e|\ud83c\udd91|\ud83c\udd92|\ud83c\udd93|\ud83c\udd94|\ud83c\udd95|\ud83c\udd96|\ud83c\udd97|\ud83c\udd98|\ud83c\udd99|\ud83c\udd9a|\ud83d\udc77|\ud83d\udec5|\ud83d\udec4|\ud83d\udec3|\ud83d\udec2|\ud83d\udec1|\ud83d\udebf|\ud83d\udeb8|\ud83d\udeb7|\ud83d\udeb5|\ud83c\ude01|\ud83c\ude32|\ud83c\ude33|\ud83c\ude34|\ud83c\ude35|\ud83c\ude36|\ud83c\ude38|\ud83c\ude39|\ud83c\ude3a|\ud83c\ude50|\ud83c\ude51|\ud83c\udf00|\ud83c\udf01|\ud83c\udf02|\ud83c\udf03|\ud83c\udf04|\ud83c\udf05|\ud83c\udf06|\ud83c\udf07|\ud83c\udf08|\ud83c\udf09|\ud83c\udf0a|\ud83c\udf0b|\ud83c\udf0c|\ud83c\udf0f|\ud83c\udf11|\ud83c\udf13|\ud83c\udf14|\ud83c\udf15|\ud83c\udf19|\ud83c\udf1b|\ud83c\udf1f|\ud83c\udf20|\ud83c\udf30|\ud83c\udf31|\ud83c\udf34|\ud83c\udf35|\ud83c\udf37|\ud83c\udf38|\ud83c\udf39|\ud83c\udf3a|\ud83c\udf3b|\ud83c\udf3c|\ud83c\udf3d|\ud83c\udf3e|\ud83c\udf3f|\ud83c\udf40|\ud83c\udf41|\ud83c\udf42|\ud83c\udf43|\ud83c\udf44|\ud83c\udf45|\ud83c\udf46|\ud83c\udf47|\ud83c\udf48|\ud83c\udf49|\ud83c\udf4a|\ud83c\udf4c|\ud83c\udf4d|\ud83c\udf4e|\ud83c\udf4f|\ud83c\udf51|\ud83c\udf52|\ud83c\udf53|\ud83c\udf54|\ud83c\udf55|\ud83c\udf56|\ud83c\udf57|\ud83c\udf58|\ud83c\udf59|\ud83c\udf5a|\ud83c\udf5b|\ud83c\udf5c|\ud83c\udf5d|\ud83c\udf5e|\ud83c\udf5f|\ud83c\udf60|\ud83c\udf61|\ud83c\udf62|\ud83c\udf63|\ud83c\udf64|\ud83c\udf65|\ud83c\udf66|\ud83c\udf67|\ud83c\udf68|\ud83c\udf69|\ud83c\udf6a|\ud83c\udf6b|\ud83c\udf6c|\ud83c\udf6d|\ud83c\udf6e|\ud83c\udf6f|\ud83c\udf70|\ud83c\udf71|\ud83c\udf72|\ud83c\udf73|\ud83c\udf74|\ud83c\udf75|\ud83c\udf76|\ud83c\udf77|\ud83c\udf78|\ud83c\udf79|\ud83c\udf7a|\ud83c\udf7b|\ud83c\udf80|\ud83c\udf81|\ud83c\udf82|\ud83c\udf83|\ud83c\udf84|\ud83c\udf85|\ud83c\udf86|\ud83c\udf87|\ud83c\udf88|\ud83c\udf89|\ud83c\udf8a|\ud83c\udf8b|\ud83c\udf8c|\ud83c\udf8d|\ud83c\udf8e|\ud83c\udf8f|\ud83c\udf90|\ud83c\udf91|\ud83c\udf92|\ud83c\udf93|\ud83c\udfa0|\ud83c\udfa1|\ud83c\udfa2|\ud83c\udfa3|\ud83c\udfa4|\ud83c\udfa5|\ud83c\udfa6|\ud83c\udfa7|\ud83c\udfa8|\ud83c\udfa9|\ud83c\udfaa|\ud83c\udfab|\ud83c\udfac|\ud83c\udfad|\ud83c\udfae|\ud83c\udfaf|\ud83c\udfb0|\ud83c\udfb1|\ud83c\udfb2|\ud83c\udfb3|\ud83c\udfb4|\ud83c\udfb5|\ud83c\udfb6|\ud83c\udfb7|\ud83c\udfb8|\ud83c\udfb9|\ud83c\udfba|\ud83c\udfbb|\ud83c\udfbc|\ud83c\udfbd|\ud83c\udfbe|\ud83c\udfbf|\ud83c\udfc0|\ud83c\udfc1|\ud83c\udfc2|\ud83c\udfc3|\ud83c\udfc4|\ud83c\udfc6|\ud83c\udfc8|\ud83c\udfca|\ud83c\udfe0|\ud83c\udfe1|\ud83c\udfe2|\ud83c\udfe3|\ud83c\udfe5|\ud83c\udfe6|\ud83c\udfe7|\ud83c\udfe8|\ud83c\udfe9|\ud83c\udfea|\ud83c\udfeb|\ud83c\udfec|\ud83c\udfed|\ud83c\udfee|\ud83c\udfef|\ud83c\udff0|\ud83d\udc0c|\ud83d\udc0d|\ud83d\udc0e|\ud83d\udc11|\ud83d\udc12|\ud83d\udc14|\ud83d\udc17|\ud83d\udc18|\ud83d\udc19|\ud83d\udc1a|\ud83d\udc1b|\ud83d\udc1c|\ud83d\udc1d|\ud83d\udc1e|\ud83d\udc1f|\ud83d\udc20|\ud83d\udc21|\ud83d\udc22|\ud83d\udc23|\ud83d\udc24|\ud83d\udc25|\ud83d\udc26|\ud83d\udc27|\ud83d\udc28|\ud83d\udc29|\ud83d\udc2b|\ud83d\udc2c|\ud83d\udc2d|\ud83d\udc2e|\ud83d\udc2f|\ud83d\udc30|\ud83d\udc31|\ud83d\udc32|\ud83d\udc33|\ud83d\udc34|\ud83d\udc35|\ud83d\udc36|\ud83d\udc37|\ud83d\udc38|\ud83d\udc39|\ud83d\udc3a|\ud83d\udc3b|\ud83d\udc3c|\ud83d\udc3d|\ud83d\udc3e|\ud83d\udc40|\ud83d\udc42|\ud83d\udc43|\ud83d\udc44|\ud83d\udc45|\ud83d\udc46|\ud83d\udc47|\ud83d\udc48|\ud83d\udc49|\ud83d\udc4a|\ud83d\udc4b|\ud83d\udc4c|\ud83d\udc4d|\ud83d\udc4e|\ud83d\udc4f|\ud83d\udc50|\ud83d\udc51|\ud83d\udc52|\ud83d\udc53|\ud83d\udc54|\ud83d\udc55|\ud83d\udc56|\ud83d\udc57|\ud83d\udc58|\ud83d\udc59|\ud83d\udc5a|\ud83d\udc5b|\ud83d\udc5c|\ud83d\udc5d|\ud83d\udc5e|\ud83d\udc5f|\ud83d\udc60|\ud83d\udc61|\ud83d\udc62|\ud83d\udc63|\ud83d\udc64|\ud83d\udc66|\ud83d\udc67|\ud83d\udc68|\ud83d\udc69|\ud83d\udc6a|\ud83d\udc6b|\ud83d\udc6e|\ud83d\udc6f|\ud83d\udc70|\ud83d\udc71|\ud83d\udc72|\ud83d\udc73|\ud83d\udc74|\ud83d\udc75|\ud83d\udc76|\ud83d\udeb4|\ud83d\udc78|\ud83d\udc79|\ud83d\udc7a|\ud83d\udc7b|\ud83d\udc7c|\ud83d\udc7d|\ud83d\udc7e|\ud83d\udc7f|\ud83d\udc80|\ud83d\udc81|\ud83d\udc82|\ud83d\udc83|\ud83d\udc84|\ud83d\udc85|\ud83d\udc86|\ud83d\udc87|\ud83d\udc88|\ud83d\udc89|\ud83d\udc8a|\ud83d\udc8b|\ud83d\udc8c|\ud83d\udc8d|\ud83d\udc8e|\ud83d\udc8f|\ud83d\udc90|\ud83d\udc91|\ud83d\udc92|\ud83d\udc93|\ud83d\udc94|\ud83d\udc95|\ud83d\udc96|\ud83d\udc97|\ud83d\udc98|\ud83d\udc99|\ud83d\udc9a|\ud83d\udc9b|\ud83d\udc9c|\ud83d\udc9d|\ud83d\udc9e|\ud83d\udc9f|\ud83d\udca0|\ud83d\udca1|\ud83d\udca2|\ud83d\udca3|\ud83d\udca4|\ud83d\udca5|\ud83d\udca6|\ud83d\udca7|\ud83d\udca8|\ud83d\udca9|\ud83d\udcaa|\ud83d\udcab|\ud83d\udcac|\ud83d\udcae|\ud83d\udcaf|\ud83d\udcb0|\ud83d\udcb1|\ud83d\udcb2|\ud83d\udcb3|\ud83d\udcb4|\ud83d\udcb5|\ud83d\udcb8|\ud83d\udcb9|\ud83d\udcba|\ud83d\udcbb|\ud83d\udcbc|\ud83d\udcbd|\ud83d\udcbe|\ud83d\udcbf|\ud83d\udcc0|\ud83d\udcc1|\ud83d\udcc2|\ud83d\udcc3|\ud83d\udcc4|\ud83d\udcc5|\ud83d\udcc6|\ud83d\udcc7|\ud83d\udcc8|\ud83d\udcc9|\ud83d\udcca|\ud83d\udccb|\ud83d\udccc|\ud83d\udccd|\ud83d\udcce|\ud83d\udccf|\ud83d\udcd0|\ud83d\udcd1|\ud83d\udcd2|\ud83d\udcd3|\ud83d\udcd4|\ud83d\udcd5|\ud83d\udcd6|\ud83d\udcd7|\ud83d\udcd8|\ud83d\udcd9|\ud83d\udcda|\ud83d\udcdb|\ud83d\udcdc|\ud83d\udcdd|\ud83d\udcde|\ud83d\udcdf|\ud83d\udce0|\ud83d\udce1|\ud83d\udce2|\ud83d\udce3|\ud83d\udce4|\ud83d\udce5|\ud83d\udce6|\ud83d\udce7|\ud83d\udce8|\ud83d\udce9|\ud83d\udcea|\ud83d\udceb|\ud83d\udcee|\ud83d\udcf0|\ud83d\udcf1|\ud83d\udcf2|\ud83d\udcf3|\ud83d\udcf4|\ud83d\udcf6|\ud83d\udcf7|\ud83d\udcf9|\ud83d\udcfa|\ud83d\udcfb|\ud83d\udcfc|\ud83d\udd03|\ud83d\udd0a|\ud83d\udd0b|\ud83d\udd0c|\ud83d\udd0d|\ud83d\udd0e|\ud83d\udd0f|\ud83d\udd10|\ud83d\udd11|\ud83d\udd12|\ud83d\udd13|\ud83d\udd14|\ud83d\udd16|\ud83d\udd17|\ud83d\udd18|\ud83d\udd19|\ud83d\udd1a|\ud83d\udd1b|\ud83d\udd1c|\ud83d\udd1d|\ud83d\udd1e|\ud83d\udd1f|\ud83d\udd20|\ud83d\udd21|\ud83d\udd22|\ud83d\udd23|\ud83d\udd24|\ud83d\udd25|\ud83d\udd26|\ud83d\udd27|\ud83d\udd28|\ud83d\udd29|\ud83d\udd2a|\ud83d\udd2b|\ud83d\udd2e|\ud83d\udd2f|\ud83d\udd30|\ud83d\udd31|\ud83d\udd32|\ud83d\udd33|\ud83d\udd34|\ud83d\udd35|\ud83d\udd36|\ud83d\udd37|\ud83d\udd38|\ud83d\udd39|\ud83d\udd3a|\ud83d\udd3b|\ud83d\udd3c|\ud83d\udd3d|\ud83d\udd50|\ud83d\udd51|\ud83d\udd52|\ud83d\udd53|\ud83d\udd54|\ud83d\udd55|\ud83d\udd56|\ud83d\udd57|\ud83d\udd58|\ud83d\udd59|\ud83d\udd5a|\ud83d\udd5b|\ud83d\uddfb|\ud83d\uddfc|\ud83d\uddfd|\ud83d\uddfe|\ud83d\uddff|\ud83d\ude01|\ud83d\ude02|\ud83d\ude03|\ud83d\ude04|\ud83d\ude05|\ud83d\ude06|\ud83d\ude09|\ud83d\ude0a|\ud83d\ude0b|\ud83d\ude0c|\ud83d\ude0d|\ud83d\ude0f|\ud83d\ude12|\ud83d\ude13|\ud83d\ude14|\ud83d\ude16|\ud83d\ude18|\ud83d\ude1a|\ud83d\ude1c|\ud83d\ude1d|\ud83d\ude1e|\ud83d\ude20|\ud83d\ude21|\ud83d\ude22|\ud83d\ude23|\ud83d\ude24|\ud83d\ude25|\ud83d\ude28|\ud83d\ude29|\ud83d\ude2a|\ud83d\ude2b|\ud83d\ude2d|\ud83d\ude30|\ud83d\ude31|\ud83d\ude32|\ud83d\ude33|\ud83d\ude35|\ud83d\ude37|\ud83d\ude38|\ud83d\ude39|\ud83d\ude3a|\ud83d\ude3b|\ud83d\ude3c|\ud83d\ude3d|\ud83d\ude3e|\ud83d\ude3f|\ud83d\ude40|\ud83d\ude45|\ud83d\ude46|\ud83d\ude47|\ud83d\ude48|\ud83d\ude49|\ud83d\ude4a|\ud83d\ude4b|\ud83d\ude4c|\ud83d\ude4d|\ud83d\ude4e|\ud83d\ude4f|\ud83d\ude80|\ud83d\ude83|\ud83d\ude84|\ud83d\ude85|\ud83d\ude87|\ud83d\ude89|\ud83d\ude8c|\ud83d\ude8f|\ud83d\ude91|\ud83d\ude92|\ud83d\ude93|\ud83d\ude95|\ud83d\ude97|\ud83d\ude99|\ud83d\ude9a|\ud83d\udea2|\ud83d\udea4|\ud83d\udea5|\ud83d\udea7|\ud83d\udea8|\ud83d\udea9|\ud83d\udeaa|\ud83d\udeab|\ud83d\udeac|\ud83d\udead|\ud83d\udeb2|\ud83d\udeb6|\ud83d\udeb9|\ud83d\udeba|\ud83d\udebb|\ud83d\udebc|\ud83d\udebd|\ud83d\udebe|\ud83d\udec0|\ud83c\udde6|\ud83c\udde7|\ud83c\udde8|\ud83c\udde9|\ud83c\uddea|\ud83c\uddeb|\ud83c\uddec|\ud83c\udded|\ud83c\uddee|\ud83c\uddef|\ud83c\uddf0|\ud83c\uddf1|\ud83c\uddf2|\ud83c\uddf3|\ud83c\uddf4|\ud83c\uddf5|\ud83c\uddf6|\ud83c\uddf7|\ud83c\uddf8|\ud83c\uddf9|\ud83c\uddfa|\ud83c\uddfb|\ud83c\uddfc|\ud83c\uddfd|\ud83c\uddfe|\ud83c\uddff|\ud83c\udf0d|\ud83c\udf0e|\ud83c\udf10|\ud83c\udf12|\ud83c\udf16|\ud83c\udf17|\ue50a|\u27b0|\u2797|\u2796|\u2795|\u2755|\u2754|\u2753|\u274e|\u274c|\u2728|\u270b|\u270a|\u2705|\u26ce|\u23f3|\u23f0|\u23ec|\u23eb|\u23ea|\u23e9|\u27bf|\u00a9|\u00ae)|(?:(?:\ud83c\udc04|\ud83c\udd70|\ud83c\udd71|\ud83c\udd7e|\ud83c\udd7f|\ud83c\ude02|\ud83c\ude1a|\ud83c\ude2f|\ud83c\ude37|\u3299|\u303d|\u3030|\u2b55|\u2b50|\u2b1c|\u2b1b|\u2b07|\u2b06|\u2b05|\u2935|\u2934|\u27a1|\u2764|\u2757|\u2747|\u2744|\u2734|\u2733|\u2716|\u2714|\u2712|\u270f|\u270c|\u2709|\u2708|\u2702|\u26fd|\u26fa|\u26f5|\u26f3|\u26f2|\u26ea|\u26d4|\u26c5|\u26c4|\u26be|\u26bd|\u26ab|\u26aa|\u26a1|\u26a0|\u2693|\u267f|\u267b|\u3297|\u2666|\u2665|\u2663|\u2660|\u2653|\u2652|\u2651|\u2650|\u264f|\u264e|\u264d|\u264c|\u264b|\u264a|\u2649|\u2648|\u263a|\u261d|\u2615|\u2614|\u2611|\u260e|\u2601|\u2600|\u25fe|\u25fd|\u25fc|\u25fb|\u25c0|\u25b6|\u25ab|\u25aa|\u24c2|\u231b|\u231a|\u21aa|\u21a9|\u2199|\u2198|\u2197|\u2196|\u2195|\u2194|\u2139|\u2122|\u2049|\u203c|\u2668)([\uFE0E\uFE0F]?)))/g,y=/[&<>'"]/g,b=/IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA|[a-z]/,_=String.fromCharCode;return m}(),window.StickersModule.Service={},function(t){t.Service.Ajax=function(e){if((e=e||{}).url){e.type=e.type&&e.type.toUpperCase()||"GET",e.headers=e.headers||{},e.data=e.data||{},e.success=e.success||function(){},e.error=e.error||function(){},e.complete=e.complete||function(){},e.headers.Apikey=t.Configs.apiKey,e.headers.Platform="JS",e.headers.Localization=t.Configs.lang,e.headers.UserId=t.Configs.userId,"POST"!=e.type&&"PUT"!=e.type||(e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.headers.DeviceId=t.Service.Storage.getDeviceId());var n=new XMLHttpRequest;for(var i in n.open(e.type,e.url,!0),e.headers)n.setRequestHeader(i,e.headers[i]);n.onreadystatechange=function(){if(4==n.readyState){if(200==n.status)e.success(JSON.parse(n.responseText),n);else{var t={};try{t=JSON.parse(n.responseText)}catch(i){t={}}e.error(t,n)}e.complete(JSON.parse(n.responseText),n)}},n.send(JSON.stringify(e.data))}}}(window.StickersModule),function(t){var e=2;t.Service.Api={getApiVersion:function(){return e},getPacks:function(e){t.Service.Ajax({type:"get",url:t.Service.Url.getUserPacksUrl(),success:function(n){(n=n||{}).meta=n.meta||{},n.meta.shop_last_modified=n.meta.shop_last_modified||0,t.Service.Metadata.setStoreLastModified(1e3*n.meta.shop_last_modified),e&&e(n.data)}})},getPackPreview:function(e,n){t.Service.Ajax({type:"get",url:t.Service.Url.getPackPreviewUrl(e),success:function(t){n&&n(t.data)}})},sendStatistic:function(e){t.Service.Ajax({type:"post",url:t.Service.Url.getStatisticUrl(),data:e})},updateUserData:function(e){return t.Service.Ajax({type:"put",url:t.Service.Url.getUserDataUrl(),data:e,headers:{"Content-Type":"application/json"}})},purchasePack:function(e,n,i,o){t.Service.Ajax({type:"post",url:t.Service.Url.getPurchaseUrl(e,n),success:function(t){i&&i(t.data)},error:function(){var i=t.Service.PendingRequest;i.add(i.tasks.purchasePack,{packName:e,pricePoint:n}),o&&o()}})},getContentById:function(e,n){t.Service.Ajax({type:"get",url:t.Service.Url.getContentByIdUrl(e),success:function(t){n&&n(t.data)}})},hidePack:function(e,n,i){return t.Service.Ajax({type:"DELETE",url:t.Service.Url.getHidePackUrl(e),success:function(t){n&&n(t.data)},error:function(){i&&i()}})}}}(window.StickersModule),window.StickersModule.Service.El={css:function(t,e){return t.style&&t.style[e]||t.currentStyle&&t.currentStyle[e]||getComputedStyle(t)[e]},outerWidth:function(t){var e=t.offsetWidth;return e+=parseInt(this.css(t,"marginLeft"))+parseInt(this.css(t,"marginRight"))},appendAfter:function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},getParents:function(t,e){var n=[];if(e)var i=e.charAt(0);for(;t&&t!==document;t=t.parentNode)e?("."===i&&t.classList.contains(e.substr(1))&&n.push(t),"#"===i&&t.id===e.substr(1)&&n.push(t),"["===i&&t.hasAttribute(e.substr(1,e.length-1))&&n.push(t),t.tagName.toLowerCase()===e&&n.push(t)):n.push(t);return 0===n.length?null:n}},window.StickersModule.Service.Emoji={emojiProvider:null,init:function(t){this.emojiProvider=t},parseEmojiFromText:function(t){return this.emojiProvider.parse(t,{size:2==window.devicePixelRatio?72:36})},parseEmojiFromHtml:function(t){var e=document.createElement("div");e.innerHTML=t;for(var n=e.getElementsByClassName("emoji"),i=n.length-1;i>=0;i--){var o=n[i].getAttribute("alt");e.replaceChild(document.createTextNode(o),n[i])}return e.innerHTML}},window.StickersModule.Service.Event={events:{resize:"resize",popoverShown:"sp:popover:shown",popoverHidden:"sp:popover:hidden",showContentHighlight:"sp:content:highlight:show",hideContentHighlight:"sp:content:highlight:hide"},dispatch:function(t,e){var n;t&&(e=e||window,document.createEvent?(n=document.createEvent("HTMLEvents")).initEvent(t,!0,!0):document.createEventObject&&((n=document.createEventObject()).eventType=t),n.eventName=t,e.dispatchEvent?e.dispatchEvent(n):e.fireEvent?e.fireEvent("on"+n.eventType,n):e[t]?e[t]():e["on"+t]&&e["on"+t]())},popoverShown:function(){this.dispatch(this.events.popoverShown)},popoverHidden:function(){this.dispatch(this.events.popoverHidden)},changeContentHighlight:function(t){this.dispatch(t?this.events.showContentHighlight:this.events.hideContentHighlight)},resize:function(t){this.dispatch(this.events.resize,t)}},function(t){t.Service.Helper={extend:function(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);return t},setConfig:function(e){t.Configs=this.extend({},t.Configs||{},e)},setEvent:function(t,e,n,i){e.addEventListener(t,function(t){for(var e,o=t.target;o&&!(e=o.className.match(n));)o=o.parentElement;e&&i(o,t)})},urlParamsSerialize:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},isIE:function(){return"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/MSIE\s+\d+\.\d+/)||navigator.userAgent.match(/Trident\/\d+\.\d+/)},md5:function(e){return t.Libs.MD5(e)},getLocation:function(t){var e=document.createElement("a");return e.href=t,e},getDomain:function(t){var e=this.getLocation(t);return e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")},getMobileOS:function(){var t=navigator.userAgent||navigator.vendor||window.opera;return t.match(/iPad/i)||t.match(/iPhone/i)||t.match(/iPod/i)?"ios":t.match(/Android/i)?"android":"other"}}}(window.StickersModule),function(t){t.Service.Highlight={check:function(){var e=t.Service.Packs.isExistUnwatched();e||0!=t.Service.Storage.getRecentStickers().length||(e=!0),!e&&t.Service.Metadata.getStoreLastModified()>t.Service.Metadata.getStoreLastVisit()&&(e=!0),t.Service.Event.changeContentHighlight(e)}}}(window.StickersModule),function(t){t.Service.Metadata={metadata:null,get:function(e){return this.metadata=this.metadata||t.Service.Storage.getMetadata()||{},this.metadata[e]||null},set:function(e,n){this.metadata=this.metadata||t.Service.Storage.getMetadata()||{},this.metadata[e]=n,t.Service.Storage.setMetadata(this.metadata)},getStoreLastVisit:function(){return this.get("last_store_visit")||0},setStoreLastVisit:function(t){return this.set("last_store_visit",t)},getStoreLastModified:function(){return this.get("shop_last_modified")},setStoreLastModified:function(t){return this.set("shop_last_modified",t)}}}(window.StickersModule),function(t){var e;t.Service.Pack={init:function(t){e=t},purchase:function(n,i,o,r,s){o=void 0===o||o,t.Service.Api.purchasePack(n,i,function(i){i.isUnwatched=o;for(var s=[],a=0;a<i.stickers.length;a++){var l=i.stickers[a];l.pack=n,t.Service.Storage.setContentById(l.content_id,l),s.push(l.content_id)}i.stickers=s,t.Service.Storage.setPack(i.pack_name,i,!0),e&&e.view.isRendered&&e.view.tabsView.renderPacks(),r&&r(i)},function(){s&&s()})},remove:function(n,i,o){t.Service.Api.hidePack(n,function(){var o=t.Service.Storage.getPack(n);o.user_status="hidden",t.Service.Storage.setPack(n,o),e&&e.view.isRendered&&(e.view.tabsView.renderPacks(),e.view.tabsView.controls.history.el.click()),i&&i()},function(){o&&o()})},getMainIcon:function(e,n){t.Service.Api.getPackPreview(e,function(e){var i=e&&e.main_icon&&e.main_icon[t.Configs.resolution]||null;n&&n(i)})},isHidden:function(t){return"hidden"==t.user_status}}}(window.StickersModule),function(t){function e(){for(var e=t.Service.Storage.getPacks(),n=t.Service.Storage.getRecentStickers(),i=0;i<n.length;i++)t.Service.Sticker.getById(n[i],function(o){for(var r=null,s=0;s<e.length;s++)if(e[s].pack_name==o.pack){r=e[s];break}if(null==r)return n.splice(i,1),void t.Service.Storage.setRecentStickers(n);var a=!1;for(s=0;s<r.stickers.length;s++)if(r.stickers[s]==o.content_id){a=!0;break}return a?void 0:(n.splice(i,1),void t.Service.Storage.setRecentStickers(n))})}t.Service.Packs={fetch:function(n){t.Service.Api.getPacks(function(i){var o=t.Service.Storage.getPacks(),r=[];if(o.length)for(var s=0;s<i.length;s++){for(var a=null,l=0;l<o.length;l++)if(i[s].pack_name==o[l].pack_name){a=o[l];break}a&&i[s].updated_at==a.updated_at?i[s]=a:r.push(i[s])}else r=i;t.Service.Storage.setPacks(i);for(s=0;s<r.length;s++)t.Service.Pack.isHidden(r[s])||t.Service.Pack.purchase(r[s].pack_name,r[s].pricepoint,!!o.length);e(),t.Service.Highlight.check(),n&&n()})},isExistUnwatched:function(){for(var e=t.Service.Storage.getPacks(),n=0;n<e.length;n++)if(e[n].isUnwatched)return!0;return!1}}}(window.StickersModule),function(t){function e(e){t.Service.Pack.purchase(e.packName,e.pricePoint)}t.Service.PendingRequest={tasks:{activateUserPack:"activateUserPack",purchasePack:"purchasePack"},init:function(){this.run()},add:function(e,n){t.Service.Storage.addPendingRequestTask({name:e,data:n})},run:function(){for(var n=t.Service.Storage.popPendingRequestTask();n;){switch(n.name){case this.tasks.activateUserPack:case this.tasks.purchasePack:e(n.data)}n=t.Service.Storage.popPendingRequestTask()}}}}(window.StickersModule),function(t){function e(e,n,i){t.Service.Api.sendStatistic([{category:e,action:n,label:i}])}t.Service.Statistic={messageSend:function(t){e("message","send",t?"sticker":"text")},useSticker:function(t){e("sticker","use",t)},useEmoji:function(t){e("emoji","use",t)}}}(StickersModule),function(t){t.Service.Sticker={parseStickerId:function(t){if(!t)return null;var e=null,n=t.match(/\[\[(\S+)_(\S+)\]\]/),i=t.match(/\[\[(\d+)\]\]/);return n?e=n[1]+"_"+n[2]:i&&(e=i[1]),e},parse:function(e,n){var i=this.parseStickerId(e);i?t.Service.Sticker.getById(i,function(e,o){var r=e.image&&e.image[t.Configs.resolution];n&&n({id:i,url:r,html:'<img src="'+r+'" class="stickerpipe-sticker" data-sticker-id="'+i+'">'},o)}):n&&n(null)},getById:function(e,n){var i=t.Service.Storage.getContentById(e);i?n&&n(i,!1):t.Service.Api.getContentById(e,function(i){t.Service.Storage.setContentById(e,i),n&&n(i,!0)})},isSticker:function(t){return!!this.parseStickerId(t)}}}(window.StickersModule),function(t){function e(e){return t.Configs.storagePrefix+e}t.Service.Storage={set:function(t,n){t=e(t);try{localStorage.setItem(t,JSON.stringify({data:n}))}catch(i){console&&console.warn("LocalStorage didn't successfully save the \"{"+t+": "+n+'}" pair, because the localStorage is full.')}},get:function(t,n){var i;t=e(t);try{i=JSON.parse(localStorage.getItem(t))}catch(o){i=null}return null===i?n:i.data||n},getAll:function(){return Object.keys(localStorage).map(function(t){return this.get(t)}.bind(this))},rm:function(t){t=e(t),localStorage.removeItem(t)},flush:function(){localStorage.clear()},getRecentStickers:function(){return this.get("recent_stickers")||[]},setRecentStickers:function(t){return this.set("recent_stickers",t)},addRecentSticker:function(t){for(var e=this.getRecentStickers(),n=0;n<e.length;n++)e[n]==t&&e.splice(n,1);e.unshift(t),this.setRecentStickers(e)},getPacks:function(){return this.get("packs")||[]},setPacks:function(t){return this.set("packs",t)},getPack:function(t){for(var e=this.getPacks(),n=0;n<e.length;n++)if(t==e[n].pack_name)return e[n];return null},setPack:function(t,e,n){n=void 0!==n&&n;for(var i=!1,o=this.getPacks(),r=0;r<o.length;r++)if(t==o[r].pack_name){o[r]=e,i=!0,n&&o.splice(r,1);break}i&&!n||o.unshift(e),this.setPacks(o)},getContent:function(){return this.get("content")||{}},setContent:function(t){return this.set("content",t||{})},getContentById:function(t){return this.getContent()["id"+t]||null},setContentById:function(t,e){var n=this.getContent();n["id"+t]=e||null,this.setContent(n)},getDeviceId:function(){var t=this.get("device_id");return void 0===t&&(t=+new Date,this.set("device_id",t)),t},getUserId:function(){return this.get("user_id")},setUserId:function(t){return this.set("user_id",t)},getUserData:function(){return this.get("user_data")},setUserData:function(t){return this.set("user_data",t)},getPendingRequestTasks:function(){return this.get("pending_request_tasks")||[]},setPendingRequestTasks:function(t){return this.set("pending_request_tasks",t)},addPendingRequestTask:function(t){var e=this.getPendingRequestTasks();e.push(t),this.setPendingRequestTasks(e)},popPendingRequestTask:function(){var t=this.getPendingRequestTasks(),e=t.pop();return this.setPendingRequestTasks(t),e},getMetadata:function(){return this.get("metadata")},setMetadata:function(t){return this.set("metadata",t)}}}(window.StickersModule),function(t){t.Service.Url={buildStoreUrl:function(e){e=e||"";var n="JS",i=n,o=t.Configs.primaryColor;"ios"!=t.Service.Helper.getMobileOS()&&-1==navigator.appVersion.indexOf("Mac")||(i="ios"),"#"==o.charAt(0)&&(o=o.substr(1));var r={apiKey:t.Configs.apiKey,platform:n,userId:t.Configs.userId,density:t.Configs.resolution,priceB:t.Configs.priceB,priceC:t.Configs.priceC,is_subscriber:t.Configs.userPremium?1:0,localization:t.Configs.lang,style:i,primaryColor:o},s=t.Configs.storeUrl||this.buildApiUrl("/web");return s+=(-1==s.indexOf("?")?"?":"&")+t.Service.Helper.urlParamsSerialize(r)+"#/"+e},buildApiUrl:function(e){return e=e||"",t.Configs.apiUrl+"/api/v"+t.Service.Api.getApiVersion()+e},getUserPacksUrl:function(){var e=this.buildApiUrl("/shop/my");return t.Configs.userPremium&&(e+="?is_subscriber=1"),e},getPackPreviewUrl:function(e){var n=this.buildApiUrl("/packs/"+e);return t.Configs.userPremium&&(n+="?is_subscriber=1"),n},getStatisticUrl:function(){return this.buildApiUrl("/statistics")},getUserDataUrl:function(){return this.buildApiUrl("/user")},getPurchaseUrl:function(e,n){var i="free";"B"==n?(i="oneoff",t.Configs.userPremium&&(i="subscription")):"C"==n&&(i="oneoff");var o=this.buildApiUrl("/packs/"+e);return o+="?"+t.Service.Helper.urlParamsSerialize({purchase_type:i})},getContentByIdUrl:function(t){return this.buildApiUrl("/content/"+t)},getHidePackUrl:function(t){return this.buildApiUrl("/packs/"+t)},getStoreUrl:function(){return this.buildStoreUrl("store/")},getStorePackUrl:function(t){return this.buildStoreUrl("packs/"+t)}}}(window.StickersModule),function(t){t.Service.User={init:function(){this.updateUserData()},updateUserData:function(){if(t.Configs.userData){var e=t.Service.Storage.getUserData()||{};JSON.stringify(e)!=JSON.stringify(t.Configs.userData)&&(t.Service.Api.updateUserData(t.Configs.userData),t.Service.Storage.setUserData(t.Configs.userData))}}}}(window.StickersModule),window.StickersModule.Configs={},function(t){switch(t.Service.Helper.setConfig({elId:"stickerPipe",resolution:"xxhdpi",htmlForEmptyRecent:"No recent stickers",apiKey:null,apiUrl:"https://api.stickerpipe.com",storagePrefix:"stickerpipe_",enableEmojiTab:!1,enableHistoryTab:!1,enableSettingsTab:!1,enableStoreTab:!1,userId:null,userPremium:!1,userData:{},priceB:null,priceC:null,primaryColor:"",display:"block",height:"350px",width:"335px",lang:document.documentElement.lang.substr(0,2)||"en"}),window.devicePixelRatio){case 1:t.Configs.resolution="mdpi";break;case 2:t.Configs.resolution="xhdpi";break;default:t.Configs.resolution="xxhdpi"}}(window.StickersModule),window.StickersModule.Service.Helper.setConfig({
emojiList:["\ud83d\ude0a","\ud83d\ude03","\ud83d\ude01","\ud83d\ude02","\ud83d\ude00","\ud83d\ude07","\ud83d\ude08","\ud83d\ude0e","\ud83d\ude10","\ud83d\ude11","\ud83d\ude15","\ud83d\ude17","\ud83d\ude19","\ud83d\ude1b","\ud83d\ude1f","\ud83d\ude26","\ud83d\ude27","\ud83d\ude2c","\ud83d\ude2e","\ud83d\ude2f","\ud83d\ude34","\ud83d\ude36","\ud83d\ude04","\ud83d\ude05","\ud83d\ude06","\ud83d\ude09","\ud83d\ude0b","\ud83d\ude0c","\ud83d\ude0d","\ud83d\ude0f","\ud83d\ude12","\ud83d\ude13","\ud83d\ude14","\ud83d\ude16","\ud83d\ude18","\ud83d\ude1a","\ud83d\ude1c","\ud83d\ude1d","\ud83d\ude1e","\ud83d\ude20","\ud83d\ude21","\ud83d\ude22","\ud83d\ude23","\ud83d\ude24","\ud83d\ude25","\ud83d\ude28","\ud83d\ude29","\ud83d\ude2a","\ud83d\ude2b","\ud83d\ude2d","\ud83d\ude30","\ud83d\ude31","\ud83d\ude32","\ud83d\ude33","\ud83d\ude35","\ud83d\ude37","\ud83d\ude38","\ud83d\ude39","\ud83d\ude3a","\ud83d\ude3b","\ud83d\ude3c","\ud83d\ude3d","\ud83d\ude3e","\ud83d\ude3f","\ud83d\ude40","\ud83d\ude45","\ud83d\ude46","\ud83d\ude47","\ud83d\ude48","\ud83d\ude49","\ud83d\ude4a","\ud83d\ude4b","\ud83d\ude4c","\ud83d\ude4d","\ud83d\ude4e","\ud83d\ude4f","\u2702","\u2705","\u2708","\u2709","\u270a","\u270b","\u270c","\u270f","\u2712","\u2714","\u2716","\u2728","\u2733","\u2734","\u2744","\u2747","\u274c","\u274e","\u2753","\u2754","\u2755","\u2757","\u2764","\u2795","\u2796","\u2797","\u27a1","\u27b0","\ud83d\ude80","\ud83d\ude83","\ud83d\ude84","\ud83d\ude85","\ud83d\ude87","\ud83d\ude89","\ud83d\ude8c","\ud83d\ude8f","\ud83d\ude91","\ud83d\ude92","\ud83d\ude93","\ud83d\ude95","\ud83d\ude97","\ud83d\ude99","\ud83d\ude9a","\ud83d\udea2","\ud83d\udea4","\ud83d\udea5","\ud83d\udea7","\ud83d\udea8","\ud83d\udea9","\ud83d\udeaa","\ud83d\udeab","\ud83d\udeac","\ud83d\udead","\ud83d\udeb2","\ud83d\udeb6","\ud83d\udeb9","\ud83d\udeba","\ud83d\udebb","\ud83d\udebc","\ud83d\udebd","\ud83d\udebe","\ud83d\udec0","\u24c2","\ud83c\udd70","\ud83c\udd71","\ud83c\udd7e","\ud83c\udd7f","\ud83c\udd8e","\ud83c\udd91","\ud83c\udd92","\ud83c\udd93","\ud83c\udd94","\ud83c\udd95","\ud83c\udd96","\ud83c\udd97","\ud83c\udd98","\ud83c\udd99","\ud83c\udd9a","\ud83c\udde9\ud83c\uddea","\ud83c\uddec\ud83c\udde7","\ud83c\udde8\ud83c\uddf3","\ud83c\uddef\ud83c\uddf5","\ud83c\uddf0\ud83c\uddf7","\ud83c\uddeb\ud83c\uddf7","\ud83c\uddea\ud83c\uddf8","\ud83c\uddee\ud83c\uddf9","\ud83c\uddfa\ud83c\uddf8","\ud83c\uddf7\ud83c\uddfa","\ud83c\ude01","\ud83c\ude02","\ud83c\ude1a","\ud83c\ude2f","\ud83c\ude32","\ud83c\ude33","\ud83c\ude34","\ud83c\ude35","\ud83c\ude36","\ud83c\ude37","\ud83c\ude38","\ud83c\ude39","\ud83c\ude3a","\ud83c\ude50","\ud83c\ude51","\xa9","\xae","\u203c","\u2049","8\u20e3","9\u20e3","7\u20e3","6\u20e3","1\u20e3","0\u20e3","2\u20e3","3\u20e3","5\u20e3","4\u20e3","#\u20e3","\u2122","\u2139","\u2194","\u2195","\u2196","\u2197","\u2198","\u2199","\u21a9","\u21aa","\u231a","\u231b","\u23e9","\u23ea","\u23eb","\u23ec","\u23f0","\u23f3","\u25aa","\u25ab","\u25b6","\u25c0","\u25fb","\u25fc","\u25fd","\u25fe","\u2600","\u2601","\u260e","\u2611","\u2614","\u2615","\u261d","\u263a","\u2648","\u2649","\u264a","\u264b","\u264c","\u264d","\u264e","\u264f","\u2650","\u2651","\u2652","\u2653","\u2660","\u2663","\u2665","\u2666","\u2668","\u267b","\u267f","\u2693","\u26a0","\u26a1","\u26aa","\u26ab","\u26bd","\u26be","\u26c4","\u26c5","\u26ce","\u26d4","\u26ea","\u26f2","\u26f3","\u26f5","\u26fa","\u26fd","\u2934","\u2935","\u2b05","\u2b06","\u2b07","\u2b1b","\u2b1c","\u2b50","\u2b55","\u3030","\u303d","\u3297","\u3299","\ud83c\udc04","\ud83c\udccf","\ud83c\udf00","\ud83c\udf01","\ud83c\udf02","\ud83c\udf03","\ud83c\udf04","\ud83c\udf05","\ud83c\udf06","\ud83c\udf07","\ud83c\udf08","\ud83c\udf09","\ud83c\udf0a","\ud83c\udf0b","\ud83c\udf0c","\ud83c\udf0f","\ud83c\udf11","\ud83c\udf13","\ud83c\udf14","\ud83c\udf15","\ud83c\udf19","\ud83c\udf1b","\ud83c\udf1f","\ud83c\udf20","\ud83c\udf30","\ud83c\udf31","\ud83c\udf34","\ud83c\udf35","\ud83c\udf37","\ud83c\udf38","\ud83c\udf39","\ud83c\udf3a","\ud83c\udf3b","\ud83c\udf3c","\ud83c\udf3d","\ud83c\udf3e","\ud83c\udf3f","\ud83c\udf40","\ud83c\udf41","\ud83c\udf42","\ud83c\udf43","\ud83c\udf44","\ud83c\udf45","\ud83c\udf46","\ud83c\udf47","\ud83c\udf48","\ud83c\udf49","\ud83c\udf4a","\ud83c\udf4c","\ud83c\udf4d","\ud83c\udf4e","\ud83c\udf4f","\ud83c\udf51","\ud83c\udf52","\ud83c\udf53","\ud83c\udf54","\ud83c\udf55","\ud83c\udf56","\ud83c\udf57","\ud83c\udf58","\ud83c\udf59","\ud83c\udf5a","\ud83c\udf5b","\ud83c\udf5c","\ud83c\udf5d","\ud83c\udf5e","\ud83c\udf5f","\ud83c\udf60","\ud83c\udf61","\ud83c\udf62","\ud83c\udf63","\ud83c\udf64","\ud83c\udf65","\ud83c\udf66","\ud83c\udf67","\ud83c\udf68","\ud83c\udf69","\ud83c\udf6a","\ud83c\udf6b","\ud83c\udf6c","\ud83c\udf6d","\ud83c\udf6e","\ud83c\udf6f","\ud83c\udf70","\ud83c\udf71","\ud83c\udf72","\ud83c\udf73","\ud83c\udf74","\ud83c\udf75","\ud83c\udf76","\ud83c\udf77","\ud83c\udf78","\ud83c\udf79","\ud83c\udf7a","\ud83c\udf7b","\ud83c\udf80","\ud83c\udf81","\ud83c\udf82","\ud83c\udf83","\ud83c\udf84","\ud83c\udf85","\ud83c\udf86","\ud83c\udf87","\ud83c\udf88","\ud83c\udf89","\ud83c\udf8a","\ud83c\udf8b","\ud83c\udf8c","\ud83c\udf8d","\ud83c\udf8e","\ud83c\udf8f","\ud83c\udf90","\ud83c\udf91","\ud83c\udf92","\ud83c\udf93","\ud83c\udfa0","\ud83c\udfa1","\ud83c\udfa2","\ud83c\udfa3","\ud83c\udfa4","\ud83c\udfa5","\ud83c\udfa6","\ud83c\udfa7","\ud83c\udfa8","\ud83c\udfa9","\ud83c\udfaa","\ud83c\udfab","\ud83c\udfac","\ud83c\udfad","\ud83c\udfae","\ud83c\udfaf","\ud83c\udfb0","\ud83c\udfb1","\ud83c\udfb2","\ud83c\udfb3","\ud83c\udfb4","\ud83c\udfb5","\ud83c\udfb6","\ud83c\udfb7","\ud83c\udfb8","\ud83c\udfb9","\ud83c\udfba","\ud83c\udfbb","\ud83c\udfbc","\ud83c\udfbd","\ud83c\udfbe","\ud83c\udfbf","\ud83c\udfc0","\ud83c\udfc1","\ud83c\udfc2","\ud83c\udfc3","\ud83c\udfc4","\ud83c\udfc6","\ud83c\udfc8","\ud83c\udfca","\ud83c\udfe0","\ud83c\udfe1","\ud83c\udfe2","\ud83c\udfe3","\ud83c\udfe5","\ud83c\udfe6","\ud83c\udfe7","\ud83c\udfe8","\ud83c\udfe9","\ud83c\udfea","\ud83c\udfeb","\ud83c\udfec","\ud83c\udfed","\ud83c\udfee","\ud83c\udfef","\ud83c\udff0","\ud83d\udc0c","\ud83d\udc0d","\ud83d\udc0e","\ud83d\udc11","\ud83d\udc12","\ud83d\udc14","\ud83d\udc17","\ud83d\udc18","\ud83d\udc19","\ud83d\udc1a","\ud83d\udc1b","\ud83d\udc1c","\ud83d\udc1d","\ud83d\udc1e","\ud83d\udc1f","\ud83d\udc20","\ud83d\udc21","\ud83d\udc22","\ud83d\udc23","\ud83d\udc24","\ud83d\udc25","\ud83d\udc26","\ud83d\udc27","\ud83d\udc28","\ud83d\udc29","\ud83d\udc2b","\ud83d\udc2c","\ud83d\udc2d","\ud83d\udc2e","\ud83d\udc2f","\ud83d\udc30","\ud83d\udc31","\ud83d\udc32","\ud83d\udc33","\ud83d\udc34","\ud83d\udc35","\ud83d\udc36","\ud83d\udc37","\ud83d\udc38","\ud83d\udc39","\ud83d\udc3a","\ud83d\udc3b","\ud83d\udc3c","\ud83d\udc3d","\ud83d\udc3e","\ud83d\udc40","\ud83d\udc42","\ud83d\udc43","\ud83d\udc44","\ud83d\udc45","\ud83d\udc46","\ud83d\udc47","\ud83d\udc48","\ud83d\udc49","\ud83d\udc4a","\ud83d\udc4b","\ud83d\udc4c","\ud83d\udc4d","\ud83d\udc4e","\ud83d\udc4f","\ud83d\udc50","\ud83d\udc51","\ud83d\udc52","\ud83d\udc53","\ud83d\udc54","\ud83d\udc55","\ud83d\udc56","\ud83d\udc57","\ud83d\udc58","\ud83d\udc59","\ud83d\udc5a","\ud83d\udc5b","\ud83d\udc5c","\ud83d\udc5d","\ud83d\udc5e","\ud83d\udc5f","\ud83d\udc60","\ud83d\udc61","\ud83d\udc62","\ud83d\udc63","\ud83d\udc64","\ud83d\udc66","\ud83d\udc67","\ud83d\udc68","\ud83d\udc69","\ud83d\udc6a","\ud83d\udc6b","\ud83d\udc6e","\ud83d\udc6f","\ud83d\udc70","\ud83d\udc71","\ud83d\udc72","\ud83d\udc73","\ud83d\udc74","\ud83d\udc75","\ud83d\udc76","\ud83d\udc77","\ud83d\udc78","\ud83d\udc79","\ud83d\udc7a","\ud83d\udc7b","\ud83d\udc7c","\ud83d\udc7d","\ud83d\udc7e","\ud83d\udc7f","\ud83d\udc80","\ud83d\udc81","\ud83d\udc82","\ud83d\udc83","\ud83d\udc84","\ud83d\udc85","\ud83d\udc86","\ud83d\udc87","\ud83d\udc88","\ud83d\udc89","\ud83d\udc8a","\ud83d\udc8b","\ud83d\udc8c","\ud83d\udc8d","\ud83d\udc8e","\ud83d\udc8f","\ud83d\udc90","\ud83d\udc91","\ud83d\udc92","\ud83d\udc93","\ud83d\udc94","\ud83d\udc95","\ud83d\udc96","\ud83d\udc97","\ud83d\udc98","\ud83d\udc99","\ud83d\udc9a","\ud83d\udc9b","\ud83d\udc9c","\ud83d\udc9d","\ud83d\udc9e","\ud83d\udc9f","\ud83d\udca0","\ud83d\udca1","\ud83d\udca2","\ud83d\udca3","\ud83d\udca4","\ud83d\udca5","\ud83d\udca6","\ud83d\udca7","\ud83d\udca8","\ud83d\udca9","\ud83d\udcaa","\ud83d\udcab","\ud83d\udcac","\ud83d\udcae","\ud83d\udcaf","\ud83d\udcb0","\ud83d\udcb1","\ud83d\udcb2","\ud83d\udcb3","\ud83d\udcb4","\ud83d\udcb5","\ud83d\udcb8","\ud83d\udcb9","\ud83d\udcba","\ud83d\udcbb","\ud83d\udcbc","\ud83d\udcbd","\ud83d\udcbe","\ud83d\udcbf","\ud83d\udcc0","\ud83d\udcc1","\ud83d\udcc2","\ud83d\udcc3","\ud83d\udcc4","\ud83d\udcc5","\ud83d\udcc6","\ud83d\udcc7","\ud83d\udcc8","\ud83d\udcc9","\ud83d\udcca","\ud83d\udccb","\ud83d\udccc","\ud83d\udccd","\ud83d\udcce","\ud83d\udccf","\ud83d\udcd0","\ud83d\udcd1","\ud83d\udcd2","\ud83d\udcd3","\ud83d\udcd4","\ud83d\udcd5","\ud83d\udcd6","\ud83d\udcd7","\ud83d\udcd8","\ud83d\udcd9","\ud83d\udcda","\ud83d\udcdb","\ud83d\udcdc","\ud83d\udcdd","\ud83d\udcde","\ud83d\udcdf","\ud83d\udce0","\ud83d\udce1","\ud83d\udce2","\ud83d\udce3","\ud83d\udce4","\ud83d\udce5","\ud83d\udce6","\ud83d\udce7","\ud83d\udce8","\ud83d\udce9","\ud83d\udcea","\ud83d\udceb","\ud83d\udcee","\ud83d\udcf0","\ud83d\udcf1","\ud83d\udcf2","\ud83d\udcf3","\ud83d\udcf4","\ud83d\udcf6","\ud83d\udcf7","\ud83d\udcf9","\ud83d\udcfa","\ud83d\udcfb","\ud83d\udcfc","\ud83d\udd03","\ud83d\udd0a","\ud83d\udd0b","\ud83d\udd0c","\ud83d\udd0d","\ud83d\udd0e","\ud83d\udd0f","\ud83d\udd10","\ud83d\udd11","\ud83d\udd12","\ud83d\udd13","\ud83d\udd14","\ud83d\udd16","\ud83d\udd17","\ud83d\udd18","\ud83d\udd19","\ud83d\udd1a","\ud83d\udd1b","\ud83d\udd1c","\ud83d\udd1d","\ud83d\udd1e","\ud83d\udd1f","\ud83d\udd20","\ud83d\udd21","\ud83d\udd22","\ud83d\udd23","\ud83d\udd24","\ud83d\udd25","\ud83d\udd26","\ud83d\udd27","\ud83d\udd28","\ud83d\udd29","\ud83d\udd2a","\ud83d\udd2b","\ud83d\udd2e","\ud83d\udd2f","\ud83d\udd30","\ud83d\udd31","\ud83d\udd32","\ud83d\udd33","\ud83d\udd34","\ud83d\udd35","\ud83d\udd36","\ud83d\udd37","\ud83d\udd38","\ud83d\udd39","\ud83d\udd3a","\ud83d\udd3b","\ud83d\udd3c","\ud83d\udd3d","\ud83d\udd50","\ud83d\udd51","\ud83d\udd52","\ud83d\udd53","\ud83d\udd54","\ud83d\udd55","\ud83d\udd56","\ud83d\udd57","\ud83d\udd58","\ud83d\udd59","\ud83d\udd5a","\ud83d\udd5b","\ud83d\uddfb","\ud83d\uddfc","\ud83d\uddfd","\ud83d\uddfe","\ud83d\uddff","\ud83d\ude81","\ud83d\ude82","\ud83d\ude86","\ud83d\ude88","\ud83d\ude8a","\ud83d\ude8d","\ud83d\ude8e","\ud83d\ude90","\ud83d\ude94","\ud83d\ude96","\ud83d\ude98","\ud83d\ude9b","\ud83d\ude9c","\ud83d\ude9d","\ud83d\ude9e","\ud83d\ude9f","\ud83d\udea0","\ud83d\udea1","\ud83d\udea3","\ud83d\udea6","\ud83d\udeae","\ud83d\udeaf","\ud83d\udeb0","\ud83d\udeb1","\ud83d\udeb3","\ud83d\udeb4","\ud83d\udeb5","\ud83d\udeb7","\ud83d\udeb8","\ud83d\udebf","\ud83d\udec1","\ud83d\udec2","\ud83d\udec3","\ud83d\udec4","\ud83d\udec5","\ud83c\udf0d","\ud83c\udf0e","\ud83c\udf10","\ud83c\udf12","\ud83c\udf16","\ud83c\udf17","\ud83c\udf18","\ud83c\udf1a","\ud83c\udf1c","\ud83c\udf1d","\ud83c\udf1e","\ud83c\udf32","\ud83c\udf33","\ud83c\udf4b","\ud83c\udf50","\ud83c\udf7c","\ud83c\udfc7","\ud83c\udfc9","\ud83c\udfe4","\ud83d\udc00","\ud83d\udc01","\ud83d\udc02","\ud83d\udc03","\ud83d\udc04","\ud83d\udc05","\ud83d\udc06","\ud83d\udc07","\ud83d\udc08","\ud83d\udc09","\ud83d\udc0a","\ud83d\udc0b","\ud83d\udc0f","\ud83d\udc10","\ud83d\udc13","\ud83d\udc15","\ud83d\udc16","\ud83d\udc2a","\ud83d\udc65","\ud83d\udc6c","\ud83d\udc6d","\ud83d\udcad","\ud83d\udcb6","\ud83d\udcb7","\ud83d\udcec","\ud83d\udced","\ud83d\udcef","\ud83d\udcf5","\ud83d\udd00","\ud83d\udd01","\ud83d\udd02","\ud83d\udd04","\ud83d\udd05","\ud83d\udd06","\ud83d\udd07","\ud83d\udd09","\ud83d\udd15","\ud83d\udd2c","\ud83d\udd2d","\ud83d\udd5c","\ud83d\udd5d","\ud83d\udd5e","\ud83d\udd5f","\ud83d\udd60","\ud83d\udd61","\ud83d\udd62","\ud83d\udd63","\ud83d\udd64","\ud83d\udd65","\ud83d\udd66","\ud83d\udd67"]}),window.StickersModule.Module={},function(t){t.Module.Store={init:function(e){t.Module.Store.View.init(),t.Module.Store.ApiListener.init(),t.Module.Store.Api.init(e)},open:function(e){t.Module.Store.View.open(e)},close:function(){t.Module.Store.View.close()},setOnPurchaseCallback:function(e){t.Module.Store.Controller.onPurchaseCallback=e},purchaseSuccess:function(e,n){t.Module.Store.Controller.onPurchaseSuccess(e,n)},purchaseFail:function(){t.Module.Store.Controller.onPurchaseFail()}}}(StickersModule),function(t,e){function n(e){for(var n=t.Service.Storage.getPacks(),i=0;i<n.length;i++)if(n[i].pack_name==e)return t.Service.Pack.isHidden(n[i]);return!1}var i;e.Api={init:function(t){i=t},showPack:function(t){e.View.close(),i.open(t.attrs.packName)},purchasePack:function(i){var o=i.attrs.packName,r=i.attrs.packTitle,s=i.attrs.pricePoint,a=n(o);"A"==s||"B"==s&&t.Configs.userPremium||a?e.Controller.downloadPack(o,s):e.Controller.onPurchaseCallback&&e.Controller.onPurchaseCallback(o,r,s)},showPagePreloader:function(t){e.View.showPagePreloader(t.attrs.show)},removePack:function(t){e.Controller.removePack(t.attrs.packName)},showBackButton:function(t){e.View.showBackButton(t.attrs.show)},setYScroll:function(t){e.View.setYScroll(t.attrs.yPosition)},keyUp:function(t){var n=27;t.attrs.keyCode==n&&e.View.close()}}}(StickersModule,StickersModule.Module.Store),function(t,e){var n=!1;e.ApiListener={init:function(){n||(window.addEventListener("message",function(t){try{var n=JSON.parse(t.data)}catch(o){return}if(n.action){var i=e.Api;i[n.action]&&i[n.action](n)}}),n=!0)}}}(window.StickersModule,StickersModule.Module.Store),function(t,e){function n(n,i){var o=e.View.iframe;o&&o.contentWindow.postMessage(JSON.stringify({action:n,attrs:i}),t.Service.Helper.getDomain(t.Service.Url.buildStoreUrl("/")))}e.Controller={onPurchaseCallback:null,configureStore:function(){n("configure",{canShowPack:!0,canRemovePack:!0})},downloadPack:function(e,i){t.Service.Pack.purchase(e,i,!0,function(){n("onPackPurchaseSuccess")},function(){n("onPackPurchaseFail")})},removePack:function(e){t.Service.Pack.remove(e,function(){n("onPackRemoveSuccess")},function(){n("onPackRemoveFail")})},goBack:function(){n("goBack")},onPurchaseSuccess:function(t,e){this.downloadPack(t,e)},onPurchaseFail:function(){n("onPackPurchaseFail")},onScrollContent:function(t){n("onScrollContent",{yPosition:t})}}}(StickersModule,StickersModule.Module.Store),function(t,e){e.View={modal:null,iframe:null,modalBody:null,preloader:null,init:function(){this.iframe=document.createElement("iframe"),this.iframe.style.width="100%",this.iframe.style.height="100%",this.iframe.style.border="0",this.modal=t.Module.Modal.init(this.iframe,{onOpen:function(n,i){if(t.Service.Event.resize(),e.ApiListener.init(),"ios"==t.Service.Helper.getMobileOS()){var o=i.getElementsByClassName("sp-modal-body")[0];o.style.overflowY="scroll",o.addEventListener("scroll",function(){e.Controller.onScrollContent(o.scrollTop)}.bind(this)),this.modalBody=o}if(this.iframe.onload=function(){e.Controller.configureStore()},!this.preloader){var r=i.getElementsByClassName("sp-modal-dialog")[0];this.preloader=new t.View.Preloader(r),this.preloader.hide()}}.bind(this)}),this.modal.backButton.addEventListener("click",function(){e.Controller.goBack()}.bind(this)),window.addEventListener("resize",function(){this.onWindowResize()}.bind(this))},open:function(e){var n=this;n.iframe.src=t.Service.Url.getStoreUrl(),e&&t.Service.Sticker.getById(e,function(e){n.iframe.src=t.Service.Url.getStorePackUrl(e.pack)}),this.modal.open()},close:function(){this.modal&&this.modal.hasGlobalOpened()&&this.modal.close()},showPagePreloader:function(t){this.preloader[t?"show":"hide"]()},showBackButton:function(t){this.modal.backButton.style.display=t?"block":"none"},setYScroll:function(t){this.modalBody&&(this.modalBody.scrollTop=t)},onWindowResize:function(){var e=this.modal.modalEl.getElementsByClassName("sp-modal-dialog")[0];if(e.style.height="",window.innerWidth>700){var n=parseInt(t.Service.El.css(e,"marginTop"),10),i=parseInt(t.Service.El.css(e,"marginBottom"),10),o=window.innerHeight-n-i;e.style.height=o+"px"}}}}(window.StickersModule,StickersModule.Module.Store),function(t){function e(){if(!u){(u=document.createElement("div")).className=a.overlay,document.body.insertBefore(u,document.body.firstChild);var e=t.Service.El.outerWidth(document.body);document.body.classList.add(a.lock),document.getElementsByTagName("html")[0].classList.add(a.lock);var n=t.Service.El.outerWidth(document.body)-e;if(t.Service.Helper.isIE()&&(s=t.Service.El.css(document.body,"marginTop"),document.body.style.marginTop=0),0!=n){for(var i=["html","body"],o=0;o<i.length;o++){var l=i[o],c=document.getElementsByTagName(l)[0];r[l.toLowerCase()]=parseInt(t.Service.El.css(c,"marginRight"))}document.getElementsByTagName("html")[0].style.marginRight=r.html+n+"px",u.style.left=0-n+"px"}}}function n(){u.parentNode.removeChild(u),u=null,t.Service.Helper.isIE()&&(document.body.style.marginTop=s+"px");var e=t.Service.El.outerWidth(document.body);if(document.body.classList.remove(a.lock),document.getElementsByTagName("html")[0].classList.remove(a.lock),0!=t.Service.El.outerWidth(document.body)-e)for(var n=["html","body"],i=0;i<n.length;i++){var o=n[i];document.getElementsByTagName(o)[0].style.marginRight=r[o.toLowerCase()]+"px"}}var i=[],o=27,r={},s=0,a={lock:"sp-modal-lock",overlay:"sp-modal-overlay",modal:"sp-modal",modalDialog:"sp-modal-dialog",dialogHeader:"sp-modal-header",dialogBody:"sp-modal-body",back:"sp-modal-back",close:"sp-modal-close"},l={closeOnEsc:!0,closeOnOverlayClick:!0,onBeforeClose:null,onClose:null,onOpen:null},c=!1,u=null;t.Module.Modal={init:function(r,s){s=t.Service.Helper.extend({},l,s||{});var d={},h=document.createElement("div");h.style.display="none",h.className=a.modal,s.closeOnOverlayClick&&h.addEventListener("click",function(){d.close(s)}.bind(this));var f=document.createElement("div");f.className=a.modalDialog;var p=document.createElement("div");p.className=a.dialogHeader;var m=document.createElement("div");m.className=a.dialogBody,h.appendChild(f),f.appendChild(m),f.appendChild(p);var g=document.createElement("div");g.className=a.back,g.innerHTML='<div class="sp-icon-back"></div>',d.backButton=g;var v=document.createElement("div");if(v.className=a.close,v.innerHTML='<div class="sp-icon-close"></div>',v.addEventListener("click",function(){this.close()}.bind(d)),p.appendChild(g),p.appendChild(v),d.modalEl=h,!r||!r.nodeType){try{r=document.querySelector(r)}catch(y){}r||(r=document.createElement("div"))}return m.appendChild(r),document.body.appendChild(d.modalEl),window.addEventListener("keydown",function(){}),t.Service.Helper.extend(d,{options:s,contentEl:r,open:function(){if(i.length&&(i[i.length-1].modalEl.style.display="none"),i.push(this),e(),t.Service.El.appendAfter(this.modalEl,u),this.modalEl.style.display="block",this.options.closeOnEsc&&window.addEventListener("keyup",function(t){t.keyCode===o&&c&&this.close(this.options)}.bind(this)),this.options.closeOnOverlayClick)for(var n=this.modalEl.children.length;n--;)8!=this.modalEl.children[n].nodeType&&this.modalEl.children[n].addEventListener("click",function(t){t.stopPropagation()});document.addEventListener("touchmove",function(){}),window.addEventListener("onSelectAll",function(){}),this.options.onOpen&&this.options.onOpen(this.contentEl,this.modalEl,u,this.options),c=!0},close:function(){this.options.onClose&&this.options.onClose(this.contentEl,this.modalEl,u,this.options),document.body.removeChild(this.modalEl),i.pop(),i.length?i[i.length-1].modalEl.style.display="block":n(),c=!1},hasGlobalOpened:function(){return c}})},setDefaultOptions:function(e){l=t.Service.Helper.extend({},l,e)}}}(window.StickersModule),window.StickersModule.View={},function(t){var e={stickerItem:"sp-sticker-item",emojiItem:"sp-emoji"};t.View.Block=t.Libs.Class({emojisOffset:0,emojisLimit:100,isRendered:!1,el:null,contentEl:null,tabsView:null,scrollableEl:null,_constructor:function(){this.el=document.getElementById(t.Configs.elId),this.contentEl=document.createElement("div"),this.tabsView=new t.View.Tabs,window.addEventListener("resize",function(){this.onWindowResize()}.bind(this))},render:function(){this.tabsView.render(),this.el.innerHTML="",this.el.className="stickerpipe",this.el.style.width=t.Configs.width,this.scrollableEl=document.createElement("div"),this.scrollableEl.className="sp-scroll-content",this.scrollableEl.style.height=parseInt(t.Configs.height,10)-49+"px",this.scrollableEl.appendChild(this.contentEl),this.scrollableEl.addEventListener("ps-y-reach-end",function(){"sp-emojis"==this.contentEl.className&&this.renderEmojis(this.emojisOffset)}.bind(this)),this.el.appendChild(this.tabsView.el),this.el.appendChild(this.scrollableEl),t.Libs.PerfectScrollbar.initialize(this.scrollableEl),this.isRendered=!0,this.tabsView.onWindowResize(),this.onWindowResize()},renderRecentStickers:function(){var e=t.Service.Storage.getRecentStickers();if(!e.length)return this.contentEl.className="sp-recent-empty",this.contentEl.innerHTML=t.Configs.htmlForEmptyRecent,this.updateScroll("top"),!1;this.renderStickers(e)},renderEmojiBlock:function(){this.contentEl.innerHTML="",this.contentEl.className="sp-emojis",this.emojisOffset=0,this.renderEmojis(this.emojisOffset),this.updateScroll("top")},renderPack:function(t){this.renderStickers(t.stickers)},renderStickers:function(n){function i(n){var i=document.createElement("span");i.className="sp-sticker-placeholder",i.style.background=t.Configs.primaryColor||"#e1e1e1",i.setAttribute("data-sticker-id",n);var r=new Image;r.onload=function(){i.className=e.stickerItem,i.style.background="",i.appendChild(r)},r.onerror=function(){},t.Service.Sticker.getById(n,function(e){r.src=e.image[t.Configs.resolution]}),o.contentEl.appendChild(i)}var o=this;this.contentEl.innerHTML="",this.contentEl.className="sp-stickers";for(var r=0;r<n.length;r++){i(n[r])}this.updateScroll("top")},renderEmojis:function(n){if(!(n>t.Configs.emojiList.length-1)){var i=n+this.emojisLimit;i>t.Configs.emojiList.length-1&&(i=t.Configs.emojiList.length);for(var o=n;o<i;o++){var r=t.Configs.emojiList[o],s=document.createElement("span"),a=t.Service.Emoji.parseEmojiFromText(r);s.className=e.emojiItem,s.innerHTML=a,this.contentEl.appendChild(s)}this.emojisOffset=i,this.updateScroll()}},handleClickOnSticker:function(n){t.Service.Helper.setEvent("click",this.contentEl,e.stickerItem,n)},handleClickOnEmoji:function(n){t.Service.Helper.setEvent("click",this.contentEl,e.emojiItem,n)},open:function(t){(t=t||null)&&this.tabsView.activeTab(t),this.tabsView.hasActiveTab||this.tabsView.activeLastUsedStickersTab()},close:function(){},updateScroll:function(e){"top"==(e=e||"relative")&&(this.scrollableEl.scrollTop=0),t.Libs.PerfectScrollbar.update(this.scrollableEl)},onWindowResize:function(){}})}(window.StickersModule),function(t){var e=t.View.Block;t.View.Popover=e.extend({popoverEl:null,triangleEl:null,toggleEl:null,active:!1,_constructor:function(){e.prototype._constructor.apply(this,arguments);var n=this;this.toggleEl=document.getElementById(t.Configs.elId),this.toggleEl.addEventListener("click",function(){this.toggle()}.bind(this)),this.popoverEl=document.createElement("div"),this.popoverEl.className="stickerpipe-popover",this.el=document.createElement("div"),this.triangleEl=document.createElement("div"),this.triangleEl.className="sp-arrow",this.popoverEl.appendChild(this.el),this.popoverEl.appendChild(this.triangleEl),this.handleClickOnSticker(function(){this.toggle()}.bind(this)),document.body.addEventListener("click",function(t){function e(t,e){for(var n=e.parentNode;null!=n;){if(n==t)return!0;n=n.parentNode}return!1}n.active&&(e(n.popoverEl,t.target)||e(n.toggleEl.parentElement,t.target)||n.toggle())}),window.addEventListener(t.Service.Event.events.showContentHighlight,function(){n.toggleEl.classList.add("stickerpipe-content-highlight")}),window.addEventListener(t.Service.Event.events.hideContentHighlight,function(){n.toggleEl.classList.remove("stickerpipe-content-highlight")}),window.addEventListener(t.Service.Event.events.popoverShown,function(){t.Service.Event.resize()})},toggle:function(){this.active?this.close():this.open()},open:function(){this.active||(this.active=!0,this.toggleEl.parentElement.appendChild(this.popoverEl),this.positioned(),t.Service.Event.popoverShown()),e.prototype.open.apply(this,arguments)},close:function(){this.active=!1,this.toggleEl.parentElement.removeChild(this.popoverEl),t.Service.Event.popoverHidden(),this.popoverEl.style.marginTop=0},positioned:function(){var t=0;if(this.triangleEl){var e=this.toggleEl.currentStyle||window.getComputedStyle(this.toggleEl),n=parseInt(e.marginLeft,10);this.popoverEl.style.marginLeft=n+"px",this.triangleEl.style.marginLeft=this.toggleEl.getBoundingClientRect().left-this.popoverEl.getBoundingClientRect().left+this.toggleEl.clientWidth/2-this.triangleEl.offsetWidth/2+"px","none"!=(this.triangleEl.currentStyle||window.getComputedStyle(this.triangleEl)).display&&(t=15);var i=this.toggleEl.getBoundingClientRect().top+this.toggleEl.offsetHeight-this.popoverEl.getBoundingClientRect().top;this.popoverEl.style.marginTop=-(this.popoverEl.offsetHeight+this.toggleEl.offsetHeight+t-i+5)+"px"}else console&&console.error("error: triangle not found")}})}(window.StickersModule),window.StickersModule.View.Preloader=function(t){var e=document.createElement("div");return e.className="sp-preloader",e.innerHTML='<div class="sp-preloader-content"><div class="sp-preloader-chasing-dots"><div class="sp-preloader-child sp-preloader-dot1"></div><div class="sp-preloader-child sp-preloader-dot2"></div></div></div>',t&&t.appendChild(e),{getEl:function(){return e},show:function(){e.style.display=""},hide:function(){e.style.display="none"}}},function(t){var e=48,n={scrollableContainer:"sp-tabs-scrollable-container",scrollableContent:"sp-tabs-scrollable-content",controlTab:"sp-control-tab",controlButton:"sp-control-button",unwatched:"sp-unwatched-content",packTab:"sp-pack-tab",tabActive:"sp-tab-active",tabs:"sp-tabs",tabItem:"sp-tab-item"};t.View.Tabs=t.Libs.Class({el:null,scrollableContainerEl:null,scrollableContentEl:null,packTabs:{},packTabsIndexes:{},hasActiveTab:!1,controls:{emoji:{id:"spTabEmoji","class":"sp-tab-emoji",icon:"sp-icon-face",el:null,isTab:!0},history:{id:"spTabHistory","class":"sp-tab-history",icon:"sp-icon-clock",el:null,isTab:!0},settings:{id:"spTabSettings","class":"sp-tab-settings",icon:"sp-icon-settings",el:null,isTab:!1},store:{id:"spTabStore","class":"sp-tab-store",icon:"sp-icon-plus",el:null,isTab:!1},prevPacks:{id:"spTabPrevPacks","class":"sp-tab-prev-packs",icon:"sp-icon-arrow-back",el:null,isTab:!1},nextPacks:{id:"spTabNextPacks","class":"sp-tab-next-packs",icon:"sp-icon-arrow-forward",el:null,isTab:!1}},_constructor:function(){this.el=document.createElement("div"),window.addEventListener("resize",function(){this.onWindowResize()}.bind(this))},render:function(){this.el.className=n.tabs,this.el.innerHTML="",this.renderPrevPacksTab(),this.renderScrollableContainer(),this.renderPacks(),this.renderNextPacksTab(),this.renderStoreTab()},renderScrollableContainer:function(){this.scrollableContentEl=document.createElement("div"),this.scrollableContentEl.className=n.scrollableContent,this.scrollableContainerEl=document.createElement("div"),this.scrollableContainerEl.className=n.scrollableContainer,this.scrollableContainerEl.appendChild(this.scrollableContentEl),this.el.appendChild(this.scrollableContainerEl)},renderControlButton:function(t){t.isTab=t.isTab||!1;var e=[t["class"]];e.push(t.isTab?n.controlTab:n.controlButton);var i='<span class="'+t.icon+'"></span>';return t.el=this.renderTab(t.id,e,i),t.el},renderPackTab:function(t){var e=[n.packTab];t.isUnwatched&&e.push(n.unwatched);var i="<img src="+t.tab_icon.xxhdpi+">",o=this.renderTab(null,e,i,{"data-pack-name":t.pack_name});return o.addEventListener("click",function(){o.classList.remove(n.unwatched)}.bind(this)),this.packTabs[t.pack_name]=o,o},renderTab:function(t,e,i,o){e=e||[],o=o||{};var r=document.createElement("span");for(var s in t&&(r.id=t),e.push(n.tabItem),r.classList.add.apply(r.classList,e),o)r.setAttribute(s,o[s]);return r.innerHTML=i,r.addEventListener("click",function(){if(r.classList.contains(n.controlTab)||r.classList.contains(n.packTab)){for(var t in this.packTabs)this.packTabs[t].classList.remove(n.tabActive);for(var e in this.controls){var i=this.controls[e];i&&i.el&&i.el.classList.remove(n.tabActive)}r.classList.add(n.tabActive)}}.bind(this)),r},renderPacks:function(){this.scrollableContentEl.innerHTML="",this.renderEmojiTab(),this.renderHistoryTab();for(var e=t.Service.Storage.getPacks(),n=0;n<e.length;n++){var i=e[n];t.Service.Pack.isHidden(i)||(this.scrollableContentEl.appendChild(this.renderPackTab(i)),this.packTabsIndexes[i.pack_name]=n)}this.renderSettingsTab()},renderEmojiTab:function(){t.Configs.enableEmojiTab&&this.scrollableContentEl.appendChild(this.renderControlButton(this.controls.emoji))},renderHistoryTab:function(){t.Configs.enableHistoryTab&&this.scrollableContentEl.appendChild(this.renderControlButton(this.controls.history))},renderSettingsTab:function(){t.Configs.enableSettingsTab&&this.scrollableContentEl.appendChild(this.renderControlButton(this.controls.settings))},renderStoreTab:function(){t.Configs.enableStoreTab&&(this.el.appendChild(this.renderControlButton(this.controls.store)),t.Service.Metadata.getStoreLastModified()>t.Service.Metadata.getStoreLastVisit()&&this.controls.store.el.classList.add("sp-unwatched-content"))},renderPrevPacksTab:function(){this.el.appendChild(this.renderControlButton(this.controls.prevPacks)),t.Service.Helper.setEvent("click",this.el,this.controls.prevPacks["class"],this.onClickPrevPacksButton.bind(this))},renderNextPacksTab:function(){this.el.appendChild(this.renderControlButton(this.controls.nextPacks)),t.Service.Helper.setEvent("click",this.el,this.controls.nextPacks["class"],this.onClickNextPacksButton.bind(this))},onClickPrevPacksButton:function(){var t=this.scrollableContainerEl.offsetWidth,n=parseInt(this.scrollableContentEl.style.left,10)||0,i=parseInt(t/e,10),o=n+e*i;o=o>0?0:o,this.scrollableContentEl.style.left=o+"px",this.onWindowResize()},onClickNextPacksButton:function(){var t=this.scrollableContainerEl.offsetWidth,n=parseInt(this.scrollableContentEl.style.left,10)||0,i=parseInt(t/e,10),o=-e*i+n;this.scrollableContentEl.style.left=o+"px",this.onWindowResize()},activeTab:function(e){var i=this.packTabsIndexes[e];t.Configs.enableEmojiTab&&i++,t.Configs.enableHistoryTab&&i++,this.packTabs[e].click(),this.hasActiveTab=!0;var o=this.scrollableContentEl.getElementsByClassName(n.packTab)[0].offsetWidth,r=this.scrollableContainerEl.offsetWidth,s=parseInt(r/o,10),a=-parseInt(i/s,10)*r;a=-a<s*o?0:a+6,this.scrollableContentEl.style.left=a+"px",this.onWindowResize()},activeLastUsedStickersTab:function(){this.controls.history.el.click(),this.hasActiveTab=!0},handleClickOnEmojiTab:function(e){t.Service.Helper.setEvent("click",this.el,this.controls.emoji["class"],e)},handleClickOnRecentTab:function(e){t.Service.Helper.setEvent("click",this.el,this.controls.history["class"],e)},handleClickOnPackTab:function(e){t.Service.Helper.setEvent("click",this.el,n.packTab,e)},handleClickOnStoreTab:function(e){t.Service.Helper.setEvent("click",this.el,this.controls.store["class"],e)},onWindowResize:function(){this.el.parentElement&&(this.controls.prevPacks.el&&(parseInt(this.scrollableContentEl.style.left,10)<0?this.controls.prevPacks.el.style.display="block":this.controls.prevPacks.el.style.display="none"),this.controls.nextPacks.el&&(this.scrollableContentEl.scrollWidth+(parseInt(this.scrollableContentEl.style.left,10)||0)>this.scrollableContainerEl.offsetWidth?this.controls.nextPacks.el.style.display="block":this.controls.nextPacks.el.style.display="none"))}})}(window.StickersModule),function(t,e){t.Stickers=e.Libs.Class({view:null,_constructor:function(t){e.Service.Helper.setConfig(t);var n=e.Service.Helper.getMobileOS();if("ios"!=n&&"android"!=n||(t.enableEmojiTab=!1),!e.Configs.apiKey||!e.Configs.userId)throw new Error("Empty one of required data [apiKey, userId]");e.Configs.userId=e.Service.Helper.md5(e.Configs.userId+e.Configs.apiKey),e.Configs.userId!=e.Service.Storage.getUserId()&&(e.Service.Storage.setPacks([]),e.Service.Storage.setRecentStickers([]),e.Service.Storage.setUserData({}),e.Service.Storage.setPendingRequestTasks([]),e.Service.Metadata.setStoreLastVisit(0)),e.Service.Storage.setUserId(e.Configs.userId),e.Module.Store.init(this),e.Service.User.init(),e.Service.Pack.init(this),e.Service.Emoji.init(e.Libs.Twemoji),e.Service.PendingRequest.init()},render:function(t,n){e.Configs.elId=n||e.Configs.elId;var i=this
;this.view=new e.View.Popover,this.delegateEvents(),e.Service.Packs.fetch(function(){i.view.render(),t&&t()}),setInterval(function(){e.Service.Packs.fetch()},36e5)},delegateEvents:function(){var t=this;this.view.tabsView.handleClickOnEmojiTab(function(){t.view.renderEmojiBlock()}),this.view.tabsView.handleClickOnRecentTab(function(){t.view.renderRecentStickers()}),this.view.tabsView.handleClickOnStoreTab(function(){e.Module.Store.open(),e.Service.Metadata.setStoreLastVisit(+new Date),e.Service.Highlight.check(),t.view.tabsView.controls.store.el.classList.remove("sp-unwatched-content")}),this.view.tabsView.handleClickOnPackTab(function(n){var i=n.getAttribute("data-pack-name"),o=e.Service.Storage.getPack(i);o&&(o.isUnwatched=!1,e.Service.Storage.setPack(i,o),t.view.renderPack(o)),e.Service.Highlight.check()}),this.view.handleClickOnSticker(function(t){var n=t.getAttribute("data-sticker-id");e.Service.Statistic.useSticker(n),e.Service.Storage.addRecentSticker(n),e.Service.Highlight.check()}),this.view.handleClickOnEmoji(function(t){var n=e.Service.Emoji.parseEmojiFromHtml(t.innerHTML);e.Service.Statistic.useEmoji(n)})},fetchPacks:function(t){e.Service.Packs.fetch(t)},isSticker:function(t){return e.Service.Sticker.isSticker(t)},parseStickerFromText:function(t,n){return e.Service.Sticker.parse(t,n)},parseEmojiFromText:function(t){return e.Service.Emoji.parseEmojiFromText(t)},parseEmojiFromHtml:function(t){return e.Service.Emoji.parseEmojiFromHtml(t)},onUserMessageSent:function(t){e.Service.Statistic.messageSend(t)},purchaseSuccess:function(t,n){e.Module.Store.purchaseSuccess(t,n)},purchaseFail:function(){e.Module.Store.purchaseFail()},open:function(t){this.view.open(t)},close:function(){this.view.close()},openStore:function(t){e.Module.Store.open(t)},closeStore:function(){e.Module.Store.close()},getPackMainIcon:function(t,n){e.Service.Pack.getMainIcon(t,n)},onClickSticker:function(t,e){this.view.handleClickOnSticker(function(n){t.call(e,"[["+n.getAttribute("data-sticker-id")+"]]")})},onClickEmoji:function(t,e){this.view.handleClickOnEmoji(function(n){var i=this.parseEmojiFromHtml(n.innerHTML);t.call(e,i)}.bind(this))},onPurchase:function(t){e.Module.Store.setOnPurchaseCallback(t)}})}(window,window.StickersModule),function(t){"use strict";var e=function(e,n,i){this.$element=t(e),this.$items=undefined,this.options=t.extend(!0,{},t.fn.suggest.defaults,i,this.$element.data(),this.$element.data("options")),this.key=n,this.isShown=!1,this.query="",this._queryPos=[],this._keyPos=-1,this.$dropdown=t("<div />",{"class":"dropdown suggest "+this.options.dropdownClass,html:t("<ul />",{"class":"dropdown-menu",role:"menu"}),"data-key":this.key}),this.load()};e.prototype={__setListener:function(){return this.$element.on("suggest.show",t.proxy(this.options.onshow,this)).on("suggest.select",t.proxy(this.options.onselect,this)).on("suggest.lookup",t.proxy(this.options.onlookup,this)).on("keyup",t.proxy(this.__keyup,this)),this},__getCaretPos:function(e){var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],i=!(null==window.mozInnerScreenX);return function(e,o){var r=document.createElement("div");r.id="input-textarea-caret-position-mirror-div",document.body.appendChild(r);var s=r.style,a=window.getComputedStyle?getComputedStyle(e):e.currentStyle;s.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(s.wordWrap="break-word"),s.position="absolute",s.visibility="hidden",t.each(n,function(t,e){s[e]=a[e]}),i?(s.width=parseInt(a.width)-2+"px",e.scrollHeight>parseInt(a.height)&&(s.overflowY="scroll")):s.overflow="hidden",r.textContent=e.value.substring(0,o),"INPUT"===e.nodeName&&(r.textContent=r.textContent.replace(/\s/g,"\xa0"));var l=document.createElement("span");l.textContent=e.value.substring(o)||".",r.appendChild(l);var c={top:l.offsetTop+parseInt(a.borderTopWidth),left:l.offsetLeft+parseInt(a.borderLeftWidth)};return document.body.removeChild(r),c}(this.$element.get(0),e)},__keyup:function(e){var n=[38,40,37,39,17,18,9,16,20,91,93,36,35,45,33,34,144,112,113,114,115,116,117,118,119,120,121,122,123,145,19];switch(e.keyCode){case 27:return void this.hide();case 13:return!0}if(-1!==t.inArray(e.keyCode,n))return!0;for(var i=this.$element,o=i.val(),r=this.__getSelection(i.get(0)).start,s=r;s>=0;s--){var a=t.trim(o.substring(s-1,s));if(o.substring(s,r).search("-")>-1){this.hide();break}if(a===this.key&&""==t.trim(o.substring(s-2,s-1))){this.query=o.substring(s,r),this._queryPos=[s,r],this._keyPos=s,this.lookup(this.query);break}}},__getVisibleItems:function(){return this.$items?this.$items.not(".hidden"):t()},__build:function(){var e=this.$dropdown,n=this,i=function(){n.hide()};e.on("click","li:has(a)",function(e){e.preventDefault(),n.__select(t(this).index()),n.$element.focus()}).on("mouseover","li:has(a)",function(){n.$element.off("blur",i)}).on("mouseout","li:has(a)",function(){n.$element.on("blur",i)}),this.$element.before(e).on("blur",i).on("keydown",function(e){var i;if(n.isShown)switch(e.keyCode){case 13:return(i=n.__getVisibleItems()).each(function(){t(this).is(".active")&&n.__select(t(this).index())}),!1;case 40:return!(i=n.__getVisibleItems()).last().is(".active")&&(i.each(function(e){var n=t(this),o=i.eq(e+1);if(n.is(".active"))return o.is(".hidden")||(n.removeClass("active"),o.addClass("active")),!1}),!1);case 38:return!(i=n.__getVisibleItems()).first().is(".active")&&(i.each(function(e){var n=t(this),o=i.eq(e-1);if(n.is(".active"))return o.is(".hidden")||(n.removeClass("active"),o.addClass("active")),!1}),!1)}})},__mapItem:function(e){var n={text:"",value:""};return!(this.options.map&&!(e=this.options.map(e)))&&(e instanceof Object?(n.text=e.text||"",n.value=e.value||""):(n.text=e,n.value=e),t("<li />",{"data-value":n.value}).html(t("<a />",{href:"#",html:n.text})))},__select:function(e){var n=this.$element,i=n.get(0),o=n.val(),r=this.get(e),s=this._keyPos+r.value.length+1;if(n.val(o.slice(0,this._keyPos)+r.value+" "+o.slice(this.__getSelection(i).start)),i.setSelectionRange)i.setSelectionRange(s,s);else if(i.createTextRange){var a=i.createTextRange();a.collapse(!0),a.moveEnd("character",s),a.moveStart("character",s),a.select()}n.trigger(t.extend({type:"suggest.select"},this),r),this.hide()},__getSelection:function(t){var e,n,i,o,r,s,a=0,l=0;return t.focus(),"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd?(a=t.selectionStart,l=t.selectionEnd):(i=document.selection.createRange())&&i.parentElement()===t&&(r=(e=t.value).length,n=e.replace(/\r\n/g,"\n"),(o=t.createTextRange()).moveToBookmark(i.getBookmark()),(s=t.createTextRange()).collapse(!1),o.compareEndPoints("StartToEnd",s)>-1?a=l=r:(a=-o.moveStart("character",-r),a+=n.slice(0,a).split("\n").length-1,o.compareEndPoints("EndToEnd",s)>-1?l=r:(l=-o.moveEnd("character",-r),l+=n.slice(0,l).split("\n").length-1)),a-=e.substring(0,a).split("\r\n").length-1,l-=e.substring(0,l).split("\r\n").length-1),{start:a,end:l}},__buildItems:function(t){var e=this.$dropdown.find(".dropdown-menu");if(e.empty(),t&&t instanceof Array)for(var n in t){var i=this.__mapItem(t[n]);i&&e.append(i)}return e.find("li:has(a)")},__lookup:function(e,n){this.$element.trigger(t.extend({type:"suggest.lookup"},this),[e,n]);n.eq(0).addClass("active");n&&n.length?this.show():this.hide()},__filterData:function(e){var n=this.options;return this.$items.addClass("hidden"),this.$items.filter(function(i){if(""===e)return i<n.filter.limit;var o=t(this).find("a:first").text();return n.filter.casesensitive||(o=o.toLowerCase(),e=e.toLowerCase()),-1!=o.indexOf(e)}).slice(0,n.filter.limit).removeClass("hidden active"),this.__getVisibleItems()},get:function(t){if(this.$items){var e=this.$items.eq(t);return{text:e.children("a:first").text(),value:e.attr("data-value"),index:t,$element:e}}},lookup:function(e){var n,i,o=this.options,r=this;("function"==typeof this.options.data?(this.$items=undefined,n=this.options.data(e)):n=this.options.data,n&&t.isFunction(n.promise))?n.done(function(t){t&&t.length>o.filter.limit&&(t=t.slice(0,o.filter.limit)),r.$items=r.__buildItems(t),r.__lookup(e,r.$items)}):(this.$items||(this.$items=this.__buildItems(n)),i=this.__filterData(e,n),this.__lookup(e,i))},load:function(){this.__setListener(),this.__build()},hide:function(){this.$dropdown.removeClass("open"),this.isShown=!1,this.$items&&this.$items.removeClass("active"),this._keyPos=-1},show:function(){var e,n=this.$element,i=this.$dropdown.find(".dropdown-menu"),o=n.get(0),r=this.options,s={top:"auto",bottom:"auto",left:"auto",right:"auto"};if(!this.isShown){if(this.$dropdown.addClass("open"),!1!==r.position){if(e=this.__getCaretPos(this._keyPos),"string"==typeof r.position)switch(r.position){case"bottom":s.top=n.outerHeight()-parseFloat(i.css("margin-top")),s.left=0,s.right=0;break;case"top":s.top=-(i.outerHeight(!0)+parseFloat(i.css("margin-top"))),s.left=0,s.right=0;break;case"caret":s.top=e.top-o.scrollTop,s.left=e.left-o.scrollLeft}else s=t.extend(s,"function"==typeof r.position?r.position(o,e):r.position);i.css(s)}this.isShown=!0,n.trigger(t.extend({type:"suggest.show"},this))}}};var n=t.fn.suggest;t.fn.suggest=function(n){var i=arguments[1],o=function(n,i){var o={};return t.each(i,function(t,i){var r=t.toString().charAt(0);o[r]=new e(n,r,"object"==typeof i&&i)}),o};return this.each(function(){var e=this,r=t(this),s=r.data("suggest"),a={};"string"==typeof n?n.length>1&&s?"undefined"!=typeof s[n]&&s[n](i):1==n.length&&i&&(a[n]=i instanceof Array?{data:i}:i,s?!s||n in s||r.data("suggest",t.extend(s,o(this,a))):r.data("suggest",o(this,a))):s?s&&(t.each(n,function(t,e){t in s==0&&(a[t]=e)}),r.data("suggest",t.extend(s,o(e,a)))):r.data("suggest",o(this,n))})},t.fn.suggest.defaults={data:[],map:undefined,filter:{casesensitive:!1,limit:15},dropdownClass:"",position:"caret",onshow:function(){},onselect:function(){},onlookup:function(){}},t.fn.suggest.Constructor=e,t.fn.suggest.noConflict=function(){return t.fn.suggest=n,this}}(jQuery),"undefined"==typeof jQuery)throw new Error("jquery-confirm requires jQuery");var jconfirm,Jconfirm;!function(t,e){t.fn.confirm=function(e,n){return void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:n||!1}),t(this).each(function(){var n=t(this);n.attr("jc-attached")?console.warn("jConfirm has already been attached to this element ",n[0]):(n.on("click",function(i){i.preventDefault();var o=t.extend({},e);if(n.attr("data-title")&&(o.title=n.attr("data-title")),n.attr("data-content")&&(o.content=n.attr("data-content")),"undefined"==typeof o.buttons&&(o.buttons={}),o.$target=n,n.attr("href")&&0==Object.keys(o.buttons).length){var r=t.extend(!0,{},jconfirm.pluginDefaults.defaultButtons,(jconfirm.defaults||{}).defaultButtons||{}),s=Object.keys(r)[0];o.buttons=r,o.buttons[s].action=function(){location.href=n.attr("href")}}o.closeIcon=!1;t.confirm(o)}),n.attr("jc-attached",!0))}),t(this)},t.confirm=function(e,n){if(void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:n||!1}),"object"!=typeof e.buttons&&(e.buttons={}),0==Object.keys(e.buttons).length){var i=t.extend(!0,{},jconfirm.pluginDefaults.defaultButtons,(jconfirm.defaults||{}).defaultButtons||{});e.buttons=i}return jconfirm(e)},t.alert=function(e,n){if(void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:n||!1}),"object"!=typeof e.buttons&&(e.buttons={}),0==Object.keys(e.buttons).length){var i=t.extend(!0,{},jconfirm.pluginDefaults.defaultButtons,(jconfirm.defaults||{}).defaultButtons||{}),o=Object.keys(i)[0];e.buttons[o]=i[o]}return jconfirm(e)},t.dialog=function(t,e){return void 0===t&&(t={}),"string"==typeof t&&(t={content:t,title:e||!1,closeIcon:function(){}}),t.buttons={},"undefined"==typeof t.closeIcon&&(t.closeIcon=function(){}),t.confirmKeys=[13],jconfirm(t)},jconfirm=function(e){void 0===e&&(e={});var n=t.extend(!0,{},jconfirm.pluginDefaults);jconfirm.defaults&&(n=t.extend(!0,n,jconfirm.defaults)),n=t.extend(!0,{},n,e);var i=new Jconfirm(n);return jconfirm.instances.push(i),i},(Jconfirm=function(e){t.extend(this,e),this._init()}).prototype={_init:function(){var e=this;jconfirm.instances.length||(jconfirm.lastFocused=t("body").find(":focus")),this._id=Math.round(99999*Math.random()),this.contentParsed=t(document.createElement("div")),this.lazyOpen||setTimeout(function(){e.open()},0)},_buildHTML:function(){var e=this;this._parseAnimation(this.animation,"o"),this._parseAnimation(this.closeAnimation,"c"),this._parseBgDismissAnimation(this.backgroundDismissAnimation),this._parseColumnClass(this.columnClass),this._parseTheme(this.theme),this._parseType(this.type);var n=t(this.template);n.find(".jconfirm-box").addClass(this.animationParsed).addClass(this.backgroundDismissAnimationParsed).addClass(this.typeParsed),this.typeAnimated&&n.find(".jconfirm-box").addClass("jconfirm-type-animated"),this.useBootstrap?(n.find(".jc-bs3-row").addClass(this.bootstrapClasses.row),n.find(".jc-bs3-row").addClass("justify-content-md-center justify-content-sm-center justify-content-xs-center justify-content-lg-center"),n.find(".jconfirm-box-container").addClass(this.columnClassParsed),this.containerFluid?n.find(".jc-bs3-container").addClass(this.bootstrapClasses.containerFluid):n.find(".jc-bs3-container").addClass(this.bootstrapClasses.container)):n.find(".jconfirm-box").css("width",this.boxWidth),this.titleClass&&n.find(".jconfirm-title-c").addClass(this.titleClass),n.addClass(this.themeParsed);var i="jconfirm-box"+this._id;n.find(".jconfirm-box").attr("aria-labelledby",i).attr("tabindex",-1),n.find(".jconfirm-content").attr("id",i),null!==this.bgOpacity&&n.find(".jconfirm-bg").css("opacity",this.bgOpacity),this.rtl&&n.addClass("jconfirm-rtl"),this.$el=n.appendTo(this.container),this.$jconfirmBoxContainer=this.$el.find(".jconfirm-box-container"),this.$jconfirmBox=this.$body=this.$el.find(".jconfirm-box"),this.$jconfirmBg=this.$el.find(".jconfirm-bg"),this.$title=this.$el.find(".jconfirm-title"),this.$titleContainer=this.$el.find(".jconfirm-title-c"),this.$content=this.$el.find("div.jconfirm-content"),this.$contentPane=this.$el.find(".jconfirm-content-pane"),this.$icon=this.$el.find(".jconfirm-icon-c"),this.$closeIcon=this.$el.find(".jconfirm-closeIcon"),this.$holder=this.$el.find(".jconfirm-holder"),this.$btnc=this.$el.find(".jconfirm-buttons"),this.$scrollPane=this.$el.find(".jconfirm-scrollpane"),e.setStartingPoint(),this._contentReady=t.Deferred(),this._modalReady=t.Deferred(),this.$holder.css({"padding-top":this.offsetTop,"padding-bottom":this.offsetBottom}),this.setTitle(),this.setIcon(),this._setButtons(),this._parseContent(),this.initDraggable(),this.isAjax&&this.showLoading(!1),t.when(this._contentReady,this._modalReady).then(function(){e.isAjaxLoading?setTimeout(function(){e.isAjaxLoading=!1,e.setContent(),e.setTitle(),e.setIcon(),setTimeout(function(){e.hideLoading(!1),e._updateContentMaxHeight()},100),"function"==typeof e.onContentReady&&e.onContentReady()},50):(e._updateContentMaxHeight(),e.setTitle(),e.setIcon(),"function"==typeof e.onContentReady&&e.onContentReady()),e.autoClose&&e._startCountDown()}),this._watchContent(),"none"===this.animation&&(this.animationSpeed=1,this.animationBounce=1),this.$body.css(this._getCSS(this.animationSpeed,this.animationBounce)),this.$contentPane.css(this._getCSS(this.animationSpeed,1)),this.$jconfirmBg.css(this._getCSS(this.animationSpeed,1)),this.$jconfirmBoxContainer.css(this._getCSS(this.animationSpeed,1))},_typePrefix:"jconfirm-type-",typeParsed:"",_parseType:function(t){this.typeParsed=this._typePrefix+t},setType:function(t){var e=this.typeParsed;this._parseType(t),this.$jconfirmBox.removeClass(e).addClass(this.typeParsed)},themeParsed:"",_themePrefix:"jconfirm-",setTheme:function(t){var e=this.theme;this.theme=t||this.theme,this._parseTheme(this.theme),e&&this.$el.removeClass(e),this.$el.addClass(this.themeParsed),this.theme=t},_parseTheme:function(e){var n=this;e=e.split(","),t.each(e,function(i,o){-1===o.indexOf(n._themePrefix)&&(e[i]=n._themePrefix+t.trim(o))}),this.themeParsed=e.join(" ").toLowerCase()},backgroundDismissAnimationParsed:"",_bgDismissPrefix:"jconfirm-hilight-",_parseBgDismissAnimation:function(e){var n=e.split(","),i=this;t.each(n,function(e,o){-1===o.indexOf(i._bgDismissPrefix)&&(n[e]=i._bgDismissPrefix+t.trim(o))}),this.backgroundDismissAnimationParsed=n.join(" ").toLowerCase()},animationParsed:"",closeAnimationParsed:"",_animationPrefix:"jconfirm-animation-",setAnimation:function(t){this.animation=t||this.animation,this._parseAnimation(this.animation,"o")},_parseAnimation:function(e,n){n=n||"o";var i=e.split(","),o=this;t.each(i,function(e,n){-1===n.indexOf(o._animationPrefix)&&(i[e]=o._animationPrefix+t.trim(n))});var r=i.join(" ").toLowerCase();return"o"===n?this.animationParsed=r:this.closeAnimationParsed=r,r},setCloseAnimation:function(t){this.closeAnimation=t||this.closeAnimation,this._parseAnimation(this.closeAnimation,"c")},setAnimationSpeed:function(t){this.animationSpeed=t||this.animationSpeed},columnClassParsed:"",setColumnClass:function(t){this.useBootstrap?(this.columnClass=t||this.columnClass,this._parseColumnClass(this.columnClass),this.$jconfirmBoxContainer.addClass(this.columnClassParsed)):console.warn("cannot set columnClass, useBootstrap is set to false")},_updateContentMaxHeight:function(){var n=t(e).height()-(this.$jconfirmBox.outerHeight()-this.$contentPane.outerHeight())-(this.offsetTop+this.offsetBottom);this.$contentPane.css({"max-height":n+"px"})},setBoxWidth:function(t){this.useBootstrap?console.warn("cannot set boxWidth, useBootstrap is set to true"):(this.boxWidth=t,this.$jconfirmBox.css("width",t))},_parseColumnClass:function(t){var e;switch(t=t.toLowerCase()){case"xl":case"xlarge":e="col-md-12";break;case"l":case"large":e="col-md-8 col-md-offset-2";break;case"m":case"medium":e="col-md-6 col-md-offset-3";break;case"s":case"small":e="col-md-4 col-md-offset-4";break;case"xs":case"xsmall":e="col-md-2 col-md-offset-5";break;default:e=t}this.columnClassParsed=e},initDraggable:function(){var n=this,i=this.$titleContainer;this.resetDrag(),this.draggable&&(i.on("mousedown",function(t){i.addClass("jconfirm-hand"),n.mouseX=t.clientX,n.mouseY=t.clientY,n.isDrag=!0}),t(e).on("mousemove."+this._id,function(t){n.isDrag&&(n.movingX=t.clientX-n.mouseX+n.initialX,n.movingY=t.clientY-n.mouseY+n.initialY,n.setDrag())}),t(e).on("mouseup."+this._id,function(){i.removeClass("jconfirm-hand"),n.isDrag&&(n.isDrag=!1,n.initialX=n.movingX,n.initialY=n.movingY)}))},resetDrag:function(){this.isDrag=!1,this.initialX=0,this.initialY=0,this.movingX=0,this.movingY=0,this.mouseX=0,this.mouseY=0,this.$jconfirmBoxContainer.css("transform","translate(0px, 0px)")},setDrag:function(){if(this.draggable){this.alignMiddle=!1;var n=this.$jconfirmBox.outerWidth(),i=this.$jconfirmBox.outerHeight(),o=t(e).width(),r=t(e).height(),s=this,a=1;if(s.movingX%a==0||s.movingY%a==0){if(s.dragWindowBorder){var l=o/2-n/2,c=r/2-i/2;c-=s.dragWindowGap,(l-=s.dragWindowGap)+s.movingX<0?s.movingX=-l:l-s.movingX<0&&(s.movingX=l),c+s.movingY<0?s.movingY=-c:c-s.movingY<0&&(s.movingY=c)}s.$jconfirmBoxContainer.css("transform","translate("+s.movingX+"px, "+s.movingY+"px)")}}},_scrollTop:function(){if("undefined"!=typeof pageYOffset)return pageYOffset;var t=document.body,e=document.documentElement;return(e=e.clientHeight?e:t).scrollTop},_watchContent:function(){var n=this;this._timer&&clearInterval(this._timer);var i=0;this._timer=setInterval(function(){if(n.smoothContent){var o=n.$content.outerHeight()||0;o!==i&&(n.$contentPane.css({height:o}).scrollTop(0),i=o);var r=t(e).height();n.offsetTop+n.offsetBottom+n.$jconfirmBox.height()-n.$contentPane.height()+n.$content.height()<r?n.$contentPane.addClass("no-scroll"):n.$contentPane.removeClass("no-scroll")}},this.watchInterval)},_overflowClass:"jconfirm-overflow",_hilightAnimating:!1,highlight:function(){this.hiLightModal()},hiLightModal:function(){var t=this;if(!this._hilightAnimating){t.$body.addClass("hilight");var e=parseFloat(t.$body.css("animation-duration"))||2;this._hilightAnimating=!0,setTimeout(function(){t._hilightAnimating=!1,t.$body.removeClass("hilight")},1e3*e)}},_bindEvents:function(){var n=this;this.boxClicked=!1,this.$scrollPane.click(function(){if(!n.boxClicked){var t,e=!1,i=!1;if("string"==typeof(t="function"==typeof n.backgroundDismiss?n.backgroundDismiss():n.backgroundDismiss)&&"undefined"!=typeof n.buttons[t]?(e=t,i=!1):i=void 0===t||1==!!t,e){var o=n.buttons[e].action.apply(n);i=void 0===o||!!o}i?n.close():n.hiLightModal()}n.boxClicked=!1}),this.$jconfirmBox.click(function(){n.boxClicked=!0});var i=!1;t(e).on("jcKeyDown."+n._id,function(){i||(i=!0)}),t(e).on("keyup."+n._id,function(t){i&&(n.reactOnKey(t),i=!1)}),t(e).on("resize."+this._id,function(){n._updateContentMaxHeight(),setTimeout(function(){n.resetDrag()},100)})},_cubic_bezier:"0.36, 0.55, 0.19",_getCSS:function(t,e){return{"-webkit-transition-duration":t/1e3+"s","transition-duration":t/1e3+"s","-webkit-transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+e+")","transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+e+")"}},_setButtons:function(){var e=this,n=0;if("object"!=typeof this.buttons&&(this.buttons={}),t.each(this.buttons,function(i,o){n+=1,"function"==typeof o&&(e.buttons[i]=o={action:o}),e.buttons[i].text=o.text||i,e.buttons[i].btnClass=o.btnClass||"btn-default",e.buttons[i].action=o.action||function(){},e.buttons[i].keys=o.keys||[],e.buttons[i].isHidden=o.isHidden||!1,e.buttons[i].isDisabled=o.isDisabled||!1,t.each(e.buttons[i].keys,function(t,n){e.buttons[i].keys[t]=n.toLowerCase()});var r=t('<button type="button" class="btn"></button>').html(e.buttons[i].text).addClass(e.buttons[i].btnClass).prop("disabled",e.buttons[i].isDisabled).css("display",e.buttons[i].isHidden?"none":"").click(function(t){t.preventDefault();var n=e.buttons[i].action.apply(e,[e.buttons[i]]);e.onAction.apply(e,[i,e.buttons[i]]),e._stopCountDown(),(void 0===n||n)&&e.close()});e.buttons[i].el=r,e.buttons[i].setText=function(t){r.html(t)},e.buttons[i].addClass=function(t){r.addClass(t)},e.buttons[i].removeClass=function(t){r.removeClass(t)},e.buttons[i].disable=function(){e.buttons[i].isDisabled=!0,r.prop("disabled",!0)},e.buttons[i].enable=function(){e.buttons[i].isDisabled=!1,r.prop("disabled",!1)},e.buttons[i].show=function(){e.buttons[i].isHidden=!1,r.css("display","")},e.buttons[i].hide=function(){e.buttons[i].isHidden=!0,r.css("display","none")},e["$_"+i]=e["$$"+i]=r,e.$btnc.append(r)}),0===n&&this.$btnc.hide(),null===this.closeIcon&&0===n&&(this.closeIcon=!0),this.closeIcon){if(this.closeIconClass){var i='<i class="'+this.closeIconClass+'"></i>';this.$closeIcon.html(i)}this.$closeIcon.click(function(t){t.preventDefault();var n,i=!1,o=!1;if("string"==typeof(n="function"==typeof e.closeIcon?e.closeIcon():e.closeIcon)&&"undefined"!=typeof e.buttons[n]?(i=n,o=!1):o=void 0===n||1==!!n,i){var r=e.buttons[i].action.apply(e);o=void 0===r||!!r}o&&e.close()}),this.$closeIcon.show()}else this.$closeIcon.hide()},setTitle:function(t,e){if(e=e||!1,void 0!==t)if("string"==typeof t)this.title=t;else if("function"==typeof t){"function"==typeof t.promise&&console.error("Promise was returned from title function, this is not supported.");var n=t();this.title="string"==typeof n&&n}else this.title=!1;this.isAjaxLoading&&!e||(this.$title.html(this.title||""),this.updateTitleContainer())},setIcon:function(t,e){if(e=e||!1,void 0!==t)if("string"==typeof t)this.icon=t;else if("function"==typeof t){var n=t();this.icon="string"==typeof n&&n}else this.icon=!1;this.isAjaxLoading&&!e||(this.$icon.html(this.icon?'<i class="'+this.icon+'"></i>':""),this.updateTitleContainer())},updateTitleContainer:function(){this.title||this.icon?this.$titleContainer.show():this.$titleContainer.hide()},setContentPrepend:function(t){t&&this.contentParsed.prepend(t)},setContentAppend:function(t){t&&this.contentParsed.append(t)},setContent:function(t,e){e=!!e;var n=this;t&&this.contentParsed.html("").append(t),this.isAjaxLoading&&!e||(this.$content.html(""),this.$content.append(this.contentParsed),setTimeout(function(){n.$body.find("input[autofocus]:visible:first").focus()},100))},loadingSpinner:!1,showLoading:function(t){this.loadingSpinner=!0,this.$jconfirmBox.addClass("loading"),t&&this.$btnc.find("button").prop("disabled",!0)},hideLoading:function(t){this.loadingSpinner=!1,this.$jconfirmBox.removeClass("loading"),t&&this.$btnc.find("button").prop("disabled",!1)},ajaxResponse:!1,contentParsed:"",isAjax:!1,isAjaxLoading:!1,_parseContent:function(){var e=this,n="&nbsp;";if("function"==typeof this.content){var i=this.content.apply(this);"string"==typeof i?this.content=i:"object"==typeof i&&"function"==typeof i.always?(this.isAjax=!0,this.isAjaxLoading=!0,i.always(function(t,n,i){e.ajaxResponse={data:t,status:n,xhr:i},e._contentReady.resolve(t,n,i),"function"==typeof e.contentLoaded&&e.contentLoaded(t,n,i)}),this.content=n):this.content=n}if("string"==typeof this.content&&"url:"===this.content.substr(0,4).toLowerCase()){this.isAjax=!0,this.isAjaxLoading=!0;var o=this.content.substring(4,this.content.length);t.get(o).done(function(t){e.contentParsed.html(t)}).always(function(t,n,i){e.ajaxResponse={data:t,status:n,xhr:i},e._contentReady.resolve(t,n,i),"function"==typeof e.contentLoaded&&e.contentLoaded(t,n,i)})}this.content||(this.content=n),this.isAjax||(this.contentParsed.html(this.content),this.setContent(),e._contentReady.resolve())},_stopCountDown:function(){clearInterval(this.autoCloseInterval),this.$cd&&this.$cd.remove()},_startCountDown:function(){var e=this,n=this.autoClose.split("|");if(2!==n.length)return console.error("Invalid option for autoClose. example 'close|10000'"),!1;var i=n[0],o=parseInt(n[1]);if("undefined"==typeof this.buttons[i])return console.error("Invalid button key '"+i+"' for autoClose"),!1;var r=Math.ceil(o/1e3);this.$cd=t('<span class="countdown"> ('+r+")</span>").appendTo(this["$_"+i]),this.autoCloseInterval=setInterval(function(){e.$cd.html(" ("+(r-=1)+") "),r<=0&&(e["$$"+i].trigger("click"),e._stopCountDown())},1e3)},_getKey:function(t){switch(t){case 192:return"tilde";case 13:return"enter";case 16:return"shift";case 9:return"tab";case 20:return"capslock";case 17:return"ctrl";case 91:return"win";case 18:return"alt";case 27:return"esc";case 32:return"space"}var e=String.fromCharCode(t);return!!/^[A-z0-9]+$/.test(e)&&e.toLowerCase()},reactOnKey:function(e){var n=this,i=t(".jconfirm");if(i.eq(i.length-1)[0]!==this.$el[0])return!1;var o=e.which;if(this.$content.find(":input").is(":focus")&&/13|32/.test(o))return!1;var r,s=this._getKey(o);"esc"===s&&this.escapeKey&&(!0===this.escapeKey?this.$scrollPane.trigger("click"):"string"!=typeof this.escapeKey&&"function"!=typeof this.escapeKey||(r="function"==typeof this.escapeKey?this.escapeKey():this.escapeKey)&&("undefined"==typeof this.buttons[r]?console.warn("Invalid escapeKey, no buttons found with key "+r):this["$_"+r].trigger("click")));t.each(this.buttons,function(t,e){-1!=e.keys.indexOf(s)&&n["$_"+t].trigger("click")})},setDialogCenter:function(){console.info("setDialogCenter is deprecated, dialogs are centered with CSS3 tables")},_unwatchContent:function(){clearInterval(this._timer)},close:function(){var n=this;return"function"==typeof this.onClose&&this.onClose(),this._unwatchContent(),t(e).unbind("resize."+this._id),t(e).unbind("keyup."+this._id),t(e).unbind("jcKeyDown."+this._id),this.draggable&&(t(e).unbind("mousemove."+this._id),t(e).unbind("mouseup."+this._id),this.$titleContainer.unbind("mousedown")),n.$el.removeClass(n.loadedClass),t("body").removeClass("jconfirm-no-scroll-"+n._id),n.$jconfirmBoxContainer.removeClass("jconfirm-no-transition"),setTimeout(function(){n.$body.addClass(n.closeAnimationParsed),n.$jconfirmBg.addClass("jconfirm-bg-h");var i="none"===n.closeAnimation?1:n.animationSpeed;setTimeout(function(){n.$el.remove();jconfirm.instances;for(var i=jconfirm.instances.length-1;i>=0;i--)jconfirm.instances[i]._id===n._id&&jconfirm.instances.splice(i,1);if(!jconfirm.instances.length&&n.scrollToPreviousElement&&jconfirm.lastFocused&&jconfirm.lastFocused.length&&t.contains(document,jconfirm.lastFocused[0])){var o=jconfirm.lastFocused;if(n.scrollToPreviousElementAnimate){var r=t(e).scrollTop(),s=jconfirm.lastFocused.offset().top,a=t(e).height();if(s>r&&s<r+a)o.focus();else{var l=s-Math.round(a/3);t("html, body").animate({scrollTop:l},n.animationSpeed,"swing",function(){o.focus()})}}else o.focus();jconfirm.lastFocused=!1}"function"==typeof n.onDestroy&&n.onDestroy()},.4*i)},50),!0},open:function(){return!this.isOpen()&&(this._buildHTML(),this._bindEvents(),this._open(),!0)},setStartingPoint:function(){var n=!1;if(!0!==this.animateFromElement&&this.animateFromElement)n=this.animateFromElement,jconfirm.lastClicked=!1;else{if(!jconfirm.lastClicked||!0!==this.animateFromElement)return!1;n=jconfirm.lastClicked,jconfirm.lastClicked=!1}if(!n)return!1;var i=n.offset(),o=n.outerHeight()/2,r=n.outerWidth()/2;o-=this.$jconfirmBox.outerHeight()/2,r-=this.$jconfirmBox.outerWidth()/2;var s=i.top+o;s-=this._scrollTop();var a=i.left+r,l=t(e).height()/2,c=t(e).width()/2;if(s-=l-this.$jconfirmBox.outerHeight()/2,a-=c-this.$jconfirmBox.outerWidth()/2,Math.abs(s)>l||Math.abs(a)>c)return!1;this.$jconfirmBoxContainer.css("transform","translate("+a+"px, "+s+"px)")},_open:function(){var t=this;"function"==typeof t.onOpenBefore&&t.onOpenBefore(),this.$body.removeClass(this.animationParsed),this.$jconfirmBg.removeClass("jconfirm-bg-h"),this.$body.focus(),t.$jconfirmBoxContainer.css("transform","translate(0px, 0px)"),setTimeout(function(){t.$body.css(t._getCSS(t.animationSpeed,1)),t.$body.css({"transition-property":t.$body.css("transition-property")+", margin"}),t.$jconfirmBoxContainer.addClass("jconfirm-no-transition"),t._modalReady.resolve(),"function"==typeof t.onOpen&&t.onOpen(),t.$el.addClass(t.loadedClass)},this.animationSpeed)},loadedClass:"jconfirm-open",isClosed:function(){return!this.$el||""===this.$el.css("display")},isOpen:function(){return!this.isClosed()},toggle:function(){this.isOpen()?this.close():this.open()}},jconfirm.instances=[],jconfirm.lastFocused=!1,jconfirm.pluginDefaults={template:'<div class="jconfirm"><div class="jconfirm-bg jconfirm-bg-h"></div><div class="jconfirm-scrollpane"><div class="jconfirm-row"><div class="jconfirm-cell"><div class="jconfirm-holder"><div class="jc-bs3-container"><div class="jc-bs3-row"><div class="jconfirm-box-container jconfirm-animated"><div class="jconfirm-box" role="dialog" aria-labelledby="labelled" tabindex="-1"><div class="jconfirm-closeIcon">&times;</div><div class="jconfirm-title-c"><span class="jconfirm-icon-c"></span><span class="jconfirm-title"></span></div><div class="jconfirm-content-pane"><div class="jconfirm-content"></div></div><div class="jconfirm-buttons"></div><div class="jconfirm-clear"></div></div></div></div></div></div></div></div></div></div>',title:"Hello",titleClass:"",type:"default",typeAnimated:!0,draggable:!0,dragWindowGap:15,dragWindowBorder:!0,animateFromElement:!0,alignMiddle:!0,smoothContent:!0,content:"Are you sure to continue?",buttons:{},defaultButtons:{ok:{action:function(){}},close:{action:function(){}}},contentLoaded:function(){},icon:"",lazyOpen:!1,bgOpacity:null,theme:"light",animation:"scale",closeAnimation:"scale",animationSpeed:400,animationBounce:1,escapeKey:!0,rtl:!1,container:"body",containerFluid:!1,backgroundDismiss:!1,backgroundDismissAnimation:"shake",autoClose:!1,closeIcon:null,closeIconClass:!1,watchInterval:100,columnClass:"col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1",boxWidth:"50%",scrollToPreviousElement:!0,scrollToPreviousElementAnimate:!0,useBootstrap:!0,offsetTop:40,offsetBottom:40,bootstrapClasses:{container:"container",containerFluid:"container-fluid",row:"row"},onContentReady:function(){},onOpenBefore:function(){},onOpen:function(){},onClose:function(){},onDestroy:function(){},onAction:function(){}};var n=!1;t(e).on("keydown",function(i){if(!n){var o=!1;t(i.target).closest(".jconfirm-box").length&&(o=!0),o&&t(e).trigger("jcKeyDown"),n=!0}}),t(e).on("keyup",function(){n=!1}),jconfirm.lastClicked=!1,t(document).on("mousedown","button, a",function(){jconfirm.lastClicked=t(this)})}(jQuery,window),function(t,e){function n(t,e,n){var i=t+":",o=document.createElement("test").style;return o.cssText=n?i+e:i+["-webkit-","-moz-","-ms-","-o-",""].join(e+";"+i)+e+";",-1!==o[t].indexOf(e)}function i(t){return parseInt(t,10)||0}var o=0,r={classes:{plugin:"fixedsticky",active:"fixedsticky-on",
inactive:"fixedsticky-off",clone:"fixedsticky-dummy",withoutFixedFixed:"fixedsticky-withoutfixedfixed"},keys:{offset:"fixedStickyOffset",position:"fixedStickyPosition",id:"fixedStickyId"},tests:{sticky:n("position","sticky"),fixed:n("position","fixed",!0)},getScrollTop:function(){var e="pageYOffset",n="scrollTop";return t?e in t?t[e]:t.document.documentElement[n]:t.document.body[n]},bypass:function(){return r.tests.sticky&&!r.optOut||!r.tests.fixed||t.FixedFixed&&!e(t.document.documentElement).hasClass("fixed-supported")},update:function(t){function n(){var t=h+a;return d<t&&t+u<=y+b}function o(){return d+(u||0)>h+m-l&&h+m-l>=y+(u||0)}if(t.offsetWidth){var s,a,l,c=e(t),u=c.outerHeight(),d=c.data(r.keys.offset),h=r.getScrollTop(),f=c.is("."+r.classes.active),p=function(t){c[t?"addClass":"removeClass"](r.classes.active)[t?"removeClass":"addClass"](r.classes.inactive)},m=e(window).height(),g=c.data(r.keys.position),v=c.parent(),y=v.offset().top,b=v.outerHeight();d===undefined?(d=c.offset().top,c.data(r.keys.offset,d),c.after(e("<div>").addClass(r.classes.clone).height(u))):c.next("."+r.classes.clone).height(u),g||((s="auto"!==c.css("top")||"auto"!==c.css("bottom"))||c.css("position","fixed"),g={top:"auto"!==c.css("top"),bottom:"auto"!==c.css("bottom")},s||c.css("position",""),c.data(r.keys.position,g)),a=i(c.css("top")),l=i(c.css("bottom")),g.top&&n()||g.bottom&&o()?f||p(!0):f&&p(!1)}},destroy:function(n){var i=e(n);return r.bypass()?i:i.each(function(){var n=e(this),i=n.data(r.keys.id);e(t).unbind(".fixedsticky"+i),n.removeData([r.keys.offset,r.keys.position,r.keys.id]).removeClass(r.classes.active).removeClass(r.classes.inactive).next("."+r.classes.clone).remove()})},init:function(n){var i=e(n);return r.bypass()?i:i.each(function(){var n=this,s=o++;e(this).data(r.keys.id,s),e(t).bind("scroll.fixedsticky"+s,function(){r.update(n)}).trigger("scroll.fixedsticky"+s),e(t).bind("resize.fixedsticky"+s,function(){i.is("."+r.classes.active)&&r.update(n)})})}};t.FixedSticky=r,e.fn.fixedsticky=function(t){if("function"==typeof r[t])return r[t].call(r,this);if("object"!=typeof t&&t)throw new Error("Method `"+t+"` does not exist on jQuery.fixedsticky");return r.init.call(r,this)},t.FixedFixed||e(t.document.documentElement).addClass(r.classes.withoutFixedFixed)}(window,jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var n,i,o;return e&&e.requirejs||(e?i=e:e={},function(t){function e(t,e){return _.call(t,e)}function r(t,e){var n,i,o,r,s,a,l,c,u,d,h,f=e&&e.split("/"),p=y.map,m=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(s=(t=t.split("/")).length-1,y.nodeIdCompat&&k.test(t[s])&&(t[s]=t[s].replace(k,"")),t=f.slice(0,f.length-1).concat(t),u=0;u<t.length;u+=1)if("."===(h=t[u]))t.splice(u,1),u-=1;else if(".."===h){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||m)&&p){for(u=(n=t.split("/")).length;u>0;u-=1){if(i=n.slice(0,u).join("/"),f)for(d=f.length;d>0;d-=1)if((o=p[f.slice(0,d).join("/")])&&(o=o[i])){r=o,a=u;break}if(r)break;!l&&m&&m[i]&&(l=m[i],c=u)}!r&&l&&(r=l,a=c),r&&(n.splice(0,a,r),t=n.join("/"))}return t}function s(e,n){return function(){var i=w.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),f.apply(t,i.concat([e,n]))}}function a(t){return function(e){return r(e,t)}}function l(t){return function(e){g[t]=e}}function c(n){if(e(v,n)){var i=v[n];delete v[n],b[n]=!0,h.apply(t,i)}if(!e(g,n)&&!e(b,n))throw new Error("No "+n);return g[n]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function d(t){return function(){return y&&y.config&&y.config[t]||{}}}var h,f,p,m,g={},v={},y={},b={},_=Object.prototype.hasOwnProperty,w=[].slice,k=/\.js$/;p=function(t,e){var n,i=u(t),o=i[0];return t=i[1],o&&(n=c(o=r(o,e))),o?t=n&&n.normalize?n.normalize(t,a(e)):r(t,e):(o=(i=u(t=r(t,e)))[0],t=i[1],o&&(n=c(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},m={require:function(t){return s(t)},exports:function(t){var e=g[t];return void 0!==e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:d(t)}}},h=function(n,i,o,r){var a,u,d,h,f,y,_=[],w=typeof o;if(r=r||n,"undefined"===w||"function"===w){for(i=!i.length&&o.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if("require"===(u=(h=p(i[f],r)).f))_[f]=m.require(n);else if("exports"===u)_[f]=m.exports(n),y=!0;else if("module"===u)a=_[f]=m.module(n);else if(e(g,u)||e(v,u)||e(b,u))_[f]=c(u);else{if(!h.p)throw new Error(n+" missing "+u);h.p.load(h.n,s(r,!0),l(u),{}),_[f]=g[u]}d=o?o.apply(g[n],_):void 0,n&&(a&&a.exports!==t&&a.exports!==g[n]?g[n]=a.exports:d===t&&y||(g[n]=d))}else n&&(g[n]=o)},n=i=f=function(e,n,i,o,r){if("string"==typeof e)return m[e]?m[e](n):c(p(e,n).f);if(!e.splice){if((y=e).deps&&f(y.deps,y.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=o,o=r),o?h(t,e,n,i):setTimeout(function(){h(t,e,n,i)},4),f},f.config=function(t){return f(t)},n._defined=g,(o=function(t,n,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");n.splice||(i=n,n=[]),e(g,t)||e(v,t)||(v[t]=[t,n,i])}).amd={jQuery:!0}}(),e.requirejs=n,e.require=i,e.define=o),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,n=[];for(var i in e){"function"==typeof e[i]&&"constructor"!==i&&n.push(i)}return n}var n={Extend:function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Decorate:function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,o=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),o=n.prototype.constructor),o.apply(this,arguments)}function o(){this.constructor=i}var r=e(n),s=e(t);n.displayName=t.displayName,i.prototype=new o;for(var a=0;a<s.length;a++){var l=s[a];i.prototype[l]=t.prototype[l]}for(var c=function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var o=n.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),o.apply(this,arguments)}},u=0;u<r.length;u++){var d=r[u];i.prototype[d]=c(d)}return i}},i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;i>n;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;t>n;n++){e+=Math.floor(36*Math.random()).toString(36)}return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),o==n.length-1&&(i[r]=t[e]),i=i[r]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),o=n.style.overflowX,r=n.style.overflowY;return(o!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===o||"scroll"===r||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},n}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);i.append(n(o(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],o=this.option(i);e.push(o)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var e=t(this),n=t.data(this,"data"),o=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(o,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};for(var o in e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]),i){var r=i[o];n.setAttribute(o,r)}if(e.children){var s=t(n),a=document.createElement("strong");a.className="select2-results__group",t(a),this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],d=this.option(u);l.push(d)}var h=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(l),s.append(a),s.append(h)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e){var n=this,i=e.id+"-results";this.$results.attr("id",i),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.hideMessages(),n.showLoading(t)}),e.on("select",function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var o=i-1;0===t.length&&(o=0);var r=e.eq(o);r.trigger("mouseenter");var s=n.$results.offset().top,a=r.offset().top,l=n.$results.scrollTop()+(a-s);0===o?n.$results.scrollTop(0):0>a-s&&n.$results.scrollTop(l)}}),e.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t)+1;if(!(i>=e.length)){var o=e.eq(i);o.trigger("mouseenter");var r=n.$results.offset().top+n.$results.outerHeight(!1),s=o.offset().top+o.outerHeight(!1),a=n.$results.scrollTop()+s-r;0===i?n.$results.scrollTop(0):s>r&&n.$results.scrollTop(a)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-e+t.deltaY,o=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&i<=n.$results.height();o?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var i=t(this),o=i.data("data");return"true"===i.attr("aria-selected")?void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:o}):n.trigger("close",{})):void n.trigger("select",{originalEvent:e,data:o})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:e,element:t(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,o=this.$results.scrollTop()+(i-n),r=i-n;o-=2*t.outerHeight(!1),2>=e?this.$results.scrollTop(0):(r>this.$results.outerHeight()||0>r)&&this.$results.scrollTop(o)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=i(e,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=o(r):t(n).append(r)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t){var e=this,i=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e._handleBlur(t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",i),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target).closest(".select2");t(".select2.select2-container--open").each(function(){var e=t(this);this!=n[0]&&e.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},i.prototype.bind=function(t){var e=this;i.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("focus",function(){t.isOpen()||e.$selection.focus()}),t.on("selection:update",function(t){e.update(t.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t("<span></span>")},i.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)}else this.clear()},i}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(){var e=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){e.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(n){if(!e.options.get("disabled")){var i=t(this).parent().data("data");e.trigger("unselect",{originalEvent:n,data:i})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var o=t[i],r=this.selectionContainer(),s=this.display(o,r);r.append(s),r.prop("title",o.title||o.text),r.data("data",o),e.push(r)}var a=this.$selection.find(".select2-selection__rendered");n.appendMany(a,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),o=0;o<i.length;o++){var r={data:i[o]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||(n.which==e.DELETE||n.which==e.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,e,i){var o=this;t.call(this,e,i),e.on("open",function(){o.$search.trigger("focus")}),e.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),e.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),e.on("disable",function(){o.$search.prop("disabled",!0)}),e.on("focus",function(){o.$search.trigger("focus")}),e.on("results:focus",function(t){o.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){o.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){o._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===o.$search.val()){var e=o.$searchContainer.prev(".select2-selection__choice");if(e.length>0){var i=e.data("data");o.searchRemoveChoice(i),t.preventDefault()}}});var r=document.documentMode,s=r&&11>=r;this.$selection.on("input.searchcheck",".select2-search--inline",function(){return s?void o.$selection.off("input.search input.searchcheck"):void o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(s&&"input"===t.type)o.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&o.handleSearch(t)}})},i.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").innerWidth():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,r)){n=n||{};var i=t.Event("select2:"+e,{params:n});o.$element.trigger(i),-1!==t.inArray(e,s)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e",
"\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"}}),e.define("select2/data/base",["../utils"],function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return(i+=t.generateChars(4))+(null!=n.id?"-"+n.id.toString():"-"+t.generateChars(4))},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),o=i.item(t);e.push(o)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var o=[];(t=[t]).push.apply(t,i);for(var r=0;r<t.length;r++){var s=t[r].id;-1===n.inArray(s,o)&&o.push(s)}e.$element.val(o),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,n(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var o=[],r=0;r<i.length;r++){var s=i[r].id;s!==t.id&&-1===n.inArray(s,o)&&o.push(s)}e.$element.val(o),e.$element.trigger("change")})},i.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],o=this;this.$element.children().each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var r=o.item(e),s=o.matches(t,r);null!==s&&i.push(s)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),o=this._normalizeItem(t);return o.element=e,n.data(e,"data",o),i},i.prototype.item=function(t){var e={};if(null!=(e=n.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),o=[],r=0;r<i.length;r++){var s=n(i[r]),a=this.item(s);o.push(a)}e.children=o}return(e=this._normalizeItem(e)).element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t});var e={selected:!1,disabled:!1};return null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},e,t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){function i(t){return function(){return n(this).val()==t.id}}for(var o=this,r=this.$element.find("option"),s=r.map(function(){return o.item(n(this)).id}).get(),a=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(n.inArray(c.id,s)>=0){var u=r.filter(i(c)),d=this.item(u),h=n.extend(!0,{},c,d),f=this.option(h);u.replaceWith(f)}else{var p=this.option(c);if(c.children){var m=this.convertToOptions(c.children);e.appendMany(p,m)}a.push(p)}}return a},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var o=n.ajax(t);return o.then(e),o.fail(i),o}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=r.transport(r,function(i){var r=o.processResults(i,t);o.options.get("debug")&&window.console&&console.error&&(r&&r.results&&n.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(r)},function(){i.status&&"0"===i.status||o.trigger("results:message",{message:"errorLoading"})});o._request=i}var o=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,t)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var o=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,n,i),t.isArray(o))for(var a=0;a<o.length;a++){var l=o[a],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return e.prototype.query=function(t,e,n){function i(t,r){for(var s=t.results,a=0;a<s.length;a++){var l=s[a],c=null!=l.children&&!i({results:l.children},!0);if(l.text===e.term||c)return!r&&(t.data=s,void n(t))}if(r)return!0;var u=o.createTag(e);if(null!=u){var d=o.option(u);d.attr("data-select2-tag",!0),o.addOptions([d]),o.insertTag(s,u)}t.results=s,n(t)}var o=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,n):void t.call(this,e,i)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){function o(e){var n=s._normalizeItem(e);if(!s.$element.find("option").filter(function(){return t(this).val()===n.id}).length){var i=s.option(n);i.attr("data-select2-tag",!0),s._removeOldTags(),s.addOptions([i])}r(n)}function r(t){s.trigger("select",{data:t})}var s=this;n.term=n.term||"";var a=this.tokenizer(n,this.options,o);a.term!==n.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.focus()),n.term=a.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,o){for(var r=i.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<s.length;){var c=s[a];if(-1!==t.inArray(c,r)){var u=s.substr(0,a),d=l(t.extend({},n,{term:u}));null!=d?(o(d),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(o){var r=null!=o?o.length:0;return i.maximumSelectionLength>0&&r>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t){function e(){}return e.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},e.prototype.bind=function(e,n,i){var o=this;e.call(this,n,i),this.$search.on("keydown",function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){t(this).off("keyup")}),this.$search.on("keyup input",function(t){o.handleSearch(t)}),n.on("open",function(){o.$search.attr("tabindex",0),o.$search.focus(),window.setTimeout(function(){o.$search.focus()},0)}),n.on("close",function(){o.$search.attr("tabindex",-1),o.$search.val("")}),n.on("focus",function(){n.isOpen()&&o.$search.focus()}),n.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(o.showSearch(t)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide"))})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var o=e[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var o=this;e.call(this,n,i),n.on("query",function(t){o.lastParams=t,o.loading=!0}),n.on("query:append",function(t){o.lastParams=t,o.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,o.$loadingMore[0]);!o.loading&&e&&(o.$results.offset().top+o.$results.outerHeight(!1)+50>=o.$loadingMore.offset().top+o.$loadingMore.outerHeight(!1)&&o.loadMore())})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,o=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var o=this,r="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(r,function(){var e=t(this).data("select2-scroll-position");t(this).scrollTop(e.y)}),t(window).on(r+" "+s+" "+a,function(){o._positionDropdown(),o._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var o="scroll.select2."+i.id,r="resize.select2."+i.id,s="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(o),t(window).off(o+" "+r+" "+s)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=r.top,s.bottom=r.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<r.top-a.height,u=l.bottom>r.bottom+a.height,d={left:r.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f=h.offset();d.top-=f.top,d.left-=f.left,n||i||(o="below"),u||!c||n?!c&&u&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(d.top=s.top-f.top-a.height),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var n=0,i=0;i<e.length;i++){var o=e[i];o.children?n+=t(o.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return!(t(n.data.results)<this.minimumResultsForSearch)&&e.call(this,n)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var o=i.data("data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,o,r,s,a,l,c,u,d,h,f,p,m,g,v,y,b,_,w,k,C,S,x,E,T,A){function I(){this.reset()}return I.prototype.apply=function(d){if(null==(d=t.extend(!0,{},this.defaults,d)).dataAdapter){if(null!=d.ajax?d.dataAdapter=p:null!=d.data?d.dataAdapter=f:d.dataAdapter=h,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,m)),(null!=d.tokenSeparators||null!=d.tokenizer)&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null!=d.query){var A=e(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,A)}if(null!=d.initSelection){var I=e(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,I)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,C)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,k)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,E))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=_;else{var D=c.Decorate(_,w);d.dropdownAdapter=D}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,x)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,T)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var L=e(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,L)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,S)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=o:d.selectionAdapter=i,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var R=e(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,R)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var P=d.language.split("-")[0];d.language=[d.language,P]}else d.language=[d.language];if(t.isArray(d.language)){var M=new u;d.language.push("en");for(var N=d.language,O=0;O<N.length;O++){var j=N[O],F={};try{F=u.loadPath(j)}catch(U){try{j=this.defaults.amdLanguageBase+j,F=u.loadPath(j)}catch(H){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+j+'" could not be automatically loaded. A fallback will be used instead.');continue}}M.extend(F)}d.translations=M}else{var $=u.loadPath(this.defaults.amdLanguageBase+"en"),B=new u(d.language);B.extend($),d.translations=B}return d},I.prototype.reset=function(){function e(t){function e(t){return d[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function n(i,o){if(""===t.trim(i.term))return o;if(o.children&&o.children.length>0){for(var r=t.extend(!0,{},o),s=o.children.length-1;s>=0;s--){null==n(i,o.children[s])&&r.children.splice(s,1)}return r.children.length>0?r:n(i,r)}var a=e(o.text).toUpperCase(),l=e(i.term).toUpperCase();return a.indexOf(l)>-1?o:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:A,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},I.prototype.set=function(e,n){var i={};i[t.camelCase(e)]=n;var o=c._convertData(i);t.extend(this.defaults,o)},new I}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),this.options=n.apply(this.options),o&&o.is("input")){var r=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,r)}}return o.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var o={};o=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var r=e.extend(!0,{},o);for(var s in r=i._convertData(r))e.inArray(s,n)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],r[s]):this.options[s]=r[s]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var o=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),o.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(t,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return 0>=o?"auto":o+"px"}if("style"==e){var r=t.attr("style");if("string"!=typeof r)return null;for(var s=r.split(";"),a=0,l=s.length;l>a;a+=1){var c=s[a].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._syncA),t.each(n,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,o){-1===t.inArray(i,n)&&e.trigger(i,o)})},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerEvents=function(){var t=this
;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var o=0;o<e.addedNodes.length;o++){e.addedNodes[o].selected&&(n=!0)}else e.removedNodes&&e.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},o.prototype.trigger=function(t,e){var n=o.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var r=i[t],s={prevented:!1,name:t,args:e};if(n.call(this,r,s),s.prevented)return void(e.prevented=!0)}n.call(this,t,e)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},o}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,n,i){if(null==t.fn.select2){var o=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=n[e].apply(n,r)}),t.inArray(e,o)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.sortable=e()}(this,function(){"use strict";var t,e,n,i=[],o=[],r=function(t,e,n){return void 0===n?t&&t.h5s&&t.h5s.data&&t.h5s.data[e]:(t.h5s=t.h5s||{},t.h5s.data=t.h5s.data||{},void(t.h5s.data[e]=n))},s=function(t){t.h5s&&delete t.h5s.data};switch(!0){case"matches"in window.Element.prototype:n="matches";break;case"mozMatchesSelector"in window.Element.prototype:n="mozMatchesSelector";break;case"msMatchesSelector"in window.Element.prototype:n="msMatchesSelector";break;case"webkitMatchesSelector"in window.Element.prototype:n="webkitMatchesSelector"}var a=function(t,e){if(!e)return Array.prototype.slice.call(t);for(var i=[],o=0;o<t.length;++o)"string"==typeof e&&t[o][n](e)&&i.push(t[o]),-1!==e.indexOf(t[o])&&i.push(t[o]);return i},l=function(t,e,n){if(t instanceof Array)for(var i=0;i<t.length;++i)l(t[i],e,n);else t.addEventListener(e,n),t.h5s=t.h5s||{},t.h5s.events=t.h5s.events||{},t.h5s.events[e]=n},c=function(t,e){if(t instanceof Array)for(var n=0;n<t.length;++n)c(t[n],e);else t.h5s&&t.h5s.events&&t.h5s.events[e]&&(t.removeEventListener(e,t.h5s.events[e]),delete t.h5s.events[e])},u=function(t,e,n){if(t instanceof Array)for(var i=0;i<t.length;++i)u(t[i],e,n);else t.setAttribute(e,n)},d=function(t,e){if(t instanceof Array)for(var n=0;n<t.length;++n)d(t[n],e);else t.removeAttribute(e)},h=function(t){var e=t.getClientRects()[0];return{left:e.left+window.scrollX,top:e.top+window.scrollY}},f=function(t){c(t,"dragstart"),c(t,"dragend"),c(t,"selectstart"),c(t,"dragover"),c(t,"dragenter"),c(t,"drop")},p=function(t){c(t,"dragover"),c(t,"dragenter"),c(t,"drop")},m=function(t,e){t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text",""),t.dataTransfer.setDragImage&&t.dataTransfer.setDragImage(e.draggedItem,e.x,e.y)},g=function(t,e){return e.x||(e.x=parseInt(t.pageX-h(e.draggedItem).left)),e.y||(e.y=parseInt(t.pageY-h(e.draggedItem).top)),e},v=function(t){return{draggedItem:t}},y=function(t,e){var n=v(e);n=g(t,n),m(t,n)},b=function(t){s(t),d(t,"aria-dropeffect")},_=function(t){d(t,"aria-grabbed"),d(t,"draggable"),d(t,"role")},w=function(t,e){return t===e||void 0!==r(t,"connectWith")&&r(t,"connectWith")===r(e,"connectWith")},k=function(t,e){var n,i=[];if(!e)return t;for(var o=0;o<t.length;++o)n=t[o].querySelectorAll(e),i=i.concat(Array.prototype.slice.call(n));return i},C=function(t){var e=r(t,"opts")||{},n=a(t.children,e.items),i=k(n,e.handle);p(t),b(t),c(i,"mousedown"),f(n),_(n)},S=function(t){var e=r(t,"opts"),n=a(t.children,e.items),i=k(n,e.handle);u(t,"aria-dropeffect","move"),u(i,"draggable","true"),"function"!=typeof(document||window.document).createElement("span").dragDrop||e.disableIEFix||l(i,"mousedown",function(){if(-1!==n.indexOf(this))this.dragDrop();else{for(var t=this.parentElement;-1===n.indexOf(t);)t=t.parentElement;t.dragDrop()}})},x=function(t){var e=r(t,"opts"),n=a(t.children,e.items),i=k(n,e.handle);u(t,"aria-dropeffect","none"),u(i,"draggable","false"),c(i,"mousedown")},E=function(t){var e=r(t,"opts"),n=a(t.children,e.items),i=k(n,e.handle);f(n),c(i,"mousedown"),p(t)},T=function(t){return t.parentElement?Array.prototype.indexOf.call(t.parentElement.children,t):0},A=function(t){return!!t.parentNode},I=function(t){if("string"!=typeof t)return t;var e=document.createElement("div");return e.innerHTML=t,e.firstChild},D=function(t,e){t.parentElement.insertBefore(e,t)},L=function(t,e){t.parentElement.insertBefore(e,t.nextElementSibling)},R=function(t){t.parentNode&&t.parentNode.removeChild(t)},P=function(t,e){var n=document.createEvent("Event");return e&&(n.detail=e),n.initEvent(t,!1,!0),n},M=function(t,e){o.forEach(function(n){w(t,n)&&n.dispatchEvent(e)})},N=function(n,s){var c=String(s);return s=function(t){var e={connectWith:!1,placeholder:null,dragImage:null,disableIEFix:!1,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging",hoverClass:!1};for(var n in t)e[n]=t[n];return e}(s),"string"==typeof n&&(n=document.querySelectorAll(n)),n instanceof window.Element&&(n=[n]),(n=Array.prototype.slice.call(n)).forEach(function(n){if(/enable|disable|destroy/.test(c))N[c](n);else{s=r(n,"opts")||s,r(n,"opts",s),E(n);var d,f,p=a(n.children,s.items),g=s.placeholder;if(g||(g=document.createElement(/^ul|ol$/i.test(n.tagName)?"li":"div")),(g=I(g)).classList.add.apply(g.classList,s.placeholderClass.split(" ")),!n.getAttribute("data-sortable-id")){var v=o.length;o[v]=n,u(n,"data-sortable-id",v),u(p,"data-item-sortable-id",v)}if(r(n,"items",s.items),i.push(g),s.connectWith&&r(n,"connectWith",s.connectWith),S(n),u(p,"role","option"),u(p,"aria-grabbed","false"),s.hoverClass){var b="sortable-over";"string"==typeof s.hoverClass&&(b=s.hoverClass),l(p,"mouseenter",function(){this.classList.add(b)}),l(p,"mouseleave",function(){this.classList.remove(b)})}l(p,"dragstart",function(i){i.stopImmediatePropagation(),s.dragImage?(m(i,{draggedItem:s.dragImage,x:0,y:0}),console.log("WARNING: dragImage option is deprecated and will be removed in the future!")):y(i,this),this.classList.add(s.draggingClass),u(t=this,"aria-grabbed","true"),d=T(t),e=parseInt(window.getComputedStyle(t).height),f=this.parentElement,M(n,P("sortstart",{item:t,placeholder:g,startparent:f}))}),l(p,"dragend",function(){var o;t&&(t.classList.remove(s.draggingClass),u(t,"aria-grabbed","false"),t.style.display=t.oldDisplay,delete t.oldDisplay,i.forEach(R),o=this.parentElement,M(n,P("sortstop",{item:t,startparent:f})),d===T(t)&&f===o||M(n,P("sortupdate",{item:t,index:a(o.children,r(o,"items")).indexOf(t),oldindex:p.indexOf(t),elementIndex:T(t),oldElementIndex:d,startparent:f,endparent:o})),t=null,e=null)}),l([n,g],"drop",function(e){var o;w(n,t.parentElement)&&(e.preventDefault(),e.stopPropagation(),o=i.filter(A)[0],L(o,t),t.dispatchEvent(P("dragend")))});var _=function(o){if(w(n,t.parentElement))if(o.preventDefault(),o.stopPropagation(),o.dataTransfer.dropEffect="move",-1!==p.indexOf(this)){var r=parseInt(window.getComputedStyle(this).height),l=T(g),c=T(this);if(s.forcePlaceholderSize&&(g.style.height=e+"px"),r>e){var u=r-e,d=h(this).top;if(l<c&&o.pageY<d+u)return;if(l>c&&o.pageY>d+r-u)return}void 0===t.oldDisplay&&(t.oldDisplay=t.style.display),t.style.display="none",l<c?L(this,g):D(this,g),i.filter(function(t){return t!==g}).forEach(R)}else-1!==i.indexOf(this)||a(this.children,s.items).length||(i.forEach(R),this.appendChild(g))};l(p.concat(n),"dragover",_),l(p.concat(n),"dragenter",_)}}),n};return N.destroy=function(t){C(t)},N.enable=function(t){S(t)},N.disable=function(t){x(t)},N}),function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function n(n,r,a){function l(t,e,i){var o,r="$()."+n+'("'+e+'")';return t.each(function(t,l){var c=a.data(l,n);if(c){var u=c[e];if(u&&"_"!=e.charAt(0)){var d=u.apply(c,i);o=void 0===o?d:o}else s(r+" is not a valid method")}else s(n+" not initialized. Cannot call methods, i.e. "+r)}),void 0!==o?o:t}function c(t,e){t.each(function(t,i){var o=a.data(i,n);o?(o.option(e),o._init()):(o=new r(i,e),a.data(i,n,o))})}(a=a||e||t.jQuery)&&(r.prototype.option||(r.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[n]=function(t){return"string"==typeof t?l(this,t,o.call(arguments,1)):(c(this,t),this)},i(a))}function i(t){!t||t&&t.bridget||(t.bridget=n)}var o=Array.prototype.slice,r=t.console,s=void 0===r?function(){}:function(t){r.error(t)};return i(e||t.jQuery),n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=0,o=n[i];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),o=n[i+=s?0:1]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(){}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<c;e++){t[l[e]]=0}return t}function i(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!u){u=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var o=i(e);r.isBoxSizeOuter=s=200==t(o.width),n.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=i(e);if("none"==r.display)return n();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var u=a.isBorderBox="border-box"==r.boxSizing,d=0;d<c;d++){var h=l[d],f=r[h],p=parseFloat(f);a[h]=isNaN(p)?0:p}var m=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,v=a.marginLeft+a.marginRight,y=a.marginTop+a.marginBottom,b=a.borderLeftWidth+a.borderRightWidth,_=a.borderTopWidth+a.borderBottomWidth,w=u&&s,k=t(r.width);!1!==k&&(a.width=k+(w?0:m+b));var C=t(r.height);return!1!==C&&(a.height=C+(w?0:g+_)),a.innerWidth=a.width-(m+b),a.innerHeight=a.height-(g+_),a.outerWidth=a.width+v,a.outerHeight=a.height+y,a}}var s,a="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],c=l.length,u=!1;return r}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n]+"MatchesSelector";if(t[i])return i}}();return function(e,n){return e[t](n)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var n={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e},makeArray:function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e},removeFrom:function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},getParent:function(t,n){for(;t!=document.body;)if(t=t.parentNode,e(t,n))return t},getQueryElement:function(t){return"string"==typeof t?document.querySelector(t):t},handleEvent:function(t){var e="on"+t.type;this[e]&&this[e](t)},filterFindElements:function(t,i){var o=[];return(t=n.makeArray(t)).forEach(function(t){if(t instanceof HTMLElement){if(!i)return void o.push(t);e(t,i)&&o.push(t);for(var n=t.querySelectorAll(i),r=0;r<n.length;r++)o.push(n[r])}}),o},debounceMethod:function(t,e,n){var i=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){i.apply(r,e),delete r[o]},n||100)}},docReady:function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},toDashed:function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()}},i=t.console;return n.htmlInit=function(e,o){n.docReady(function(){var r=n.toDashed(o),s="data-"+r,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+r),c=n.makeArray(a).concat(n.makeArray(l)),u=s+"-options",d=t.jQuery;c.forEach(function(t){var n,r=t.getAttribute(s)||t.getAttribute(u);try{n=r&&JSON.parse(r)}catch(a){return void(i&&i.error("Error parsing "+s+" on "+t.className+": "+a))}var l=new e(t,n);d&&d.data(t,o,l)})})},n}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function n(t){for(var e in t)return!1;return null,!0}function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var r=document.documentElement.style,s="string"==typeof r.transition?"transition":"WebkitTransition",a="string"==typeof r.transform?"transform":"WebkitTransform",l={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],c={transform:a,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"},u=i.prototype=Object.create(t.prototype);u.constructor=i,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},u.getSize=function(){this.size=e(this.element)},u.css=function(t){var e=this.element.style;for(var n in t){e[c[n]||n]=t[n]}},u.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],o=t[n?"top":"bottom"],r=this.layout.size,s=-1!=i.indexOf("%")?parseFloat(i)/100*r.width:parseInt(i,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*r.height:parseInt(o,10);s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=e?r.paddingLeft:r.paddingRight,a-=n?r.paddingTop:r.paddingBottom,this.position.x=s,this.position.y=a},u.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"paddingLeft":"paddingRight",r=n?"left":"right",s=n?"right":"left",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]="";var l=i?"paddingTop":"paddingBottom",c=i?"top":"bottom",u=i?"bottom":"top",d=this.position.y+t[l];e[c]=this.getYValue(d),e[u]="",this.css(e),this.emitEvent("layout",[this])},u.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},u.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},u._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),!s||this.isTransitioning){var a=t-n,l=e-i,c={};c.transform=this.getTranslate(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},u.getTranslate=function(t,e){var n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop");return"translate3d("+(t=n?t:-t)+"px, "+(e=i?e:-e)+"px, 0)"},u.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},u._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},u.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var d="opacity,"+o(a);u.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:d,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(l,this,!1)}},u.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},u.onotransitionend=function(t){this.ontransitionend(t)};var h={"-webkit-transform":"transform"};u.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=h[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd)e.onEnd[i].call(this),delete e.onEnd[i];this.emitEvent("transitionEnd",[this])}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},u._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(f)},u.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){return s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},u.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},u.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,o,r){return e(t,n,i,o,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,n,i,o){"use strict";function r(t,e){var n=i.getQueryElement(t);if(n){this.element=n,c&&(this.$element=c(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e);var o=++d;this.element.outlayerGUID=o,h[o]=this,this._create(),this._getOption("initLayout")&&this.layout()}else l&&l.error("Bad element for "+this.constructor.namespace+": "+(n||t))}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],i=e&&e[2];return n.length?(n=parseFloat(n))*(p[i]||1):0}var l=t.console,c=t.jQuery,u=function(){},d=0,h={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=r.prototype;i.extend(f,e.prototype),f.option=function(t){i.extend(this.options,t)},f._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],o=0;o<e.length;o++){var r=new n(e[o],this);i.push(r)}return i},f._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(t){return t.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=n(this.element)},f._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):o instanceof HTMLElement&&(i=o),this[t]=i?n(i)[e]:o):this[t]=0},f.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},f._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},f._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach(function(t){var i=this._getItemLayoutPosition(t);i.item=t,i.isInstant=e||t.isLayoutInstant,n.push(i)},this),this._processLayoutQueue(n)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},f.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},f._positionItem=function(t,e,n,i,o){i?t.goTo(e,n):(t.stagger(o*this.stagger),t.moveTo(e,n))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},f._getContainerSize=u,f._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},f._emitCompleteOnItems=function(t,e){function n(){o.dispatchEvent(t+"Complete",null,[e])}function i(){++s==r&&n()}var o=this,r=e.length;if(e&&r){var s=0;e.forEach(function(e){e.once(t,i)})}else n()},f.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),c)if(this.$element=this.$element||c(this.element),e){var o=c.Event(e);o.type=t,this.$element.trigger(o,n)}else this.$element.trigger(t,n)},f.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},f.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},f.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},f.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){i.removeFrom(this.stamps,t),this.unignore(t)},this)},f._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),i.makeArray(t)},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},f._manageStamp=u,f._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=n(t);return{left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom}},f.handleEvent=i.handleEvent,f.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},i.debounceMethod(r,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},f.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},f.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},f.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},f.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.reveal()})}},f.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.hide()})}},f.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},f.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},f.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},f.getItems=function(t){var e=[];return(t=i.makeArray(t)).forEach(function(t){var n=this.getItem(t);n&&e.push(n)},this),e},f.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),i.removeFrom(this.items,t)},this)},f.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete h[e],delete this.element.outlayerGUID,
c&&c.removeData(this.element,this.constructor.namespace)},r.data=function(t){var e=(t=i.getQueryElement(t))&&t.outlayerGUID;return e&&h[e]},r.create=function(t,e){var n=s(r);return n.defaults=i.extend({},r.defaults),i.extend(n.defaults,e),n.compatOptions=i.extend({},r.compatOptions),n.namespace=t,n.data=r.data,n.Item=s(o),i.htmlInit(n,t),c&&c.bridget&&c.bridget(t,n),n};var p={ms:1,s:1e3};return r.Item=o,r}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}var n=e.prototype=Object.create(t.Item.prototype),i=n._create;n._create=function(){this.id=this.layout.itemGUID++,i.call(this),this.sortData={}},n.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var n in t){var i=e[n];this.sortData[n]=i(this.element,this)}}};var o=n.destroy;return n.destroy=function(){o.apply(this,arguments),this.css({display:""})},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(t,e){"use strict";function n(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var i=n.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(t){i[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}}),i.needsVerticalResizeLayout=function(){var e=t(this.isotope.element);return this.isotope.size&&e&&e.innerHeight!=this.isotope.size.innerHeight},i._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.getRowHeight=function(){this.getSegmentSize("row","Height")},i.getSegmentSize=function(t,e){var n=t+e,i="outer"+e;if(this._getMeasurement(n,i),!this[n]){var o=this.getFirstItemSize();this[n]=o&&o[i]||this.isotope.size["inner"+e]}},i.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},i.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(t,e){function o(){n.apply(this,arguments)}return o.prototype=Object.create(i),o.prototype.constructor=o,e&&(o.options=e),o.prototype.namespace=t,n.modes[t]=o,o},n}),function(t,e){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var n=t.create("masonry");return n.compatOptions.fitWidth="isFitWidth",n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/i,s=i-o%i;r=Math[s&&s<1?"round":"floor"](r),this.cols=Math.max(r,1)},n.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this._getColGroup(n),o=Math.min.apply(Math,i),r=i.indexOf(o),s={x:this.columnWidth*r,y:o},a=o+t.size.outerHeight,l=this.cols+1-i.length,c=0;c<l;c++)this.colYs[r+c]=a;return s},n.prototype._getColGroup=function(t){if(t<2)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;i<n;i++){var o=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,o)}return e},n.prototype._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),o=this._getOption("originLeft")?i.left:i.right,r=o+n.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,c=s;c<=a;c++)this.colYs[c]=Math.max(l,this.colYs[c])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function(t,e){"use strict";var n=t.create("masonry"),i=n.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var r in e.prototype)o[r]||(i[r]=e.prototype[r]);var s=i.measureColumns;i.measureColumns=function(){this.items=this.isotope.filteredItems,s.call(this)};var a=i._getOption;return i._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},n}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows"),n=e.prototype;return n._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},n._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,n=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>n&&(this.x=0,this.y=this.maxY);var i={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,i},n._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),n=e.prototype;return n._resetLayout=function(){this.y=0},n._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,n=this.y;return this.y+=t.size.outerHeight,{x:e,y:n}},n._getContainerSize=function(){return{height:this.y}},e}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(n,i,o,r,s,a){return e(t,n,i,o,r,s,a)}):"object"==typeof module&&module.exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function(t,e,n,i,o,r,s){function a(t,e){return function(n,i){for(var o=0;o<t.length;o++){var r=t[o],s=n.sortData[r],a=i.sortData[r];if(s>a||s<a){var l=void 0!==e[r]?e[r]:e;return(s>a?1:-1)*(l?1:-1)}}return 0}}var l=t.jQuery,c=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},u=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});u.Item=r,u.LayoutMode=s;var d=u.prototype;d._create=function(){for(var t in this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],s.modes)this._initLayoutMode(t)},d.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},d._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),n=0;n<t.length;n++){t[n].id=this.itemGUID++}return this._updateItemsSortData(t),t},d._initLayoutMode=function(t){var e=s.modes[t],n=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,n):n,this.modes[t]=new e(this)},d.layout=function(){return!this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},d._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},d.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},d._init=d.arrange,d._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},d._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},d._bindArrangeComplete=function(){function t(){e&&n&&i&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var e,n,i,o=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){n=!0,t()}),this.once("revealComplete",function(){i=!0,t()})},d._filter=function(t){var e=this.options.filter;e=e||"*";for(var n=[],i=[],o=[],r=this._getFilterTest(e),s=0;s<t.length;s++){var a=t[s];if(!a.isIgnored){var l=r(a);l&&n.push(a),l&&a.isHidden?i.push(a):l||a.isHidden||o.push(a)}}return{matches:n,needReveal:i,needHide:o}},d._getFilterTest=function(t){return l&&this.options.isJQueryFiltering?function(e){return l(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return i(e.element,t)}},d.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},d._getSorters=function(){var t=this.options.getSortData;for(var e in t){var n=t[e];this._sorters[e]=h(n)}},d._updateItemsSortData=function(t){for(var e=t&&t.length,n=0;e&&n<e;n++){t[n].updateSortData()}};var h=function(){function t(t){if("string"!=typeof t)return t;var n=c(t).split(" "),i=n[0],o=i.match(/^\[(.+)\]$/),r=e(o&&o[1],i),s=u.sortDataParsers[n[1]];return s?function(t){return t&&s(r(t))}:function(t){return t&&r(t)}}function e(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var n=t.querySelector(e);return n&&n.textContent}}return t}();u.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},d._sort=function(){var t=this.options.sortBy;if(t){var e=a([].concat.apply(t,this.sortHistory),this.options.sortAscending);this.filteredItems.sort(e),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},d._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},d._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},d._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},d._manageStamp=function(t){this._mode()._manageStamp(t)},d._getContainerSize=function(){return this._mode()._getContainerSize()},d.needsResizeLayout=function(){return this._mode().needsResizeLayout()},d.appended=function(t){var e=this.addItems(t);if(e.length){var n=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(n)}},d.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var n=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=n.concat(this.filteredItems),this.items=e.concat(this.items)}},d._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},d.insert=function(t){var e=this.addItems(t);if(e.length){var n,i,o=e.length;for(n=0;n<o;n++)i=e[n],this.element.appendChild(i.element);var r=this._filter(e).matches;for(n=0;n<o;n++)e[n].isLayoutInstant=!0;for(this.arrange(),n=0;n<o;n++)delete e[n].isLayoutInstant;this.reveal(r)}};var f=d.remove;return d.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);f.call(this,t);for(var n=e&&e.length,i=0;n&&i<n;i++){var r=e[i];o.removeFrom(this.filteredItems,r)}},d.shuffle=function(){for(var t=0;t<this.items.length;t++){this.items[t].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},d._noTransition=function(t,e){var n=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.apply(this,e);return this.options.transitionDuration=n,i},d.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},u}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=0,o=n[i];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),o=n[i+=s?0:1]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){function n(t,e){for(var n in e)t[n]=e[n];return t}function i(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}function o(t,e,r){return this instanceof o?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=i(t),this.options=n({},this.options),"function"==typeof e?r=e:n(this.options,e),r&&this.on("always",r),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(t,e,r)}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,l=t.console;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var n=t.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(i=0;i<r.length;i++){var s=r[i];this.addElementBackgroundImages(s)}}}};var c={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(e.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,t),i=n.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var n=new s(t,e);this.images.push(n)},o.prototype.check=function(){function t(t,n,i){setTimeout(function(){e.progress(t,n,i)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((a=e).fn.imagesLoaded=function(t,e){return new o(this,t,e).jqDeferred.promise(a(this))})},o.makeJQueryPlugin(),o}),function(t){var e={};!function(t,e){"use strict";t.fallback={wordLength:"Your password is too short",wordNotEmail:"Do not use your email as your password",wordSimilarToUsername:"Your password cannot contain your username",wordTwoCharacterClasses:"Use different character classes",wordRepetitions:"Too many repetitions",wordSequences:"Your password contains sequences",errorList:"Errors:",veryWeak:"Very Weak",weak:"Weak",normal:"Normal",medium:"Medium",strong:"Strong",veryStrong:"Very Strong"},t.t=function(n){var i="";return(i=e?e.t(n):t.fallback[n])===n?"":i}}(e,window.i18next);var n={};try{if(!t&&module&&module.exports){t=require("jquery");var i=require("jsdom").jsdom;t=t(i().defaultView)}}catch(t){}!function(t,e){"use strict";var n={};e.forbiddenSequences=["0123456789","abcdefghijklmnopqrstuvwxyz","qwertyuiop","asdfghjkl","zxcvbnm","!@#$%^&*()_+"],n.wordNotEmail=function(t,e,n){return e.match(/^([\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+\.)*[\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+@((((([a-z0-9]{1}[a-z0-9\-]{0,62}[a-z0-9]{1})|[a-z])\.)+[a-z]{2,6})|(\d{1,3}\.){3}\d{1,3}(\:\d{1,5})?)$/i)?n:0},n.wordLength=function(t,e,n){var i=e.length,o=Math.pow(i,t.rules.raisePower);return i<t.common.minChar&&(o+=n),o},n.wordSimilarToUsername=function(e,n,i){var o=t(e.common.usernameField).val();return o&&n.toLowerCase().match(o.replace(/[\-\[\]\/\{\}\(\)\*\+\=\?\:\.\\\^\$\|\!\,]/g,"\\$&").toLowerCase())?i:0},n.wordTwoCharacterClasses=function(t,e,n){return e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)||e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)||e.match(/(.[!,@,#,$,%,\^,&,*,?,_,~])/)&&e.match(/[a-zA-Z0-9_]/)?n:0},n.wordRepetitions=function(t,e,n){return e.match(/(.)\1\1/)?n:0},n.wordSequences=function(n,i,o){var r,s=!1;return i.length>2&&(t.each(e.forbiddenSequences,function(e,n){if(!s){var o=[n,n.split("").reverse().join("")];t.each(o,function(t,e){for(r=0;r<i.length-2;r+=1)e.indexOf(i.toLowerCase().substring(r,r+3))>-1&&(s=!0)})}}),s)?o:0},n.wordLowercase=function(t,e,n){return e.match(/[a-z]/)&&n},n.wordUppercase=function(t,e,n){return e.match(/[A-Z]/)&&n},n.wordOneNumber=function(t,e,n){return e.match(/\d+/)&&n},n.wordThreeNumbers=function(t,e,n){return e.match(/(.*[0-9].*[0-9].*[0-9])/)&&n},n.wordOneSpecialChar=function(t,e,n){return e.match(/[!,@,#,$,%,\^,&,*,?,_,~]/)&&n},n.wordTwoSpecialChar=function(t,e,n){return e.match(/(.*[!,@,#,$,%,\^,&,*,?,_,~].*[!,@,#,$,%,\^,&,*,?,_,~])/)&&n},n.wordUpperLowerCombo=function(t,e,n){return e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&n},n.wordLetterNumberCombo=function(t,e,n){return e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&n},n.wordLetterNumberCharCombo=function(t,e,n){return e.match(/([a-zA-Z0-9].*[!,@,#,$,%,\^,&,*,?,_,~])|([!,@,#,$,%,\^,&,*,?,_,~].*[a-zA-Z0-9])/)&&n},e.validation=n,e.executeRules=function(n,i){var o=0;return t.each(n.rules.activated,function(r,s){if(s){var a,l,c=n.rules.scores[r],u=e.validation[r];t.isFunction(u)||(u=n.rules.extra[r]),t.isFunction(u)&&((a=u(n,i,c))&&(o+=a),(a<0||!t.isNumeric(a)&&!a)&&((l=n.ui.spanError(n,r)).length>0&&n.instances.errors.push(l)))}}),t.isFunction(n.common.onScore)&&(o=n.common.onScore(n,i,o)),o}}(t,n);try{module&&module.exports&&(module.exports=n)}catch(t){}var o={common:{}};o.common.minChar=6,o.common.usernameField="#username",o.common.userInputs=[],o.common.onLoad=void 0,o.common.onKeyUp=void 0,o.common.onScore=void 0,o.common.zxcvbn=!1,o.common.zxcvbnTerms=[],o.common.events=["keyup","change","paste"],o.common.debug=!1,o.rules={},o.rules.extra={},o.rules.scores={wordNotEmail:-100,wordLength:-50,wordSimilarToUsername:-100,wordSequences:-20,wordTwoCharacterClasses:2,wordRepetitions:-25,wordLowercase:1,wordUppercase:3,wordOneNumber:3,wordThreeNumbers:5,wordOneSpecialChar:3,wordTwoSpecialChar:5,wordUpperLowerCombo:2,wordLetterNumberCombo:2,wordLetterNumberCharCombo:2},o.rules.activated={wordNotEmail:!0,wordLength:!0,wordSimilarToUsername:!0,wordSequences:!0,wordTwoCharacterClasses:!1,wordRepetitions:!1,wordLowercase:!0,wordUppercase:!0,wordOneNumber:!0,wordThreeNumbers:!0,wordOneSpecialChar:!0,wordTwoSpecialChar:!0,wordUpperLowerCombo:!0,wordLetterNumberCombo:!0,wordLetterNumberCharCombo:!0},o.rules.raisePower=1.4,o.ui={},o.ui.bootstrap2=!1,o.ui.bootstrap4=!1,o.ui.colorClasses=["danger","danger","danger","warning","warning","success"],o.ui.showProgressBar=!0,o.ui.progressBarEmptyPercentage=1,o.ui.progressBarMinPercentage=1,o.ui.progressBarExtraCssClasses="",o.ui.showPopover=!1,o.ui.popoverPlacement="bottom",o.ui.showStatus=!1,o.ui.spanError=function(t,e){"use strict";var n=t.i18n.t(e);return n?'<span style="color: #d52929">'+n+"</span>":""},o.ui.popoverError=function(e){"use strict";var n=e.instances.errors,i="<div>"+e.i18n.t("errorList")+"<ul class='error-list' style='margin-bottom: 0;'>";return t.each(n,function(t,e){i+="<li>"+e+"</li>"}),i+="</ul></div>"},o.ui.showVerdicts=!0,o.ui.showVerdictsInsideProgressBar=!1,o.ui.useVerdictCssClass=!1,o.ui.showErrors=!1,o.ui.showScore=!1,o.ui.container=void 0,o.ui.viewports={progress:void 0,verdict:void 0,errors:void 0,score:void 0},o.ui.scores=[0,14,26,38,50],o.i18n={},o.i18n.t=e.t;var r={};!function(t,e){"use strict";var n=["error","warning","success"],i=["veryWeak","weak","normal","medium","strong","veryStrong"];e.getContainer=function(e,n){var i;return(i=t(e.ui.container))&&1===i.length||(i=n.parent()),i},e.findElement=function(t,e,n){return e?t.find(e).find(n):t.find(n)},e.getUIElements=function(t,n){var i,o;return t.instances.viewports?t.instances.viewports:(i=e.getContainer(t,n),(o={}).$progressbar=e.findElement(i,t.ui.viewports.progress,"div.progress"),t.ui.showVerdictsInsideProgressBar&&(o.$verdict=o.$progressbar.find("span.password-verdict")),t.ui.showPopover||(t.ui.showVerdictsInsideProgressBar||(o.$verdict=e.findElement(i,t.ui.viewports.verdict,"span.password-verdict")),o.$errors=e.findElement(i,t.ui.viewports.errors,"ul.error-list")),o.$score=e.findElement(i,t.ui.viewports.score,"span.password-score"),t.instances.viewports=o,o)},e.initProgressBar=function(n,i){var o=e.getContainer(n,i),r="<div class='progress ";r+=n.ui.bootstrap2?n.ui.progressBarExtraCssClasses+"'><div class='":"'><div class='"+n.ui.progressBarExtraCssClasses+" progress-",r+="bar'>",n.ui.showVerdictsInsideProgressBar&&(r+="<span class='password-verdict'></span>"),r+="</div></div>",n.ui.viewports.progress?o.find(n.ui.viewports.progress).append(r):t(r).insertAfter(i)},e.initHelper=function(n,i,o,r){var s=e.getContainer(n,i);r?s.find(r).append(o):t(o).insertAfter(i)},e.initVerdict=function(t,n){e.initHelper(t,n,"<span class='password-verdict'></span>",t.ui.viewports.verdict)},e.initErrorList=function(t,n){e.initHelper(t,n,"<ul class='error-list'></ul>",t.ui.viewports.errors)},e.initScore=function(t,n){e.initHelper(t,n,"<span class='password-score'></span>",t.ui.viewports.score)},e.initPopover=function(t,e){e.popover("destroy"),e.popover({html:!0,placement:t.ui.popoverPlacement,trigger:"manual",content:" "})},e.initUI=function(t,n){t.ui.showPopover?e.initPopover(t,n):(t.ui.showErrors&&e.initErrorList(t,n),t.ui.showVerdicts&&!t.ui.showVerdictsInsideProgressBar&&e.initVerdict(t,n)),t.ui.showProgressBar&&e.initProgressBar(t,n),t.ui.showScore&&e.initScore(t,n)},e.updateProgressBar=function(n,i,o,r){var s=e.getUIElements(n,i).$progressbar,a=s.find(".progress-bar"),l="progress-";n.ui.bootstrap2&&(a=s.find(".bar"),l=""),t.each(n.ui.colorClasses,function(t,e){n.ui.bootstrap4?a.removeClass("bg-"+e):a.removeClass(l+"bar-"+e)}),n.ui.bootstrap4?a.addClass("bg-"+n.ui.colorClasses[o]):a.addClass(l+"bar-"+n.ui.colorClasses[o]),a.css("width",r+"%")},e.updateVerdict=function(t,n,i,o){var r=e.getUIElements(t,n).$verdict;r.removeClass(t.ui.colorClasses.join(" ")),i>-1&&r.addClass(t.ui.colorClasses[i]),r.html(o)},e.updateErrors=function(n,i,o){var r=e.getUIElements(n,i).$errors,s="";o||t.each(n.instances.errors,function(t,e){s+="<li>"+e+"</li>"}),r.html(s)},e.updateScore=function(t,n,i,o){var r=e.getUIElements(t,n).$score,s="";o||(s=i.toFixed(2)),r.html(s)},e.updatePopover=function(t,e,n,i){var o=e.data("bs.popover"),r="",s=!0;return t.ui.showVerdicts&&!t.ui.showVerdictsInsideProgressBar&&n.length>0&&(r="<h5><span class='password-verdict'>"+n+"</span></h5>",s=!1),t.ui.showErrors&&(t.instances.errors.length>0&&(s=!1),r+=t.ui.popoverError(t)),s||i?void e.popover("hide"):(t.ui.bootstrap2&&(o=e.data("popover")),void(o.$arrow&&o.$arrow.parents("body").length>0?e.find("+ .popover .popover-content").html(r):(o.options.content=r,e.popover("show"))))},e.updateFieldStatus=function(e,i,o,r){var s=e.ui.bootstrap2?".control-group":".form-group",a=i.parents(s).first();t.each(n,function(t,n){e.ui.bootstrap2||(n="has-"+n),a.removeClass(n)}),r||(o=n[o],e.ui.bootstrap2||(o="has-"+o),a.addClass(o))},e.percentage=function(t,e,n){var i=Math.floor(100*e/n),o=t.ui.progressBarMinPercentage;return(i=i<=o?o:i)>100?100:i},e.getVerdictAndCssClass=function(t,e){var n,o;return void 0===e?["",0]:(n=e<=t.ui.scores[0]?0:e<t.ui.scores[1]?1:e<t.ui.scores[2]?2:e<t.ui.scores[3]?3:e<t.ui.scores[4]?4:5,o=i[n],[t.i18n.t(o),n])},e.updateUI=function(t,n,i){var o,r,s,a;o=e.getVerdictAndCssClass(t,i),s=0===i?"":o[0],o=o[1],a=t.ui.useVerdictCssClass?o:-1,t.ui.showProgressBar&&(r=void 0===i?t.ui.progressBarEmptyPercentage:e.percentage(t,i,t.ui.scores[4]),e.updateProgressBar(t,n,o,r),t.ui.showVerdictsInsideProgressBar&&e.updateVerdict(t,n,a,s)),t.ui.showStatus&&e.updateFieldStatus(t,n,o,void 0===i),t.ui.showPopover?e.updatePopover(t,n,s,void 0===i):(t.ui.showVerdicts&&!t.ui.showVerdictsInsideProgressBar&&e.updateVerdict(t,n,a,s),t.ui.showErrors&&e.updateErrors(t,n,void 0===i)),t.ui.showScore&&e.updateScore(t,n,i,void 0===i)}}(t,r),function(t,e){"use strict";var i,s,a;i=function(e){var i,o,s,a,l=t(e.target),c=l.data("pwstrength-bootstrap"),u=l.val();void 0!==c&&(c.instances.errors=[],0===u.length?a=void 0:c.common.zxcvbn?(i=[],t.each(c.common.userInputs.concat([c.common.usernameField]),function(e,n){var o=t(n).val();o&&i.push(o)}),i=i.concat(c.common.zxcvbnTerms),a=zxcvbn(u,i).guesses,a=Math.log(a)*Math.LOG2E):a=n.executeRules(c,u),r.updateUI(c,l,a),s=(o=r.getVerdictAndCssClass(c,a))[1],o=o[0],c.common.debug&&console.log(a+" - "+o),t.isFunction(c.common.onKeyUp)&&c.common.onKeyUp(e,{score:a,verdictText:o,verdictLevel:s}))},s=function(e){var n,o=t(e.target),r=o.val(),s=0;n=function(){o.val()!==r?i(e):s<3&&(s+=1,setTimeout(n,100))},setTimeout(n,100)},e.init=function(e){return this.each(function(n,a){var l=t.extend(!0,{},o),c=t.extend(!0,l,e),u=t(a);c.instances={},u.data("pwstrength-bootstrap",c),t.each(c.common.events,function(t,e){var n="paste"===e?s:i;u.on(e,n)}),r.initUI(c,u),u.trigger("keyup"),t.isFunction(c.common.onLoad)&&c.common.onLoad()}),this},e.destroy=function(){this.each(function(e,n){var i=t(n),o=i.data("pwstrength-bootstrap"),s=r.getUIElements(o,i);s.$progressbar.remove(),s.$verdict.remove(),s.$errors.remove(),i.removeData("pwstrength-bootstrap")})},e.forceUpdate=function(){this.each(function(t,e){i({target:e})})},e.addRule=function(e,n,i,o){this.each(function(r,s){var a=t(s).data("pwstrength-bootstrap");a.rules.activated[e]=o,a.rules.scores[e]=i,a.rules.extra[e]=n})},a=function(e,n,i){this.each(function(o,r){t(r).data("pwstrength-bootstrap").rules[n][e]=i})},e.changeScore=function(t,e){a.call(this,t,"scores",e)},e.ruleActive=function(t,e){a.call(this,t,"activated",e)},t.fn.pwstrength=function(n){var i;return e[n]?i=e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?t.error("Method "+n+" does not exist on jQuery.pwstrength-bootstrap"):i=e.init.apply(this,arguments),i}}(t,{})}(jQuery),function(t){"use strict";var e=0,n=function(e,n){this.options=n,this.$elementFilestyle=[],this.$element=t(e)};n.prototype={clear:function(){this.$element.val(""),this.$elementFilestyle.find(":text").val(""),this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle"),this.$elementFilestyle.remove()},disabled:function(t){if(!0===t)this.options.disabled||(this.$element.attr("disabled","true"),this.$elementFilestyle.find("label").attr("disabled","true"),this.options.disabled=!0);else{if(!1!==t)return this.options.disabled;this.options.disabled&&(this.$element.removeAttr("disabled"),this.$elementFilestyle.find("label").removeAttr("disabled"),this.options.disabled=!1)}},buttonBefore:function(t){if(!0===t)this.options.buttonBefore||(this.options.buttonBefore=!0,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else{if(!1!==t)return this.options.buttonBefore;this.options.buttonBefore&&(this.options.buttonBefore=!1,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()))}},icon:function(t){if(!0===t)this.options.icon||(this.options.icon=!0,this.$elementFilestyle.find("label").prepend(this.htmlIcon()));else{if(!1!==t)return this.options.icon;this.options.icon&&(this.options.icon=!1,this.$elementFilestyle.find(".icon-span-filestyle").remove())}},input:function(t){if(!0===t)this.options.input||(this.options.input=!0,this.options.buttonBefore?this.$elementFilestyle.append(this.htmlInput()):this.$elementFilestyle.prepend(this.htmlInput()),this.$elementFilestyle.find(".badge").remove(),this.pushNameFiles(),this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn"));else{if(!1!==t)return this.options.input;if(this.options.input){this.options.input=!1,this.$elementFilestyle.find(":text").remove();var e=this.pushNameFiles();e.length>0&&this.options.badge&&this.$elementFilestyle.find("label").append(' <span class="badge">'+e.length+"</span>"),
this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn")}}},size:function(t){if(t===undefined)return this.options.size;var e=this.$elementFilestyle.find("label"),n=this.$elementFilestyle.find("input");e.removeClass("btn-lg btn-sm"),n.removeClass("input-lg input-sm"),"nr"!=t&&(e.addClass("btn-"+t),n.addClass("input-"+t))},placeholder:function(t){if(t===undefined)return this.options.placeholder;this.options.placeholder=t,this.$elementFilestyle.find("input").attr("placeholder",t)},buttonText:function(t){if(t===undefined)return this.options.buttonText;this.options.buttonText=t,this.$elementFilestyle.find("label .buttonText").html(this.options.buttonText)},buttonName:function(t){if(t===undefined)return this.options.buttonName;this.options.buttonName=t,this.$elementFilestyle.find("label").attr({"class":"btn "+this.options.buttonName})},iconName:function(t){if(t===undefined)return this.options.iconName;this.$elementFilestyle.find(".icon-span-filestyle").attr({"class":"icon-span-filestyle "+this.options.iconName})},htmlIcon:function(){return this.options.icon?'<span class="icon-span-filestyle '+this.options.iconName+'"></span> ':""},htmlInput:function(){return this.options.input?'<input type="text" class="form-control '+("nr"==this.options.size?"":"input-"+this.options.size)+'" placeholder="'+this.options.placeholder+'" disabled> ':""},pushNameFiles:function(){var t="",e=[];this.$element[0].files===undefined?e[0]={name:this.$element[0]&&this.$element[0].value}:e=this.$element[0].files;for(var n=0;n<e.length;n++)t+=e[n].name.split("\\").pop()+", ";return""!==t?this.$elementFilestyle.find(":text").val(t.replace(/\, $/g,"")):this.$elementFilestyle.find(":text").val(""),e},constructor:function(){var n=this,i="",o=n.$element.attr("id"),r="";""!==o&&o||(o="filestyle-"+e,n.$element.attr({id:o}),e++),r='<span class="group-span-filestyle '+(n.options.input?"input-group-btn":"")+'"><label for="'+o+'" class="btn '+n.options.buttonName+" "+("nr"==n.options.size?"":"btn-"+n.options.size)+'" '+(n.options.disabled?'disabled="true"':"")+">"+n.htmlIcon()+'<span class="buttonText">'+n.options.buttonText+"</span></label></span>",i=n.options.buttonBefore?r+n.htmlInput():n.htmlInput()+r,n.$elementFilestyle=t('<div class="bootstrap-filestyle input-group">'+i+"</div>"),n.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(t){if(13===t.keyCode||32===t.charCode)return n.$elementFilestyle.find("label").click(),!1}),n.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(n.$elementFilestyle),n.options.disabled&&n.$element.attr("disabled","true"),n.$element.change(function(){var t=n.pushNameFiles();0==n.options.input&&n.options.badge?0==n.$elementFilestyle.find(".badge").length?n.$elementFilestyle.find("label").append(' <span class="badge">'+t.length+"</span>"):0==t.length?n.$elementFilestyle.find(".badge").remove():n.$elementFilestyle.find(".badge").html(t.length):n.$elementFilestyle.find(".badge").remove()}),window.navigator.userAgent.search(/firefox/i)}};var i=t.fn.filestyle;t.fn.filestyle=function(e,i){var o="",r=this.each(function(){if("file"===t(this).attr("type")){var r=t(this),s=r.data("filestyle"),a=t.extend({},t.fn.filestyle.defaults,e,"object"==typeof e&&e);s||(r.data("filestyle",s=new n(this,a)),s.constructor()),"string"==typeof e&&(o=s[e](i))}});return typeof o!==undefined?o:r},t.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon glyphicon-folder-open",buttonName:"btn-default",size:"nr",input:!0,badge:!0,icon:!0,buttonBefore:!1,disabled:!1,placeholder:""},t.fn.filestyle.noConflict=function(){return t.fn.filestyle=i,this},t(function(){t.fn.filestyle_default=function(){return this.each(function(){var e=t(this),n={input:"false"!==e.attr("data-input"),icon:"false"!==e.attr("data-icon"),buttonBefore:"true"===e.attr("data-buttonBefore"),disabled:"true"===e.attr("data-disabled"),size:e.attr("data-size"),buttonText:e.attr("data-buttonText"),buttonName:e.attr("data-buttonName"),iconName:e.attr("data-iconName"),badge:"false"!==e.attr("data-badge"),placeholder:e.attr("data-placeholder")};e.filestyle(n)}),this},t(".filestyle").filestyle_default()})}(window.jQuery),function(t){var e={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:'<span class="glyphicon glyphicon-chevron-right"></span>',prevText:'<span class="glyphicon glyphicon-chevron-left"></span>',nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};t.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(n)}),this;var o={},r=this,s=t(window).width(),a=t(window).height();if(!t(r).data("bxSlider")){var l=function(){t(r).data("bxSlider")||(o.settings=t.extend({},e,n),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"===o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!==o.settings.mode&&function(){for(var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],n=0;n<e.length;n++)if(t.style[e[n]]!==undefined)return o.cssPrefix=e[n].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"===o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(o.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),c())},c=function(){var e=o.children.eq(o.settings.startSlide);r.wrap('<div class="'+o.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),o.viewport=r.parent(),o.settings.ariaLive&&!o.settings.ticker&&o.viewport.attr("aria-live","polite"),o.loader=t('<div class="bx-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"===o.settings.mode?1e3*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing"),o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:f()}),o.children.css({"float":"horizontal"===o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",p()),"horizontal"===o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"===o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"===o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=t('<div class="bx-controls" />'),o.settings.captions&&S(),o.active.last=o.settings.startSlide===g()-1,o.settings.video&&r.fitVids(),("all"===o.settings.preloadImages||o.settings.ticker)&&(e=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.controls&&k(),o.settings.auto&&o.settings.autoControls&&C(),o.settings.pager&&w(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),u(e,d)},u=function(e,n){var i=e.find('img:not([src=""]), iframe').length,o=0;0!==i?e.find('img:not([src=""]), iframe').each(function(){t(this).one("load error",function(){++o===i&&n()}).each(function(){this.complete&&t(this).trigger("load")})}):n()},d=function(){if(o.settings.infiniteLoop&&"fade"!==o.settings.mode&&!o.settings.ticker){var e="vertical"===o.settings.mode?o.settings.minSlides:o.settings.maxSlides,n=o.children.slice(0,e).clone(!0).addClass("bx-clone"),i=o.children.slice(-e).clone(!0).addClass("bx-clone");o.settings.ariaHidden&&(n.attr("aria-hidden",!0),i.attr("aria-hidden",!0)),r.append(n).prepend(i)}o.loader.remove(),y(),"vertical"===o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(h()),r.redrawSlider(),o.settings.onSliderLoad.call(r,o.active.index),o.initialized=!0,o.settings.responsive&&t(window).bind("resize",W),o.settings.auto&&o.settings.autoStart&&(g()>1||o.settings.autoSlideForOnePage)&&M(),o.settings.ticker&&N(),o.settings.pager&&D(o.settings.startSlide),o.settings.controls&&P(),o.settings.touchEnabled&&!o.settings.ticker&&$(),o.settings.keyboardEnabled&&!o.settings.ticker&&t(document).keydown(F)},h=function(){var e=0,n=t();if("vertical"===o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var r=1===o.settings.moveSlides?o.active.index:o.active.index*v();for(n=o.children.eq(r),i=1;i<=o.settings.maxSlides-1;i++)n=r+i>=o.children.length?n.add(o.children.eq(i-1)):n.add(o.children.eq(r+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"===o.settings.mode?(n.each(function(){e+=t(this).outerHeight()}),o.settings.slideMargin>0&&(e+=o.settings.slideMargin*(o.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"===o.viewport.css("box-sizing")?e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"===o.viewport.css("box-sizing")&&(e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),e},f=function(){var t="100%";return o.settings.slideWidth>0&&(t="horizontal"===o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),t},p=function(){var t=o.settings.slideWidth,e=o.viewport.width();if(0===o.settings.slideWidth||o.settings.slideWidth>e&&!o.carousel||"vertical"===o.settings.mode)t=e;else if(o.settings.maxSlides>1&&"horizontal"===o.settings.mode){if(e>o.maxThreshold)return t;e<o.minThreshold?t=(e-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides:o.settings.shrinkItems&&(t=Math.floor((e+o.settings.slideMargin)/Math.ceil((e+o.settings.slideMargin)/(t+o.settings.slideMargin))-o.settings.slideMargin))}return t},m=function(){var t=1,e=null;return"horizontal"===o.settings.mode&&o.settings.slideWidth>0?o.viewport.width()<o.minThreshold?t=o.settings.minSlides:o.viewport.width()>o.maxThreshold?t=o.settings.maxSlides:(e=o.children.first().width()+o.settings.slideMargin,t=Math.floor((o.viewport.width()+o.settings.slideMargin)/e)):"vertical"===o.settings.mode&&(t=o.settings.minSlides),t},g=function(){var t=0,e=0,n=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)t=Math.ceil(o.children.length/v());else for(;e<o.children.length;)++t,e=n+m(),n+=o.settings.moveSlides<=m()?o.settings.moveSlides:m();else t=Math.ceil(o.children.length/m());return t},v=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=m()?o.settings.moveSlides:m()},y=function(){var t,e,n;o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop?"horizontal"===o.settings.mode?(t=(e=o.children.last()).position(),b(-(t.left-(o.viewport.width()-e.outerWidth())),"reset",0)):"vertical"===o.settings.mode&&(n=o.children.length-o.settings.minSlides,t=o.children.eq(n).position(),b(-t.top,"reset",0)):(t=o.children.eq(o.active.index*v()).position(),o.active.index===g()-1&&(o.active.last=!0),t!==undefined&&("horizontal"===o.settings.mode?b(-t.left,"reset",0):"vertical"===o.settings.mode&&b(-t.top,"reset",0)))},b=function(e,n,i,s){var a,l;o.usingCSS?(l="vertical"===o.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)",r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"===n?(r.css(o.animProp,l),0!==i?r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(r)&&(r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),L())}):L()):"reset"===n?r.css(o.animProp,l):"ticker"===n&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,l),0!==i?r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(r)&&(r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),b(s.resetValue,"reset",0),O())}):(b(s.resetValue,"reset",0),O()))):((a={})[o.animProp]=e,"slide"===n?r.animate(a,i,o.settings.easing,function(){L()}):"reset"===n?r.css(o.animProp,e):"ticker"===n&&r.animate(a,i,"linear",function(){b(s.resetValue,"reset",0),O()}))},_=function(){for(var e="",n="",i=g(),r=0;r<i;r++)n="",o.settings.buildPager&&t.isFunction(o.settings.buildPager)||o.settings.pagerCustom?(n=o.settings.buildPager(r),o.pagerEl.addClass("bx-custom-pager")):(n=r+1,o.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+r+'" class="bx-pager-link">'+n+"</a></div>";o.pagerEl.html(e)},w=function(){o.settings.pagerCustom?o.pagerEl=t(o.settings.pagerCustom):(o.pagerEl=t('<div class="bx-pager" />'),o.settings.pagerSelector?t(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),_()),o.pagerEl.on("click touchend","a",I)},k=function(){o.controls.next=t('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=t('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click touchend",x),o.controls.prev.bind("click touchend",E),o.settings.nextSelector&&t(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&t(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=t('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},C=function(){o.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=t('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",T),o.controls.autoEl.on("click",".bx-stop",A),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?t(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),R(o.settings.autoStart?"stop":"start")},S=function(){o.children.each(function(){var e=t(this).find("img:first").attr("title");e!==undefined&&(""+e).length&&t(this).append('<div class="bx-caption"><span>'+e+"</span></div>")})},x=function(t){t.preventDefault(),o.controls.el.hasClass("disabled")||(o.settings.auto&&o.settings.stopAutoOnClick&&r.stopAuto(),r.goToNextSlide())},E=function(t){t.preventDefault(),o.controls.el.hasClass("disabled")||(o.settings.auto&&o.settings.stopAutoOnClick&&r.stopAuto(),r.goToPrevSlide())},T=function(t){r.startAuto(),t.preventDefault()},A=function(t){r.stopAuto(),t.preventDefault()},I=function(e){var n,i;e.preventDefault(),o.controls.el.hasClass("disabled")||(o.settings.auto&&o.settings.stopAutoOnClick&&r.stopAuto(),(n=t(e.currentTarget)).attr("data-slide-index")!==undefined&&(i=parseInt(n.attr("data-slide-index")))!==o.active.index&&r.goToSlide(i))},D=function(e){var n=o.children.length;if("short"===o.settings.pagerType)return o.settings.maxSlides>1&&(n=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(e+1+o.settings.pagerShortSeparator+n);o.pagerEl.find("a").removeClass("active"),o.pagerEl.each(function(n,i){t(i).find("a").eq(e).addClass("active")})},L=function(){if(o.settings.infiniteLoop){var t="";0===o.active.index?t=o.children.eq(0).position():o.active.index===g()-1&&o.carousel?t=o.children.eq((g()-1)*v()).position():o.active.index===o.children.length-1&&(t=o.children.eq(o.children.length-1).position()),t&&("horizontal"===o.settings.mode?b(-t.left,"reset",0):"vertical"===o.settings.mode&&b(-t.top,"reset",0))}o.working=!1,o.settings.onSlideAfter.call(r,o.children.eq(o.active.index),o.oldIndex,o.active.index)},R=function(t){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[t]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},P=function(){1===g()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0===o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index===g()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},M=function(){if(o.settings.autoDelay>0)setTimeout(r.startAuto,o.settings.autoDelay);else r.startAuto(),t(window).focus(function(){r.startAuto()}).blur(function(){r.stopAuto()});o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},N=function(){var e,n,i,s,a,l,c,u,d=0;"next"===o.settings.autoDirection?r.append(o.children.clone().addClass("bx-clone")):(r.prepend(o.children.clone().addClass("bx-clone")),e=o.children.first().position(),d="horizontal"===o.settings.mode?-e.left:-e.top),b(d,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&(o.usingCSS?(s="horizontal"===o.settings.mode?4:5,o.viewport.hover(function(){n=r.css("-"+o.cssPrefix+"-transform"),i=parseFloat(n.split(",")[s]),b(i,"reset",0)},function(){u=0,o.children.each(function(){u+="horizontal"===o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),a=o.settings.speed/u,l="horizontal"===o.settings.mode?"left":"top",c=a*(u-Math.abs(parseInt(i))),O(c)})):o.viewport.hover(function(){r.stop()},function(){u=0,o.children.each(function(){u+="horizontal"===o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),a=o.settings.speed/u,l="horizontal"===o.settings.mode?"left":"top",c=a*(u-Math.abs(parseInt(r.css(l)))),O(c)})),O()},O=function(t){var e,n,i=t||o.settings.speed,s={left:0,top:0},a={left:0,top:0};"next"===o.settings.autoDirection?s=r.find(".bx-clone").first().position():a=o.children.first().position(),e="horizontal"===o.settings.mode?-s.left:-s.top,n="horizontal"===o.settings.mode?-a.left:-a.top,b(e,"ticker",i,{resetValue:n})},j=function(e){var n=t(window),i={top:n.scrollTop(),left:n.scrollLeft()},o=e.offset();return i.right=i.left+n.width(),i.bottom=i.top+n.height(),o.right=o.left+e.outerWidth(),o.bottom=o.top+e.outerHeight(),!(i.right<o.left||i.left>o.right||i.bottom<o.top||i.top>o.bottom)},F=function(t){var e=document.activeElement.tagName.toLowerCase(),n="input|textarea";if(null==new RegExp(e,["i"]).exec(n)&&j(r)){if(39===t.keyCode)return x(t),!1;if(37===t.keyCode)return E(t),!1}},$=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart MSPointerDown pointerdown",B),o.viewport.on("click",".bxslider a",function(t){o.viewport.hasClass("click-disabled")&&(t.preventDefault(),o.viewport.removeClass("click-disabled"))})},B=function(t){if(o.controls.el.addClass("disabled"),o.working)t.preventDefault(),o.controls.el.removeClass("disabled");else{o.touch.originalPos=r.position();var e=t.originalEvent,n="undefined"!=typeof e.changedTouches?e.changedTouches:[e];o.touch.start.x=n[0].pageX,o.touch.start.y=n[0].pageY,o.viewport.get(0).setPointerCapture&&(o.pointerId=e.pointerId,o.viewport.get(0).setPointerCapture(o.pointerId)),o.viewport.bind("touchmove MSPointerMove pointermove",H),o.viewport.bind("touchend MSPointerUp pointerup",z),o.viewport.bind("MSPointerCancel pointercancel",U)}},U=function(){b(o.touch.originalPos.left,"reset",0),o.controls.el.removeClass("disabled"),o.viewport.unbind("MSPointerCancel pointercancel",U),o.viewport.unbind("touchmove MSPointerMove pointermove",H),o.viewport.unbind("touchend MSPointerUp pointerup",z),o.viewport.get(0).releasePointerCapture&&o.viewport.get(0).releasePointerCapture(o.pointerId)},H=function(t){var e=t.originalEvent,n="undefined"!=typeof e.changedTouches?e.changedTouches:[e],i=Math.abs(n[0].pageX-o.touch.start.x),r=Math.abs(n[0].pageY-o.touch.start.y),s=0,a=0;3*i>r&&o.settings.preventDefaultSwipeX?t.preventDefault():3*r>i&&o.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!==o.settings.mode&&o.settings.oneToOneTouch&&("horizontal"===o.settings.mode?(a=n[0].pageX-o.touch.start.x,s=o.touch.originalPos.left+a):(a=n[0].pageY-o.touch.start.y,s=o.touch.originalPos.top+a),b(s,"reset",0))},z=function(t){o.viewport.unbind("touchmove MSPointerMove pointermove",H),o.controls.el.removeClass("disabled");var e=t.originalEvent,n="undefined"!=typeof e.changedTouches?e.changedTouches:[e],i=0,s=0;o.touch.end.x=n[0].pageX,o.touch.end.y=n[0].pageY,"fade"===o.settings.mode?(s=Math.abs(o.touch.start.x-o.touch.end.x))>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):("horizontal"===o.settings.mode?(s=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(s=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0===o.active.index&&s>0||o.active.last&&s<0)?b(i,"reset",200):Math.abs(s)>=o.settings.swipeThreshold?(s<0?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):b(i,"reset",200)),o.viewport.unbind("touchend MSPointerUp pointerup",z),o.viewport.get(0).releasePointerCapture&&o.viewport.get(0).releasePointerCapture(o.pointerId)},W=function(){if(o.initialized)if(o.working)window.setTimeout(W,10);else{var e=t(window).width(),n=t(window).height();s===e&&a===n||(s=e,a=n,r.redrawSlider(),o.settings.onSliderResize.call(r,o.active.index))}},Y=function(t){var e=m();o.settings.ariaHidden&&!o.settings.ticker&&(o.children.attr("aria-hidden","true"),o.children.slice(t,t+e).attr("aria-hidden","false"))},G=function(t){return t<0?o.settings.infiniteLoop?g()-1:o.active.index:t>=g()?o.settings.infiniteLoop?0:o.active.index:t};return r.goToSlide=function(e,n){var i,s,a,l,c=!0,u=0,d={left:0,top:0},f=null;if(o.oldIndex=o.active.index,o.active.index=G(e),!o.working&&o.active.index!==o.oldIndex){if(o.working=!0,void 0!==(c=o.settings.onSlideBefore.call(r,o.children.eq(o.active.index),o.oldIndex,o.active.index))&&!c)return o.active.index=o.oldIndex,void(o.working=!1);"next"===n?o.settings.onSlideNext.call(r,o.children.eq(o.active.index),o.oldIndex,o.active.index)||(c=!1):"prev"===n&&(o.settings.onSlidePrev.call(r,o.children.eq(o.active.index),o.oldIndex,o.active.index)||(c=!1)),o.active.last=o.active.index>=g()-1,(o.settings.pager||o.settings.pagerCustom)&&D(o.active.index),o.settings.controls&&P(),"fade"===o.settings.mode?(o.settings.adaptiveHeight&&o.viewport.height()!==h()&&o.viewport.animate({height:h()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){t(this).css("zIndex",o.settings.slideZIndex),L()})):(o.settings.adaptiveHeight&&o.viewport.height()!==h()&&o.viewport.animate({height:h()},o.settings.adaptiveHeightSpeed),!o.settings.infiniteLoop&&o.carousel&&o.active.last?"horizontal"===o.settings.mode?(d=(f=o.children.eq(o.children.length-1)).position(),u=o.viewport.width()-f.outerWidth()):(i=o.children.length-o.settings.minSlides,d=o.children.eq(i).position()):o.carousel&&o.active.last&&"prev"===n?(s=1===o.settings.moveSlides?o.settings.maxSlides-v():(g()-1)*v()-(o.children.length-o.settings.maxSlides),d=(f=r.children(".bx-clone").eq(s)).position()):"next"===n&&0===o.active.index?(d=r.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1):e>=0&&(l=e*parseInt(v()),d=o.children.eq(l).position()),void 0!==d?(a="horizontal"===o.settings.mode?-(d.left-u):-d.top,b(a,"slide",o.settings.speed)):o.working=!1),o.settings.ariaHidden&&Y(o.active.index*v())}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var t=parseInt(o.active.index)+1;r.goToSlide(t,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!==o.active.index){var t=parseInt(o.active.index)-1;r.goToSlide(t,"prev")}},r.startAuto=function(t){o.interval||(o.interval=setInterval(function(){"next"===o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&!0!==t&&R("stop"))},r.stopAuto=function(t){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&!0!==t&&R("start"))},r.getCurrentSlide=function(){return o.active.index},r.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},r.getSlideElement=function(t){return o.children.eq(t)},r.getSlideCount=function(){return o.children.length},r.isWorking=function(){return o.working},r.redrawSlider=function(){o.children.add(r.find(".bx-clone")).outerWidth(p()),o.viewport.css("height",h()),o.settings.ticker||y(),o.active.last&&(o.active.index=g()-1),o.active.index>=g()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(_(),D(o.active.index)),o.settings.ariaHidden&&Y(o.active.index*v())},r.destroySlider=function(){o.initialized&&(o.initialized=!1,t(".bx-clone",this).remove(),o.children.each(function(){t(this).data("origStyle")!==undefined?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),t(this).data("origStyle")!==undefined?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&!o.settings.pagerCustom&&o.pagerEl.remove(),t(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&t(window).unbind("resize",W),o.settings.keyboardEnabled&&t(document).unbind("keydown",F),t(this).removeData("bxSlider"))},r.reloadSlider=function(e){e!==undefined&&(n=e),r.destroySlider(),l(),t(r).data("bxSlider",this)},l(),t(r).data("bxSlider",this),this}}}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return mi.apply(null,arguments)}function e(t){mi=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){var e;for(e in t)return!1;return!0}function r(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var n in e)l(e,n)&&(t[n]=e[n]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,n,i){return ve(t,e,n,i,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function h(t){return null==t._pf&&(t._pf=d()),t._pf}function f(t){if(null==t._isValid){var e=h(t),n=gi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&e.bigHour===undefined),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function p(t){var e=u(NaN);return null!=t?c(h(e),t):h(e).userInvalidated=!0,e}function m(t){return void 0===t}function g(t,e){var n,i,o;if(m(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),m(e._i)||(t._i=e._i),m(e._f)||(t._f=e._f),m(e._l)||(t._l=e._l),m(e._strict)||(t._strict=e._strict),m(e._tzm)||(t._tzm=e._tzm),m(e._isUTC)||(t._isUTC=e._isUTC),m(e._offset)||(t._offset=e._offset),m(e._pf)||(t._pf=h(e)),m(e._locale)||(t._locale=e._locale),vi.length>0)for(n in vi)m(o=e[i=vi[n]])||(t[i]=o);return t}function v(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===yi&&(yi=!0,t.updateOffset(this),yi=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function w(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&s++;return s+r}function k(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,n){var i=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var o,r=[],s=0;s<arguments.length;s++){if(o="","object"==typeof arguments[s]){for(var a in o+="\n["+s+"] ",arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[s];r.push(o)}k(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function S(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),bi[e]||(k(n),bi[e]=!0)}function x(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function E(t){var e,n;for(n in t)x(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(t,e){var n,o=c({},t);for(n in e)l(e,n)&&(i(t[n])&&i(e[n])?(o[n]={},c(o[n],t[n]),c(o[n],e[n])):null!=e[n]?o[n]=e[n]:delete o[n]);for(n in t)l(t,n)&&!l(e,n)&&i(t[n])&&(o[n]=c({},o[n]));return o}function A(t){null!=t&&this.set(t)}function I(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return x(i)?i.call(e,n):i}function D(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function L(){return this._invalidDate}function R(t){return this._ordinal.replace("%d",t)}function P(t,e,n,i){var o=this._relativeTime[n];return x(o)?o(t,e,n,i):o.replace(/%d/i,t)}function M(t,e){var n=this._relativeTime[t>0?"future":"past"];return x(n)?n(e):n.replace(/%s/i,e)}function N(t,e){var n=t.toLowerCase();Ti[n]=Ti[n+"s"]=Ti[e]=t}function O(t){return"string"==typeof t?Ti[t]||Ti[t.toLowerCase()]:undefined}function j(t){var e,n,i={};for(n in t)l(t,n)&&(e=O(n))&&(i[e]=t[n]);return i}function F(t,e){Ai[t]=e}function $(t){var e=[];for(var n in t)e.push({unit:n,priority:Ai[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function B(e,n){return function(i){return null!=i?(H(this,e,i),t.updateOffset(this,n),this):U(this,e)}}function U(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function H(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function z(t){return x(this[t=O(t)])?this[t]():this}function W(t,e){
if("object"==typeof t)for(var n=$(t=j(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(x(this[t=O(t)]))return this[t](e);return this}function Y(t,e,n){var i=""+Math.abs(t),o=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}function G(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(Ri[t]=o),e&&(Ri[e[0]]=function(){return Y(o.apply(this,arguments),e[1],e[2])}),n&&(Ri[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function q(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,n,i=t.match(Ii);for(e=0,n=i.length;e<n;e++)Ri[i[e]]?i[e]=Ri[i[e]]:i[e]=q(i[e]);return function(e){var o,r="";for(o=0;o<n;o++)r+=i[o]instanceof Function?i[o].call(e,t):i[o];return r}}function Z(t,e){return t.isValid()?(e=X(e,t.localeData()),Li[e]=Li[e]||V(e),Li[e](t)):t.localeData().invalidDate()}function X(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Di.lastIndex=0;i>=0&&Di.test(t);)t=t.replace(Di,n),Di.lastIndex=0,i-=1;return t}function J(t,e,n){Xi[t]=x(e)?e:function(t){return t&&n?n:e}}function K(t,e){return l(Xi,t)?Xi[t](e._strict,e._locale):new RegExp(Q(t))}function Q(t){return tt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o}))}function tt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function et(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),r(e)&&(i=function(t,n){n[e]=_(t)}),n=0;n<t.length;n++)Ji[t[n]]=i}function nt(t,e){et(t,function(t,n,i,o){i._w=i._w||{},e(t,i._w,i,o)})}function it(t,e,n){null!=e&&l(Ji,t)&&Ji[t](e,n._a,n,t)}function ot(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||lo).test(e)?"format":"standalone"][t.month()]:this._months}function st(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[lo.test(e)?"format":"standalone"][t.month()]:this._monthsShort}function at(t,e,n){var i,o,r,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=ao.call(this._shortMonthsParse,s))?o:null:-1!==(o=ao.call(this._longMonthsParse,s))?o:null:"MMM"===e?-1!==(o=ao.call(this._shortMonthsParse,s))?o:-1!==(o=ao.call(this._longMonthsParse,s))?o:null:-1!==(o=ao.call(this._longMonthsParse,s))?o:-1!==(o=ao.call(this._shortMonthsParse,s))?o:null}function lt(t,e,n){var i,o,r;if(this._monthsParseExact)return at.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ct(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(!r(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ut(e){return null!=e?(ct(this,e),t.updateOffset(this,!0),this):U(this,"Month")}function dt(){return ot(this.year(),this.month())}function ht(t){return this._monthsParseExact?(l(this,"_monthsRegex")||pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=ho),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(t){return this._monthsParseExact?(l(this,"_monthsRegex")||pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=fo),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pt(){function t(t,e){return e.length-t.length}var e,n,i=[],o=[],r=[];for(e=0;e<12;e++)n=u([2e3,e]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)i[e]=tt(i[e]),o[e]=tt(o[e]);for(e=0;e<24;e++)r[e]=tt(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function mt(t){return gt(t)?366:365}function gt(t){return t%4==0&&t%100!=0||t%400==0}function vt(){return gt(this.year())}function yt(t,e,n,i,o,r,s){var a=new Date(t,e,n,i,o,r,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function bt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function _t(t,e,n){var i=7+e-n;return-((7+bt(t,0,i).getUTCDay()-e)%7)+i-1}function wt(t,e,n,i,o){var r,s,a=1+7*(e-1)+(7+n-i)%7+_t(t,i,o);return a<=0?s=mt(r=t-1)+a:a>mt(t)?(r=t+1,s=a-mt(t)):(r=t,s=a),{year:r,dayOfYear:s}}function kt(t,e,n){var i,o,r=_t(t.year(),e,n),s=Math.floor((t.dayOfYear()-r-1)/7)+1;return s<1?i=s+Ct(o=t.year()-1,e,n):s>Ct(t.year(),e,n)?(i=s-Ct(t.year(),e,n),o=t.year()+1):(o=t.year(),i=s),{week:i,year:o}}function Ct(t,e,n){var i=_t(t,e,n),o=_t(t+1,e,n);return(mt(t)-i+o)/7}function St(t){return kt(t,this._week.dow,this._week.doy).week}function xt(){return this._week.dow}function Et(){return this._week.doy}function Tt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function At(t){var e=kt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function It(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Dt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Lt(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays}function Rt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Pt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Mt(t,e,n){var i,o,r,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=ao.call(this._weekdaysParse,s))?o:null:"ddd"===e?-1!==(o=ao.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=ao.call(this._minWeekdaysParse,s))?o:null:"dddd"===e?-1!==(o=ao.call(this._weekdaysParse,s))?o:-1!==(o=ao.call(this._shortWeekdaysParse,s))?o:-1!==(o=ao.call(this._minWeekdaysParse,s))?o:null:"ddd"===e?-1!==(o=ao.call(this._shortWeekdaysParse,s))?o:-1!==(o=ao.call(this._weekdaysParse,s))?o:-1!==(o=ao.call(this._minWeekdaysParse,s))?o:null:-1!==(o=ao.call(this._minWeekdaysParse,s))?o:-1!==(o=ao.call(this._weekdaysParse,s))?o:-1!==(o=ao.call(this._shortWeekdaysParse,s))?o:null}function Nt(t,e,n){var i,o,r;if(this._weekdaysParseExact)return Mt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ot(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=It(t,this.localeData()),this.add(t-e,"d")):e}function jt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ft(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Dt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function $t(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ht.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=bo),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Bt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ht.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_o),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ut(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ht.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=wo),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ht(){function t(t,e){return e.length-t.length}var e,n,i,o,r,s=[],a=[],l=[],c=[];for(e=0;e<7;e++)n=u([2e3,1]).day(e),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),r=this.weekdays(n,""),s.push(i),a.push(o),l.push(r),c.push(i),c.push(o),c.push(r);for(s.sort(t),a.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)a[e]=tt(a[e]),l[e]=tt(l[e]),c[e]=tt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function zt(){return this.hours()%12||12}function Wt(){return this.hours()||24}function Yt(t,e){G(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Gt(t,e){return e._meridiemParse}function qt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Vt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Zt(t){return t?t.toLowerCase().replace("_","-"):t}function Xt(t){for(var e,n,i,o,r=0;r<t.length;){for(e=(o=Zt(t[r]).split("-")).length,n=(n=Zt(t[r+1]))?n.split("-"):null;e>0;){if(i=Jt(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&w(o,n,!0)>=e-1)break;e--}r++}return null}function Jt(t){var e=null;if(!Eo[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=ko._abbr,require("./locale/"+t),Kt(e)}catch(n){}return Eo[t]}function Kt(t,e){var n;return t&&(n=m(e)?ee(t):Qt(t,e))&&(ko=n),ko._abbr}function Qt(t,e){if(null!==e){var n=xo;if(e.abbr=t,null!=Eo[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Eo[t]._config;else if(null!=e.parentLocale){if(null==Eo[e.parentLocale])return To[e.parentLocale]||(To[e.parentLocale]=[]),To[e.parentLocale].push({name:t,config:e}),null;n=Eo[e.parentLocale]._config}return Eo[t]=new A(T(n,e)),To[t]&&To[t].forEach(function(t){Qt(t.name,t.config)}),Kt(t),Eo[t]}return delete Eo[t],null}function te(t,e){if(null!=e){var n,i=xo;null!=Eo[t]&&(i=Eo[t]._config),(n=new A(e=T(i,e))).parentLocale=Eo[t],Eo[t]=n,Kt(t)}else null!=Eo[t]&&(null!=Eo[t].parentLocale?Eo[t]=Eo[t].parentLocale:null!=Eo[t]&&delete Eo[t]);return Eo[t]}function ee(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ko;if(!n(t)){if(e=Jt(t))return e;t=[t]}return Xt(t)}function ne(){return _i(Eo)}function ie(t){var e,n=t._a;return n&&-2===h(t).overflow&&(e=n[Qi]<0||n[Qi]>11?Qi:n[to]<1||n[to]>ot(n[Ki],n[Qi])?to:n[eo]<0||n[eo]>24||24===n[eo]&&(0!==n[no]||0!==n[io]||0!==n[oo])?eo:n[no]<0||n[no]>59?no:n[io]<0||n[io]>59?io:n[oo]<0||n[oo]>999?oo:-1,h(t)._overflowDayOfYear&&(e<Ki||e>to)&&(e=to),h(t)._overflowWeeks&&-1===e&&(e=ro),h(t)._overflowWeekday&&-1===e&&(e=so),h(t).overflow=e),t}function oe(t){var e,n,i,o,r,s,a=t._i,l=Ao.exec(a)||Io.exec(a);if(l){for(h(t).iso=!0,e=0,n=Lo.length;e<n;e++)if(Lo[e][1].exec(l[1])){o=Lo[e][0],i=!1!==Lo[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=Ro.length;e<n;e++)if(Ro[e][1].exec(l[3])){r=(l[2]||" ")+Ro[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(l[4]){if(!Do.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=o+(r||"")+(s||""),ue(t)}else t._isValid=!1}function re(e){var n=Po.exec(e._i);null===n?(oe(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e))):e._d=new Date(+n[1])}function se(t,e,n){return null!=t?t:null!=e?e:n}function ae(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function le(t){var e,n,i,o,r=[];if(!t._d){for(i=ae(t),t._w&&null==t._a[to]&&null==t._a[Qi]&&ce(t),t._dayOfYear&&(o=se(t._a[Ki],i[Ki]),t._dayOfYear>mt(o)&&(h(t)._overflowDayOfYear=!0),n=bt(o,0,t._dayOfYear),t._a[Qi]=n.getUTCMonth(),t._a[to]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[eo]&&0===t._a[no]&&0===t._a[io]&&0===t._a[oo]&&(t._nextDay=!0,t._a[eo]=0),t._d=(t._useUTC?bt:yt).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[eo]=24)}}function ce(t){var e,n,i,o,r,s,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,s=4,n=se(e.GG,t._a[Ki],kt(ye(),1,4).year),i=se(e.W,1),((o=se(e.E,1))<1||o>7)&&(l=!0);else{r=t._locale._week.dow,s=t._locale._week.doy;var c=kt(ye(),r,s);n=se(e.gg,t._a[Ki],c.year),i=se(e.w,c.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+r,(e.e<0||e.e>6)&&(l=!0)):o=r}i<1||i>Ct(n,r,s)?h(t)._overflowWeeks=!0:null!=l?h(t)._overflowWeekday=!0:(a=wt(n,i,o,r,s),t._a[Ki]=a.year,t._dayOfYear=a.dayOfYear)}function ue(e){if(e._f!==t.ISO_8601){e._a=[],h(e).empty=!0;var n,i,o,r,s,a=""+e._i,l=a.length,c=0;for(o=X(e._f,e._locale).match(Ii)||[],n=0;n<o.length;n++)r=o[n],(i=(a.match(K(r,e))||[])[0])&&((s=a.substr(0,a.indexOf(i))).length>0&&h(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),Ri[r]?(i?h(e).empty=!1:h(e).unusedTokens.push(r),it(r,i,e)):e._strict&&!i&&h(e).unusedTokens.push(r);h(e).charsLeftOver=l-c,a.length>0&&h(e).unusedInput.push(a),e._a[eo]<=12&&!0===h(e).bigHour&&e._a[eo]>0&&(h(e).bigHour=undefined),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[eo]=de(e._locale,e._a[eo],e._meridiem),le(e),ie(e)}else oe(e)}function de(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function he(t){var e,n,i,o,r;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],ue(e),f(e)&&(r+=h(e).charsLeftOver,r+=10*h(e).unusedTokens.length,h(e).score=r,(null==i||r<i)&&(i=r,n=e));c(t,n||e)}function fe(t){if(!t._d){var e=j(t._i);t._a=a([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),le(t)}}function pe(t){var e=new v(ie(me(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=undefined),e}function me(t){var e=t._i,i=t._f;return t._locale=t._locale||ee(t._l),null===e||i===undefined&&""===e?p({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(ie(e)):(s(e)?t._d=e:n(i)?he(t):i?ue(t):ge(t),f(t)||(t._d=null),t))}function ge(e){var i=e._i;i===undefined?e._d=new Date(t.now()):s(i)?e._d=new Date(i.valueOf()):"string"==typeof i?re(e):n(i)?(e._a=a(i.slice(0),function(t){return parseInt(t,10)}),le(e)):"object"==typeof i?fe(e):r(i)?e._d=new Date(i):t.createFromInputFallback(e)}function ve(t,e,r,s,a){var l={};return!0!==r&&!1!==r||(s=r,r=undefined),(i(t)&&o(t)||n(t)&&0===t.length)&&(t=undefined),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=r,l._i=t,l._f=e,l._strict=s,pe(l)}function ye(t,e,n,i){return ve(t,e,n,i,!1)}function be(t,e){var i,o;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return ye();for(i=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](i)||(i=e[o]);return i}function _e(){return be("isBefore",[].slice.call(arguments,0))}function we(){return be("isAfter",[].slice.call(arguments,0))}function ke(t){var e=j(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=ee(),this._bubble()}function Ce(t){return t instanceof ke}function Se(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function xe(t,e){G(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+Y(~~(t/60),2)+e+Y(~~t%60,2)})}function Ee(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(jo)||["-",0,0],o=60*i[1]+_(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Te(e,n){var i,o;return n._isUTC?(i=n.clone(),o=(y(e)||s(e)?e.valueOf():ye(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),t.updateOffset(i,!1),i):ye(e).local()}function Ae(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ie(e,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ee(qi,e)))return this}else Math.abs(e)<16&&(e*=60);return!this._isUTC&&n&&(i=Ae(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!n||this._changeInProgress?Ye(this,Be(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ae(this)}function De(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Le(t){return this.utcOffset(0,t)}function Re(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ae(this),"m")),this}function Pe(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=Ee(Gi,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Me(t){return!!this.isValid()&&(t=t?ye(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Ne(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Oe(){if(!m(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),(t=me(t))._a){var e=t._isUTC?u(t._a):ye(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function je(){return!!this.isValid()&&!this._isUTC}function Fe(){return!!this.isValid()&&this._isUTC}function $e(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Be(t,e){var n,i,o,s=t,a=null;return Ce(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:r(t)?(s={},e?s[e]=t:s.milliseconds=t):(a=Fo.exec(t))?(n="-"===a[1]?-1:1,s={y:0,d:_(a[to])*n,h:_(a[eo])*n,m:_(a[no])*n,s:_(a[io])*n,ms:_(Se(1e3*a[oo]))*n}):(a=$o.exec(t))?(n="-"===a[1]?-1:1,s={y:Ue(a[2],n),M:Ue(a[3],n),w:Ue(a[4],n),d:Ue(a[5],n),h:Ue(a[6],n),m:Ue(a[7],n),s:Ue(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=ze(ye(s.from),ye(s.to)),(s={}).ms=o.milliseconds,s.M=o.months),i=new ke(s),Ce(t)&&l(t,"_locale")&&(i._locale=t._locale),i}function Ue(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function He(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function ze(t,e){var n;return t.isValid()&&e.isValid()?(e=Te(e,t),t.isBefore(e)?n=He(t,e):((n=He(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function We(t,e){return function(n,i){var o;return null===i||isNaN(+i)||(S(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),Ye(this,Be(n="string"==typeof n?+n:n,i),t),this}}function Ye(e,n,i,o){var r=n._milliseconds,s=Se(n._days),a=Se(n._months);e.isValid()&&(o=null==o||o,r&&e._d.setTime(e._d.valueOf()+r*i),s&&H(e,"Date",U(e,"Date")+s*i),a&&ct(e,U(e,"Month")+a*i),o&&t.updateOffset(e,s||a))}function Ge(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function qe(e,n){var i=e||ye(),o=Te(i,this).startOf("day"),r=t.calendarFormat(this,o)||"sameElse",s=n&&(x(n[r])?n[r].call(this,i):n[r]);return this.format(s||this.localeData().calendar(r,this,ye(i)))}function Ve(){return new v(this)}function Ze(t,e){var n=y(t)?t:ye(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=O(m(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Xe(t,e){var n=y(t)?t:ye(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=O(m(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Je(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Ke(t,e){var n,i=y(t)?t:ye(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=O(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Qe(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function tn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function en(t,e,n){var i,o,r,s;return this.isValid()&&(i=Te(t,this)).isValid()?(o=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=O(e))||"month"===e||"quarter"===e?(s=nn(this,i),"quarter"===e?s/=3:"year"===e&&(s/=12)):(r=this-i,s="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-o)/864e5:"week"===e?(r-o)/6048e5:r),n?s:b(s)):NaN}function nn(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function on(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():Z(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Z(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function sn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",r=e+'[")]';return this.format(n+i+o+r)}function an(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=Z(this,e);return this.localeData().postformat(n)}function ln(t,e){return this.isValid()&&(y(t)&&t.isValid()||ye(t).isValid())?Be({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function cn(t){return this.from(ye(),t)}function un(t,e){return this.isValid()&&(y(t)&&t.isValid()||ye(t).isValid())?Be({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function dn(t){return this.to(ye(),t)}function hn(t){var e;return t===undefined?this._locale._abbr:(null!=(e=ee(t))&&(this._locale=e),this)}function fn(){return this._locale}function pn(t){switch(t=O(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function mn(t){return(t=O(t))===undefined||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function gn(){return this._d.valueOf()-6e4*(this._offset||0)}function vn(){return Math.floor(this.valueOf()/1e3)}function yn(){return new Date(this.valueOf())}function bn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function _n(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function wn(){return this.isValid()?this.toISOString():null}function kn(){return f(this)}function Cn(){return c({},h(this))}function Sn(){return h(this).overflow}function xn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function En(t,e){G(0,[t,t.length],0,e)}function Tn(t){return Ln.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function An(t){return Ln.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function In(){return Ct(this.year(),1,4)}function Dn(){var t=this.localeData()._week;return Ct(this.year(),t.dow,t.doy)}function Ln(t,e,n,i,o){var r;return null==t?kt(this,i,o).year:(e>(r=Ct(t,i,o))&&(e=r),Rn.call(this,t,e,n,i,o))}function Rn(t,e,n,i,o){var r=wt(t,e,n,i,o),s=bt(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Pn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Mn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Nn(t,e){e[oo]=_(1e3*("0."+t))}function On(){return this._isUTC?"UTC":""}function jn(){return this._isUTC?"Coordinated Universal Time":""}function Fn(t){return ye(1e3*t)}function $n(){return ye.apply(null,arguments).parseZone()}function Bn(t){return t}function Un(t,e,n,i){var o=ee(),r=u().set(i,e);return o[n](r,t)}function Hn(t,e,n){if(r(t)&&(e=t,t=undefined),t=t||"",null!=e)return Un(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Un(t,i,n,"month");return o}function zn(t,e,n,i){"boolean"==typeof t?(r(e)&&(n=e,e=undefined),e=e||""):(n=e=t,t=!1,r(e)&&(n=e,e=undefined),e=e||"");var o,s=ee(),a=t?s._week.dow:0;if(null!=n)return Un(e,(n+a)%7,i,"day");var l=[];for(o=0;o<7;o++)l[o]=Un(e,(o+a)%7,i,"day");return l}function Wn(t,e){return Hn(t,e,"months")}function Yn(t,e){return Hn(t,e,"monthsShort")}function Gn(t,e,n){return zn(t,e,n,"weekdays")}function qn(t,e,n){return zn(t,e,n,"weekdaysShort")}function Vn(t,e,n){return zn(t,e,n,"weekdaysMin")}function Zn(){var t=this._data;return this._milliseconds=Xo(this._milliseconds),this._days=Xo(this._days),this._months=Xo(this._months),t.milliseconds=Xo(t.milliseconds),t.seconds=Xo(t.seconds),t.minutes=Xo(t.minutes),t.hours=Xo(t.hours),t.months=Xo(t.months),t.years=Xo(t.years),this}function Xn(t,e,n,i){var o=Be(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function Jn(t,e){return Xn(this,t,e,1)}function Kn(t,e){return Xn(this,t,e,-1)}function Qn(t){return t<0?Math.floor(t):Math.ceil(t)}function ti(){var t,e,n,i,o,r=this._milliseconds,s=this._days,a=this._months,l=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*Qn(ni(a)+s),s=0,a=0),l.milliseconds=r%1e3,t=b(r/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,a+=o=b(ei(s+=b(n/24))),s-=Qn(ni(o)),i=b(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function ei(t){return 4800*t/146097}function ni(t){return 146097*t/4800}function ii(t){var e,n,i=this._milliseconds;if("month"===(t=O(t))||"year"===t)return e=this._days+i/864e5,n=this._months+ei(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ni(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function oi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function ri(t){return function(){return this.as(t)}}function si(t){return this[(t=O(t))+"s"]()}function ai(t){return function(){return this._data[t]}}function li(){return b(this.days()/7)}function ci(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function ui(t,e,n){var i=Be(t).abs(),o=hr(i.as("s")),r=hr(i.as("m")),s=hr(i.as("h")),a=hr(i.as("d")),l=hr(i.as("M")),c=hr(i.as("y")),u=o<fr.s&&["s",o]||r<=1&&["m"]||r<fr.m&&["mm",r]||s<=1&&["h"]||s<fr.h&&["hh",s]||a<=1&&["d"]||a<fr.d&&["dd",a]||l<=1&&["M"]||l<fr.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,ci.apply(null,u)}function di(t){return t===undefined?hr:"function"==typeof t&&(hr=t,!0)}function hi(t,e){return fr[t]!==undefined&&(e===undefined?fr[t]:(fr[t]=e,!0))}function fi(t){var e=this.localeData(),n=ui(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function pi(){var t,e,n=pr(this._milliseconds)/1e3,i=pr(this._days),o=pr(this._months);e=b((t=b(n/60))/60),n%=60,t%=60;var r=b(o/12),s=o%=12,a=i,l=e,c=t,u=n,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(r?r+"Y":"")+(s?s+"M":"")+(a?a+"D":"")+(l||c||u?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var mi,gi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},vi=t.momentProperties=[],yi=!1,bi={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var _i=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)l(t,e)&&n.push(e);return n},wi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ki={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ci="Invalid date",Si="%d",xi=/\d{1,2}/,Ei={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ti={},Ai={},Ii=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Di=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Li={},Ri={},Pi=/\d/,Mi=/\d\d/,Ni=/\d{3}/,Oi=/\d{4}/,ji=/[+-]?\d{6}/,Fi=/\d\d?/,$i=/\d\d\d\d?/,Bi=/\d\d\d\d\d\d?/,Ui=/\d{1,3}/,Hi=/\d{1,4}/,zi=/[+-]?\d{1,6}/,Wi=/\d+/,Yi=/[+-]?\d+/,Gi=/Z|[+-]\d\d:?\d\d/gi,qi=/Z|[+-]\d\d(?::?\d\d)?/gi,Vi=/[+-]?\d+(\.\d{1,3})?/,Zi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xi={},Ji={},Ki=0,Qi=1,to=2,eo=3,no=4,io=5,oo=6,ro=7,so=8,ao=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),G("MMMM",0,0,function(t){return this.localeData().months(this,t)}),N("month","M"),F("month",8),J("M",Fi),J("MM",Fi,Mi),J("MMM",function(t,e){return e.monthsShortRegex(t)}),J("MMMM",function(t,e){return e.monthsRegex(t)}),et(["M","MM"],function(t,e){e[Qi]=_(t)-1}),et(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[Qi]=o:h(n).invalidMonth=t});var lo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,co="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),uo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ho=Zi,fo=Zi;G("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),N("year","y"),F("year",1),J("Y",Yi),J("YY",Fi,Mi),J("YYYY",Hi,Oi),J("YYYYY",zi,ji),J("YYYYYY",zi,ji),et(["YYYYY","YYYYYY"],Ki),et("YYYY",function(e,n){n[Ki]=2===e.length?t.parseTwoDigitYear(e):_(e)}),et("YY",function(e,n){n[Ki]=t.parseTwoDigitYear(e)}),et("Y",function(t,e){
e[Ki]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var po=B("FullYear",!0);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),F("week",5),F("isoWeek",5),J("w",Fi),J("ww",Fi,Mi),J("W",Fi),J("WW",Fi,Mi),nt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=_(t)});var mo={dow:0,doy:6};G("d",0,"do","day"),G("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),G("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),G("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),J("d",Fi),J("e",Fi),J("E",Fi),J("dd",function(t,e){return e.weekdaysMinRegex(t)}),J("ddd",function(t,e){return e.weekdaysShortRegex(t)}),J("dddd",function(t,e){return e.weekdaysRegex(t)}),nt(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);null!=o?e.d=o:h(n).invalidWeekday=t}),nt(["d","e","E"],function(t,e,n,i){e[i]=_(t)});var go="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),vo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),yo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),bo=Zi,_o=Zi,wo=Zi;G("H",["HH",2],0,"hour"),G("h",["hh",2],0,zt),G("k",["kk",2],0,Wt),G("hmm",0,0,function(){return""+zt.apply(this)+Y(this.minutes(),2)}),G("hmmss",0,0,function(){return""+zt.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+Y(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)}),Yt("a",!0),Yt("A",!1),N("hour","h"),F("hour",13),J("a",Gt),J("A",Gt),J("H",Fi),J("h",Fi),J("HH",Fi,Mi),J("hh",Fi,Mi),J("hmm",$i),J("hmmss",Bi),J("Hmm",$i),J("Hmmss",Bi),et(["H","HH"],eo),et(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),et(["h","hh"],function(t,e,n){e[eo]=_(t),h(n).bigHour=!0}),et("hmm",function(t,e,n){var i=t.length-2;e[eo]=_(t.substr(0,i)),e[no]=_(t.substr(i)),h(n).bigHour=!0}),et("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[eo]=_(t.substr(0,i)),e[no]=_(t.substr(i,2)),e[io]=_(t.substr(o)),h(n).bigHour=!0}),et("Hmm",function(t,e){var n=t.length-2;e[eo]=_(t.substr(0,n)),e[no]=_(t.substr(n))}),et("Hmmss",function(t,e){var n=t.length-4,i=t.length-2;e[eo]=_(t.substr(0,n)),e[no]=_(t.substr(n,2)),e[io]=_(t.substr(i))});var ko,Co=/[ap]\.?m?\.?/i,So=B("Hours",!0),xo={calendar:wi,longDateFormat:ki,invalidDate:Ci,ordinal:Si,ordinalParse:xi,relativeTime:Ei,months:co,monthsShort:uo,week:mo,weekdays:go,weekdaysMin:yo,weekdaysShort:vo,meridiemParse:Co},Eo={},To={},Ao=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Io=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Do=/Z|[+-]\d\d(?::?\d\d)?/,Lo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ro=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Po=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=C("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Mo=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ye.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()}),No=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ye.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()}),Oo=function(){return Date.now?Date.now():+new Date};xe("Z",":"),xe("ZZ",""),J("Z",qi),J("ZZ",qi),et(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ee(qi,t)});var jo=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Fo=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,$o=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Be.fn=ke.prototype;var Bo=We(1,"add"),Uo=We(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ho=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===undefined?this.localeData():this.locale(t)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),En("gggg","weekYear"),En("ggggg","weekYear"),En("GGGG","isoWeekYear"),En("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),J("G",Yi),J("g",Yi),J("GG",Fi,Mi),J("gg",Fi,Mi),J("GGGG",Hi,Oi),J("gggg",Hi,Oi),J("GGGGG",zi,ji),J("ggggg",zi,ji),nt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=_(t)}),nt(["gg","GG"],function(e,n,i,o){n[o]=t.parseTwoDigitYear(e)}),G("Q",0,"Qo","quarter"),N("quarter","Q"),F("quarter",7),J("Q",Pi),et("Q",function(t,e){e[Qi]=3*(_(t)-1)}),G("D",["DD",2],"Do","date"),N("date","D"),F("date",9),J("D",Fi),J("DD",Fi,Mi),J("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),et(["D","DD"],to),et("Do",function(t,e){e[to]=_(t.match(Fi)[0],10)});var zo=B("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),F("dayOfYear",4),J("DDD",Ui),J("DDDD",Ni),et(["DDD","DDDD"],function(t,e,n){n._dayOfYear=_(t)}),G("m",["mm",2],0,"minute"),N("minute","m"),F("minute",14),J("m",Fi),J("mm",Fi,Mi),et(["m","mm"],no);var Wo=B("Minutes",!1);G("s",["ss",2],0,"second"),N("second","s"),F("second",15),J("s",Fi),J("ss",Fi,Mi),et(["s","ss"],io);var Yo,Go=B("Seconds",!1);for(G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),F("millisecond",16),J("S",Ui,Pi),J("SS",Ui,Mi),J("SSS",Ui,Ni),Yo="SSSS";Yo.length<=9;Yo+="S")J(Yo,Wi);for(Yo="S";Yo.length<=9;Yo+="S")et(Yo,Nn);var qo=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Vo=v.prototype;Vo.add=Bo,Vo.calendar=qe,Vo.clone=Ve,Vo.diff=en,Vo.endOf=mn,Vo.format=an,Vo.from=ln,Vo.fromNow=cn,Vo.to=un,Vo.toNow=dn,Vo.get=z,Vo.invalidAt=Sn,Vo.isAfter=Ze,Vo.isBefore=Xe,Vo.isBetween=Je,Vo.isSame=Ke,Vo.isSameOrAfter=Qe,Vo.isSameOrBefore=tn,Vo.isValid=kn,Vo.lang=Ho,Vo.locale=hn,Vo.localeData=fn,Vo.max=No,Vo.min=Mo,Vo.parsingFlags=Cn,Vo.set=W,Vo.startOf=pn,Vo.subtract=Uo,Vo.toArray=bn,Vo.toObject=_n,Vo.toDate=yn,Vo.toISOString=rn,Vo.inspect=sn,Vo.toJSON=wn,Vo.toString=on,Vo.unix=vn,Vo.valueOf=gn,Vo.creationData=xn,Vo.year=po,Vo.isLeapYear=vt,Vo.weekYear=Tn,Vo.isoWeekYear=An,Vo.quarter=Vo.quarters=Pn,Vo.month=ut,Vo.daysInMonth=dt,Vo.week=Vo.weeks=Tt,Vo.isoWeek=Vo.isoWeeks=At,Vo.weeksInYear=Dn,Vo.isoWeeksInYear=In,Vo.date=zo,Vo.day=Vo.days=Ot,Vo.weekday=jt,Vo.isoWeekday=Ft,Vo.dayOfYear=Mn,Vo.hour=Vo.hours=So,Vo.minute=Vo.minutes=Wo,Vo.second=Vo.seconds=Go,Vo.millisecond=Vo.milliseconds=qo,Vo.utcOffset=Ie,Vo.utc=Le,Vo.local=Re,Vo.parseZone=Pe,Vo.hasAlignedHourOffset=Me,Vo.isDST=Ne,Vo.isLocal=je,Vo.isUtcOffset=Fe,Vo.isUtc=$e,Vo.isUTC=$e,Vo.zoneAbbr=On,Vo.zoneName=jn,Vo.dates=C("dates accessor is deprecated. Use date instead.",zo),Vo.months=C("months accessor is deprecated. Use month instead",ut),Vo.years=C("years accessor is deprecated. Use year instead",po),Vo.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",De),Vo.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Oe);var Zo=A.prototype;Zo.calendar=I,Zo.longDateFormat=D,Zo.invalidDate=L,Zo.ordinal=R,Zo.preparse=Bn,Zo.postformat=Bn,Zo.relativeTime=P,Zo.pastFuture=M,Zo.set=E,Zo.months=rt,Zo.monthsShort=st,Zo.monthsParse=lt,Zo.monthsRegex=ft,Zo.monthsShortRegex=ht,Zo.week=St,Zo.firstDayOfYear=Et,Zo.firstDayOfWeek=xt,Zo.weekdays=Lt,Zo.weekdaysMin=Pt,Zo.weekdaysShort=Rt,Zo.weekdaysParse=Nt,Zo.weekdaysRegex=$t,Zo.weekdaysShortRegex=Bt,Zo.weekdaysMinRegex=Ut,Zo.isPM=qt,Zo.meridiem=Vt,Kt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=C("moment.lang is deprecated. Use moment.locale instead.",Kt),t.langData=C("moment.langData is deprecated. Use moment.localeData instead.",ee);var Xo=Math.abs,Jo=ri("ms"),Ko=ri("s"),Qo=ri("m"),tr=ri("h"),er=ri("d"),nr=ri("w"),ir=ri("M"),or=ri("y"),rr=ai("milliseconds"),sr=ai("seconds"),ar=ai("minutes"),lr=ai("hours"),cr=ai("days"),ur=ai("months"),dr=ai("years"),hr=Math.round,fr={s:45,m:45,h:22,d:26,M:11},pr=Math.abs,mr=ke.prototype;return mr.abs=Zn,mr.add=Jn,mr.subtract=Kn,mr.as=ii,mr.asMilliseconds=Jo,mr.asSeconds=Ko,mr.asMinutes=Qo,mr.asHours=tr,mr.asDays=er,mr.asWeeks=nr,mr.asMonths=ir,mr.asYears=or,mr.valueOf=oi,mr._bubble=ti,mr.get=si,mr.milliseconds=rr,mr.seconds=sr,mr.minutes=ar,mr.hours=lr,mr.days=cr,mr.weeks=li,mr.months=ur,mr.years=dr,mr.humanize=fi,mr.toISOString=pi,mr.toString=pi,mr.toJSON=pi,mr.locale=hn,mr.localeData=fn,mr.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pi),mr.lang=Ho,G("X",0,0,"unix"),G("x",0,0,"valueOf"),J("x",Yi),J("X",Vi),et("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),et("x",function(t,e,n){n._d=new Date(_(t))}),t.version="2.17.1",e(ye),t.fn=Vo,t.min=_e,t.max=we,t.now=Oo,t.utc=u,t.unix=Fn,t.months=Wn,t.isDate=s,t.locale=Kt,t.invalid=p,t.duration=Be,t.isMoment=y,t.weekdays=Gn,t.parseZone=$n,t.localeData=ee,t.isDuration=Ce,t.monthsShort=Yn,t.weekdaysMin=Vn,t.defineLocale=Qt,t.updateLocale=te,t.locales=ne,t.weekdaysShort=qn,t.normalizeUnits=O,t.relativeTimeRounding=di,t.relativeTimeThreshold=hi,t.calendarFormat=Ge,t.prototype=Vo,t}),function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==typeof exports)module.exports=t(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";t(jQuery,moment)}}(function(t,e){"use strict";if(!e)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,i){var o,r,s,a,l,c,u,d={},h=!0,f=!1,p=!1,m=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],y=["top","bottom","auto"],b=["left","right","auto"],_=["default","top","bottom"],w={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},k={},C=function(){return e.tz!==undefined&&i.timeZone!==undefined&&null!==i.timeZone&&""!==i.timeZone},S=function(t){var n;return n=t===undefined||null===t?e():e.isDate(t)||e.isMoment(t)?e(t):C()?e.tz(t,c,i.useStrict,i.timeZone):e(t,c,i.useStrict),C()&&n.tz(i.timeZone),n},x=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},E=function(){return x("h")||x("m")||x("s")},T=function(){return x("y")||x("M")||x("d")},A=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(i.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",i.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(i.icons.next)))),n=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",i.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-decades").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone()))]},I=function(){var e=t("<tr>"),n=t("<tr>"),o=t("<tr>");return x("h")&&(e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:i.tooltips.pickHour}).attr("data-action","showHours"))),o.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(i.icons.down))))),x("m")&&(x("h")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),o.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:i.tooltips.pickMinute}).attr("data-action","showMinutes"))),o.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(i.icons.down))))),x("s")&&(x("m")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),o.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:i.tooltips.pickSecond}).attr("data-action","showSeconds"))),o.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(i.icons.down))))),a||(e.append(t("<td>").addClass("separator")),n.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:i.tooltips.togglePeriod}))),o.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,n,o]))},D=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),i=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),o=[I()];return x("h")&&o.push(e),x("m")&&o.push(n),x("s")&&o.push(i),o},L=function(){var e=[];return i.showTodayButton&&e.push(t("<td>").append(t("<a>").attr({"data-action":"today",title:i.tooltips.today}).append(t("<span>").addClass(i.icons.today)))),!i.sideBySide&&T()&&E()&&e.push(t("<td>").append(t("<a>").attr({"data-action":"togglePicker",title:i.tooltips.selectTime}).append(t("<span>").addClass(i.icons.time)))),i.showClear&&e.push(t("<td>").append(t("<a>").attr({"data-action":"clear",title:i.tooltips.clear}).append(t("<span>").addClass(i.icons.clear)))),i.showClose&&e.push(t("<td>").append(t("<a>").attr({"data-action":"close",title:i.tooltips.close}).append(t("<span>").addClass(i.icons.close)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))},R=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=t("<div>").addClass("datepicker").append(A()),o=t("<div>").addClass("timepicker").append(D()),r=t("<ul>").addClass("list-unstyled"),s=t("<li>").addClass("picker-switch"+(i.collapse?" accordion-toggle":"")).append(L());return i.inline&&e.removeClass("dropdown-menu"),a&&e.addClass("usetwentyfour"),x("s")&&!a&&e.addClass("wider"),i.sideBySide&&T()&&E()?(e.addClass("timepicker-sbs"),"top"===i.toolbarPlacement&&e.append(s),e.append(t("<div>").addClass("row").append(n.addClass("col-md-6")).append(o.addClass("col-md-6"))),"bottom"===i.toolbarPlacement&&e.append(s),e):("top"===i.toolbarPlacement&&r.append(s),T()&&r.append(t("<li>").addClass(i.collapse&&E()?"collapse in":"").append(n)),"default"===i.toolbarPlacement&&r.append(s),E()&&r.append(t("<li>").addClass(i.collapse&&T()?"collapse":"").append(o)),"bottom"===i.toolbarPlacement&&r.append(s),e.append(r))},P=function(){var e,o={};return(e=n.is("input")||i.inline?n.data():n.find("input").data()).dateOptions&&e.dateOptions instanceof Object&&(o=t.extend(!0,o,e.dateOptions)),t.each(i,function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);e[n]!==undefined&&(o[t]=e[n])}),o},M=function(){var e,o=(f||n).position(),r=(f||n).offset(),s=i.widgetPositioning.vertical,a=i.widgetPositioning.horizontal;if(i.widgetParent)e=i.widgetParent.append(p);else if(n.is("input"))e=n.after(p).parent();else{if(i.inline)return void(e=n.append(p));e=n,n.children().first().after(p)}if("auto"===s&&(s=r.top+1.5*p.height()>=t(window).height()+t(window).scrollTop()&&p.height()+n.outerHeight()<r.top?"top":"bottom"),"auto"===a&&(a=e.width()<r.left+p.outerWidth()/2&&r.left+p.outerWidth()>t(window).width()?"right":"left"),"top"===s?p.addClass("top").removeClass("bottom"):p.addClass("bottom").removeClass("top"),"right"===a?p.addClass("pull-right"):p.removeClass("pull-right"),"static"===e.css("position")&&(e=e.parents().filter(function(){return"static"!==t(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");p.css({top:"top"===s?"auto":o.top+n.outerHeight(),bottom:"top"===s?e.outerHeight()-(e===n?0:o.top):"auto",left:"left"===a?e===n?0:o.left:"auto",right:"left"===a?"auto":e.outerWidth()-n.outerWidth()-(e===n?0:o.left)})},N=function(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||n.trigger(t)},O=function(t){"y"===t&&(t="YYYY"),N({type:"dp.update",change:t,viewDate:r.clone()})},j=function(t){p&&(t&&(u=Math.max(m,Math.min(3,u+t))),p.find(".datepicker > div").hide().filter(".datepicker-"+g[u].clsName).show())},F=function(){var e=t("<tr>"),n=r.clone().startOf("w").startOf("d");for(!0===i.calendarWeeks&&e.append(t("<th>").addClass("cw").text("#"));n.isBefore(r.clone().endOf("w"));)e.append(t("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");p.find(".datepicker-days thead").append(e)},$=function(t){return!0===i.disabledDates[t.format("YYYY-MM-DD")]},B=function(t){return!0===i.enabledDates[t.format("YYYY-MM-DD")]},U=function(t){return!0===i.disabledHours[t.format("H")]},H=function(t){return!0===i.enabledHours[t.format("H")]},z=function(e,n){if(!e.isValid())return!1;if(i.disabledDates&&"d"===n&&$(e))return!1;if(i.enabledDates&&"d"===n&&!B(e))return!1;if(i.minDate&&e.isBefore(i.minDate,n))return!1;if(i.maxDate&&e.isAfter(i.maxDate,n))return!1;if(i.daysOfWeekDisabled&&"d"===n&&-1!==i.daysOfWeekDisabled.indexOf(e.day()))return!1;if(i.disabledHours&&("h"===n||"m"===n||"s"===n)&&U(e))return!1;if(i.enabledHours&&("h"===n||"m"===n||"s"===n)&&!H(e))return!1;if(i.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var o=!1;if(t.each(i.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return o=!0,!1}),o)return!1}return!0},W=function(){for(var e=[],n=r.clone().startOf("y").startOf("d");n.isSame(r,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");p.find(".datepicker-months td").empty().append(e)},Y=function(){var e=p.find(".datepicker-months"),n=e.find("th"),s=e.find("tbody").find("span");n.eq(0).find("span").attr("title",i.tooltips.prevYear),n.eq(1).attr("title",i.tooltips.selectYear),n.eq(2).find("span").attr("title",i.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),z(r.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(r.year()),z(r.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),s.removeClass("active"),o.isSame(r,"y")&&!h&&s.eq(o.month()).addClass("active"),s.each(function(e){z(r.clone().month(e),"M")||t(this).addClass("disabled")})},G=function(){var t=p.find(".datepicker-years"),e=t.find("th"),n=r.clone().subtract(5,"y"),s=r.clone().add(6,"y"),a="";for(e.eq(0).find("span").attr("title",i.tooltips.prevDecade),e.eq(1).attr("title",i.tooltips.selectDecade),e.eq(2).find("span").attr("title",i.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),i.minDate&&i.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+s.year()),i.maxDate&&i.maxDate.isBefore(s,"y")&&e.eq(2).addClass("disabled");!n.isAfter(s,"y");)a+='<span data-action="selectYear" class="year'+(n.isSame(o,"y")&&!h?" active":"")+(z(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");t.find("td").html(a)},q=function(){var t,n=p.find(".datepicker-decades"),s=n.find("th"),a=e({y:r.year()-r.year()%100-1}),l=a.clone().add(100,"y"),c=a.clone(),u=!1,d=!1,h="";for(s.eq(0).find("span").attr("title",i.tooltips.prevCentury),s.eq(2).find("span").attr("title",i.tooltips.nextCentury),n.find(".disabled").removeClass("disabled"),(a.isSame(e({y:1900}))||i.minDate&&i.minDate.isAfter(a,"y"))&&s.eq(0).addClass("disabled"),s.eq(1).text(a.year()+"-"+l.year()),(a.isSame(e({y:2e3}))||i.maxDate&&i.maxDate.isBefore(l,"y"))&&s.eq(2).addClass("disabled");!a.isAfter(l,"y");)t=a.year()+12,u=i.minDate&&i.minDate.isAfter(a,"y")&&i.minDate.year()<=t,d=i.maxDate&&i.maxDate.isAfter(a,"y")&&i.maxDate.year()<=t,h+='<span data-action="selectDecade" class="decade'+(o.isAfter(a)&&o.year()<=t?" active":"")+(z(a,"y")||u||d?"":" disabled")+'" data-selection="'+(a.year()+6)+'">'+(a.year()+1)+" - "+(a.year()+12)+"</span>",a.add(12,"y");h+="<span></span><span></span><span></span>",n.find("td").html(h),s.eq(1).text(c.year()+1+"-"+a.year())},V=function(){var e,n,s,a=p.find(".datepicker-days"),l=a.find("th"),c=[],u=[];if(T()){for(l.eq(0).find("span").attr("title",i.tooltips.prevMonth),l.eq(1).attr("title",i.tooltips.selectMonth),l.eq(2).find("span").attr("title",i.tooltips.nextMonth),a.find(".disabled").removeClass("disabled"),l.eq(1).text(r.format(i.dayViewHeaderFormat)),z(r.clone().subtract(1,"M"),"M")||l.eq(0).addClass("disabled"),z(r.clone().add(1,"M"),"M")||l.eq(2).addClass("disabled"),e=r.clone().startOf("M").startOf("w").startOf("d"),s=0;s<42;s++)0===e.weekday()&&(n=t("<tr>"),i.calendarWeeks&&n.append('<td class="cw">'+e.week()+"</td>"),c.push(n)),u=["day"],e.isBefore(r,"M")&&u.push("old"),e.isAfter(r,"M")&&u.push("new"),e.isSame(o,"d")&&!h&&u.push("active"),z(e,"d")||u.push("disabled"),e.isSame(S(),"d")&&u.push("today"),0!==e.day()&&6!==e.day()||u.push("weekend"),N({type:"dp.classify",date:e,classNames:u}),n.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="'+u.join(" ")+'">'+e.date()+"</td>"),e.add(1,"d");a.find("tbody").empty().append(c),Y(),G(),q()}},Z=function(){var e=p.find(".timepicker-hours table"),n=r.clone().startOf("d"),i=[],o=t("<tr>");for(r.hour()>11&&!a&&n.hour(12);n.isSame(r,"d")&&(a||r.hour()<12&&n.hour()<12||r.hour()>11);)n.hour()%4==0&&(o=t("<tr>"),i.push(o)),o.append('<td data-action="selectHour" class="hour'+(z(n,"h")?"":" disabled")+'">'+n.format(a?"HH":"hh")+"</td>"),n.add(1,"h");e.empty().append(i)},X=function(){for(var e=p.find(".timepicker-minutes table"),n=r.clone().startOf("h"),o=[],s=t("<tr>"),a=1===i.stepping?5:i.stepping;r.isSame(n,"h");)n.minute()%(4*a)==0&&(s=t("<tr>"),o.push(s)),s.append('<td data-action="selectMinute" class="minute'+(z(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(a,"m");e.empty().append(o)},J=function(){for(var e=p.find(".timepicker-seconds table"),n=r.clone().startOf("m"),i=[],o=t("<tr>");r.isSame(n,"m");)n.second()%20==0&&(o=t("<tr>"),i.push(o)),o.append('<td data-action="selectSecond" class="second'+(z(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");e.empty().append(i)},K=function(){var t,e,n=p.find(".timepicker span[data-time-component]");a||(t=p.find(".timepicker [data-action=togglePeriod]"),e=o.clone().add(o.hours()>=12?-12:12,"h"),t.text(o.format("A")),z(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),n.filter("[data-time-component=hours]").text(o.format(a?"HH":"hh")),n.filter("[data-time-component=minutes]").text(o.format("mm")),n.filter("[data-time-component=seconds]").text(o.format("ss")),Z(),X(),J()},Q=function(){p&&(V(),K())},tt=function(t){var e=h?null:o;if(!t)return h=!0,s.val(""),n.data("date",""),N({type:"dp.change",date:!1,oldDate:e}),void Q();if(t=t.clone().locale(i.locale),C()&&t.tz(i.timeZone),1!==i.stepping)for(t.minutes(Math.round(t.minutes()/i.stepping)*i.stepping).seconds(0);i.minDate&&t.isBefore(i.minDate);)t.add(i.stepping,"minutes");z(t)?(r=(o=t).clone(),s.val(o.format(l)),n.data("date",o.format(l)),h=!1,Q(),N({type:"dp.change",date:o.clone(),oldDate:e})):(i.keepInvalid?N({type:"dp.change",date:t,oldDate:e}):s.val(h?"":o.format(l)),N({type:"dp.error",date:t,oldDate:e}))},et=function(){var e=!1;return p?(p.find(".collapse").each(function(){var n=t(this).data("collapse");return!n||!n.transitioning||(e=!0,!1)}),e?d:(f&&f.hasClass("btn")&&f.toggleClass("active"),p.hide(),t(window).off("resize",M),p.off("click","[data-action]"),p.off("mousedown",!1),p.remove(),p=!1,N({type:"dp.hide",date:o.clone()}),s.blur(),r=o.clone(),d)):d},nt=function(){tt(null)},it=function(t){return i.parseInputDate===undefined?(!e.isMoment(t)||t instanceof Date)&&(t=S(t)):t=i.parseInputDate(t),t},ot={next:function(){var t=g[u].navFnc;r.add(g[u].navStep,t),V(),O(t)},previous:function(){var t=g[u].navFnc;r.subtract(g[u].navStep,t),V(),O(t)},pickerSwitch:function(){j(1)},selectMonth:function(e){var n=t(e.target).closest("tbody").find("span").index(t(e.target));r.month(n),u===m?(tt(o.clone().year(r.year()).month(r.month())),i.inline||et()):(j(-1),V()),O("M")},selectYear:function(e){var n=parseInt(t(e.target).text(),10)||0;r.year(n),u===m?(tt(o.clone().year(r.year())),i.inline||et()):(j(-1),V()),O("YYYY")},selectDecade:function(e){var n=parseInt(t(e.target).data("selection"),10)||0;r.year(n),u===m?(tt(o.clone().year(r.year())),i.inline||et()):(j(-1),V()),O("YYYY")},selectDay:function(e){var n=r.clone();t(e.target).is(".old")&&n.subtract(1,"M"),t(e.target).is(".new")&&n.add(1,"M"),tt(n.date(parseInt(t(e.target).text(),10))),E()||i.keepOpen||i.inline||et()},incrementHours:function(){var t=o.clone().add(1,"h");z(t,"h")&&tt(t)},incrementMinutes:function(){var t=o.clone().add(i.stepping,"m");z(t,"m")&&tt(t)},incrementSeconds:function(){var t=o.clone().add(1,"s");z(t,"s")&&tt(t)},decrementHours:function(){var t=o.clone().subtract(1,"h");z(t,"h")&&tt(t)},decrementMinutes:function(){var t=o.clone().subtract(i.stepping,"m");z(t,"m")&&tt(t)},decrementSeconds:function(){var t=o.clone().subtract(1,"s");z(t,"s")&&tt(t)},togglePeriod:function(){tt(o.clone().add(o.hours()>=12?-12:12,"h"))},togglePicker:function(e){var n,o=t(e.target),r=o.closest("ul"),s=r.find(".in"),a=r.find(".collapse:not(.in)");if(s&&s.length){if((n=s.data("collapse"))&&n.transitioning)return;s.collapse?(s.collapse("hide"),a.collapse("show")):(s.removeClass("in"),a.addClass("in")),o.is("span")?o.toggleClass(i.icons.time+" "+i.icons.date):o.find("span").toggleClass(i.icons.time+" "+i.icons.date)}},showPicker:function(){p.find(".timepicker > div:not(.timepicker-picker)").hide(),p.find(".timepicker .timepicker-picker").show()},showHours:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-hours").show()},showMinutes:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var n=parseInt(t(e.target).text(),10);a||(o.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),tt(o.clone().hours(n)),ot.showPicker.call(d)},selectMinute:function(e){tt(o.clone().minutes(parseInt(t(e.target).text(),10))),ot.showPicker.call(d)},selectSecond:function(e){tt(o.clone().seconds(parseInt(t(e.target).text(),10))),ot.showPicker.call(d)},clear:nt,today:function(){var t=S();z(t,"d")&&tt(t)},close:et},rt=function(e){return!t(e.currentTarget).is(".disabled")&&(ot[t(e.currentTarget).data("action")].apply(d,arguments),!1)},st=function(){var e,n={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};return s.prop("disabled")||!i.ignoreReadonly&&s.prop("readonly")||p?d:(s.val()!==undefined&&0!==s.val().trim().length?tt(it(s.val().trim())):h&&i.useCurrent&&(i.inline||s.is("input")&&0===s.val().trim().length)&&(e=S(),"string"==typeof i.useCurrent&&(e=n[i.useCurrent](e)),tt(e)),p=R(),F(),W(),p.find(".timepicker-hours").hide(),p.find(".timepicker-minutes").hide(),p.find(".timepicker-seconds").hide(),Q(),j(),t(window).on("resize",M),p.on("click","[data-action]",rt),p.on("mousedown",!1),f&&f.hasClass("btn")&&f.toggleClass("active"),M(),p.show(),i.focusOnShow&&!s.is(":focus")&&s.focus(),N({type:"dp.show"}),d)},at=function(){return p?et():st()},lt=function(t){var e,n,o,r,s=null,a=[],l={},c=t.which,u="p";for(e in k[c]=u,k)k.hasOwnProperty(e)&&k[e]===u&&(a.push(e),parseInt(e,10)!==c&&(l[e]=!0));for(e in i.keyBinds)if(i.keyBinds.hasOwnProperty(e)&&"function"==typeof i.keyBinds[e]&&(o=e.split(" ")).length===a.length&&w[c]===o[o.length-1]){for(r=!0,n=o.length-2;n>=0;n--)if(!(w[o[n]]in l)){r=!1;break}if(r){s=i.keyBinds[e];break}}s&&(s.call(d,p),t.stopPropagation(),t.preventDefault())},ct=function(t){k[t.which]="r",t.stopPropagation(),t.preventDefault()},ut=function(e){var n=t(e.target).val().trim(),i=n?it(n):null;return tt(i),e.stopImmediatePropagation(),!1},dt=function(){s.on({change:ut,blur:i.debug?"":et,keydown:lt,keyup:ct,focus:i.allowInputToggle?st:""}),n.is("input")?s.on({focus:st}):f&&(f.on("click",at),f.on("mousedown",!1))},ht=function(){s.off({change:ut,blur:blur,keydown:lt,keyup:ct,focus:i.allowInputToggle?et:""}),n.is("input")?s.off({focus:st}):f&&(f.off("click",at),f.off("mousedown",!1))},ft=function(e){var n={};return t.each(e,function(){var t=it(this);t.isValid()&&(n[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(n).length&&n},pt=function(e){var n={};return t.each(e,function(){n[this]=!0}),!!Object.keys(n).length&&n},mt=function(){var t=i.format||"L LT";l=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return(o.localeData().longDateFormat(t)||t).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return o.localeData().longDateFormat(t)||t})}),(c=i.extraFormats?i.extraFormats.slice():[]).indexOf(t)<0&&c.indexOf(l)<0&&c.push(l),
a=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,x("y")&&(m=2),x("M")&&(m=1),x("d")&&(m=0),u=Math.max(m,u),h||tt(o)};if(d.destroy=function(){et(),ht(),n.removeData("DateTimePicker"),n.removeData("date")},d.toggle=at,d.show=st,d.hide=et,d.disable=function(){return et(),f&&f.hasClass("btn")&&f.addClass("disabled"),s.prop("disabled",!0),d},d.enable=function(){return f&&f.hasClass("btn")&&f.removeClass("disabled"),s.prop("disabled",!1),d},d.ignoreReadonly=function(t){if(0===arguments.length)return i.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return i.ignoreReadonly=t,d},d.options=function(e){if(0===arguments.length)return t.extend(!0,{},i);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,i,e),t.each(i,function(t,e){if(d[t]===undefined)throw new TypeError("option "+t+" is not recognized!");d[t](e)}),d},d.date=function(t){if(0===arguments.length)return h?null:o.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return tt(null===t?null:it(t)),d},d.format=function(t){if(0===arguments.length)return i.format;if("string"!=typeof t&&("boolean"!=typeof t||!1!==t))throw new TypeError("format() expects a string or boolean:false parameter "+t);return i.format=t,l&&mt(),d},d.timeZone=function(t){if(0===arguments.length)return i.timeZone;if("string"!=typeof t)throw new TypeError("newZone() expects a string parameter");return i.timeZone=t,d},d.dayViewHeaderFormat=function(t){if(0===arguments.length)return i.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return i.dayViewHeaderFormat=t,d},d.extraFormats=function(t){if(0===arguments.length)return i.extraFormats;if(!1!==t&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return i.extraFormats=t,c&&mt(),d},d.disabledDates=function(e){if(0===arguments.length)return i.disabledDates?t.extend({},i.disabledDates):i.disabledDates;if(!e)return i.disabledDates=!1,Q(),d;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return i.disabledDates=ft(e),i.enabledDates=!1,Q(),d},d.enabledDates=function(e){if(0===arguments.length)return i.enabledDates?t.extend({},i.enabledDates):i.enabledDates;if(!e)return i.enabledDates=!1,Q(),d;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return i.enabledDates=ft(e),i.disabledDates=!1,Q(),d},d.daysOfWeekDisabled=function(t){if(0===arguments.length)return i.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return i.daysOfWeekDisabled=!1,Q(),d;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(i.daysOfWeekDisabled=t.reduce(function(t,e){return(e=parseInt(e,10))>6||e<0||isNaN(e)?t:(-1===t.indexOf(e)&&t.push(e),t)},[]).sort(),i.useCurrent&&!i.keepInvalid){for(var e=0;!z(o,"d");){if(o.add(1,"d"),31===e)throw"Tried 31 times to find a valid date";e++}tt(o)}return Q(),d},d.maxDate=function(t){if(0===arguments.length)return i.maxDate?i.maxDate.clone():i.maxDate;if("boolean"==typeof t&&!1===t)return i.maxDate=!1,Q(),d;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=S()));var e=it(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(i.minDate&&e.isBefore(i.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(l));return i.maxDate=e,i.useCurrent&&!i.keepInvalid&&o.isAfter(t)&&tt(i.maxDate),r.isAfter(e)&&(r=e.clone().subtract(i.stepping,"m")),Q(),d},d.minDate=function(t){if(0===arguments.length)return i.minDate?i.minDate.clone():i.minDate;if("boolean"==typeof t&&!1===t)return i.minDate=!1,Q(),d;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=S()));var e=it(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(i.maxDate&&e.isAfter(i.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(l));return i.minDate=e,i.useCurrent&&!i.keepInvalid&&o.isBefore(t)&&tt(i.minDate),r.isBefore(e)&&(r=e.clone().add(i.stepping,"m")),Q(),d},d.defaultDate=function(t){if(0===arguments.length)return i.defaultDate?i.defaultDate.clone():i.defaultDate;if(!t)return i.defaultDate=!1,d;"string"==typeof t&&(t="now"===t||"moment"===t?S():S(t));var e=it(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!z(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return i.defaultDate=e,(i.defaultDate&&i.inline||""===s.val().trim())&&tt(i.defaultDate),d},d.locale=function(t){if(0===arguments.length)return i.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return i.locale=t,o.locale(i.locale),r.locale(i.locale),l&&mt(),p&&(et(),st()),d},d.stepping=function(t){return 0===arguments.length?i.stepping:(t=parseInt(t,10),(isNaN(t)||t<1)&&(t=1),i.stepping=t,d)},d.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return i.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return i.useCurrent=t,d},d.collapse=function(t){if(0===arguments.length)return i.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return i.collapse===t?d:(i.collapse=t,p&&(et(),st()),d)},d.icons=function(e){if(0===arguments.length)return t.extend({},i.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return t.extend(i.icons,e),p&&(et(),st()),d},d.tooltips=function(e){if(0===arguments.length)return t.extend({},i.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return t.extend(i.tooltips,e),p&&(et(),st()),d},d.useStrict=function(t){if(0===arguments.length)return i.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return i.useStrict=t,d},d.sideBySide=function(t){if(0===arguments.length)return i.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return i.sideBySide=t,p&&(et(),st()),d},d.viewMode=function(t){if(0===arguments.length)return i.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return i.viewMode=t,u=Math.max(v.indexOf(t),m),j(),d},d.toolbarPlacement=function(t){if(0===arguments.length)return i.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===_.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+_.join(", ")+") value");return i.toolbarPlacement=t,p&&(et(),st()),d},d.widgetPositioning=function(e){if(0===arguments.length)return t.extend({},i.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===b.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+b.join(", ")+")");i.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===y.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");i.widgetPositioning.vertical=e.vertical}return Q(),d},d.calendarWeeks=function(t){if(0===arguments.length)return i.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return i.calendarWeeks=t,Q(),d},d.showTodayButton=function(t){if(0===arguments.length)return i.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return i.showTodayButton=t,p&&(et(),st()),d},d.showClear=function(t){if(0===arguments.length)return i.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return i.showClear=t,p&&(et(),st()),d},d.widgetParent=function(e){if(0===arguments.length)return i.widgetParent;if("string"==typeof e&&(e=t(e)),null!==e&&"string"!=typeof e&&!(e instanceof t))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return i.widgetParent=e,p&&(et(),st()),d},d.keepOpen=function(t){if(0===arguments.length)return i.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return i.keepOpen=t,d},d.focusOnShow=function(t){if(0===arguments.length)return i.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return i.focusOnShow=t,d},d.inline=function(t){if(0===arguments.length)return i.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return i.inline=t,d},d.clear=function(){return nt(),d},d.keyBinds=function(t){return 0===arguments.length?i.keyBinds:(i.keyBinds=t,d)},d.getMoment=function(t){return S(t)},d.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return i.debug=t,d},d.allowInputToggle=function(t){if(0===arguments.length)return i.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return i.allowInputToggle=t,d},d.showClose=function(t){if(0===arguments.length)return i.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return i.showClose=t,d},d.keepInvalid=function(t){if(0===arguments.length)return i.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return i.keepInvalid=t,d},d.datepickerInput=function(t){if(0===arguments.length)return i.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return i.datepickerInput=t,d},d.parseInputDate=function(t){if(0===arguments.length)return i.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() sholud be as function");return i.parseInputDate=t,d},d.disabledTimeIntervals=function(e){if(0===arguments.length)return i.disabledTimeIntervals?t.extend({},i.disabledTimeIntervals):i.disabledTimeIntervals;if(!e)return i.disabledTimeIntervals=!1,Q(),d;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return i.disabledTimeIntervals=e,Q(),d},d.disabledHours=function(e){if(0===arguments.length)return i.disabledHours?t.extend({},i.disabledHours):i.disabledHours;if(!e)return i.disabledHours=!1,Q(),d;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(i.disabledHours=pt(e),i.enabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!z(o,"h");){if(o.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}tt(o)}return Q(),d},d.enabledHours=function(e){if(0===arguments.length)return i.enabledHours?t.extend({},i.enabledHours):i.enabledHours;if(!e)return i.enabledHours=!1,Q(),d;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(i.enabledHours=pt(e),i.disabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!z(o,"h");){if(o.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}tt(o)}return Q(),d},d.viewDate=function(t){if(0===arguments.length)return r.clone();if(!t)return r=o.clone(),d;if(!("string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return r=it(t),O(),d},n.is("input"))s=n;else if(0===(s=n.find(i.datepickerInput)).length)s=n.find("input");else if(!s.is("input"))throw new Error('CSS class "'+i.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(f=0===n.find(".datepickerbutton").length?n.find(".input-group-addon"):n.find(".datepickerbutton")),!i.inline&&!s.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return o=S(),r=o.clone(),t.extend(!0,i,P()),d.options(i),mt(),dt(),s.prop("disabled")&&d.disable(),s.is("input")&&0!==s.val().trim().length?tt(it(s.val().trim())):i.defaultDate&&s.attr("placeholder")===undefined&&tt(i.defaultDate),i.inline&&st(),d};return t.fn.datetimepicker=function(e){e=e||{};var i,o=Array.prototype.slice.call(arguments,1),r=!0,s=["destroy","hide","show","toggle"];if("object"==typeof e)return this.each(function(){var i,o=t(this);o.data("DateTimePicker")||(i=t.extend(!0,{},t.fn.datetimepicker.defaults,e),o.data("DateTimePicker",n(o,i)))});if("string"==typeof e)return this.each(function(){var n=t(this).data("DateTimePicker");if(!n)throw new Error('bootstrap-datetimepicker("'+e+'") method was called on an element that is not using DateTimePicker');i=n[e].apply(n,o),r=i===n}),r||t.inArray(e,s)>-1?this:i;throw new TypeError("Invalid arguments for DateTimePicker: "+e)},t.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:e.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t&&t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},t.fn.datetimepicker}),function(){var t;window.stickerPipeConfig={apiKey:"082dfba4998f71a4ef630f62b8a60ca8",enableEmojiTab:!0,enableHistoryTab:!0,enableStoreTab:!0,htmlForEmptyRecent:"You have not submitted any sticker",storagePrefix:"prefix_",lang:"en",userId:"yaw@loverealm.org",userPremium:!1,userData:{age:20,gender:"male"},priceB:"0.99 $",priceC:"1.99 $"},t=function(){function t(){this.stickers=new Stickers(stickerPipeConfig),this.cache={}}return t.prototype.makeStickeable=function(t,e){var n,i,o,r,s;for(i in n={},o=window.stickerPipeConfig)s=o[i],n[i]=s;return n.elId=t.attr("id"),(r=new Stickers(n)).render(function(){return r.onClickSticker(function(n){if(e)return e(n,!1,t,r)}),r.onClickEmoji(function(n){if(e)return e(n,!0,t,r)})})},t.prototype.is_emoji_sticker=function(t){var e;return t||(t=""),e=["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"],!!t.match(e.join("|"))||this.stickers.isSticker(t)},t}(),window.stickersSingleton=new t}.call(this),function(){this.Common=function(){function t(){}return t.button_spinner=function(t){return' data-disable-with="'+("<i class='fa fa-spinner fa-spin'></i> "+(t||"Loading..."))+'" '},t.open_link=function(t){return t[0].click()},t.bootstrap_alert=function(t,e,n){return"<div id='"+n+"' style='min-width: auto; margin: 3px 0;' class='alert alert-"+(e||"danger")+" alert-dismissible'> <button type='button' class='close' data-dismiss='alert'><span>&times;</span></button> "+t+" </div>"},t.render_datepicker=function(t){var e,n,i;if(!t.hasClass("custom_picker"))return n=(i=t.find(".form-control")).val(),t.hasClass("is_time")&&t.datetimepicker($.extend({format:"YYYY-MM-DD HH:mm",allowInputToggle:!0},t.data("settings")||{})),t.hasClass("is_time")||t.datetimepicker($.extend({format:"YYYY-MM-DD",allowInputToggle:!0},t.data("settings")||{})),t.data("DateTimePicker"),t.hasClass("is_time")&&((e=i.clone().attr({name:i.attr("name"),type:"hidden",id:""})).insertBefore(i.removeAttr("name")),t.on("dp.change",function(){return e.val(i.val()?moment(i.val(),"YYYY-MM-DD HH:mm").utc().valueOf():"")}).trigger("dp.change"),n)?t.data("DateTimePicker").date(n):void 0},t.render_location=function(t){return $.fn.repeat_until_run("google.maps",function(){var e,n,i;return i=new google.maps.LatLng(t.data("lat"),t.data("lng")),e=new google.maps.Map(t[0],{zoom:14,center:i}),n=new google.maps.Marker({position:i,map:e,draggable:!0}),new google.maps.LatLng(n.position.lat(),n.position.lng()),e.setCenter(n.getPosition()),setTimeout(function(){return google.maps.event.trigger(e,"resize"),e.setCenter(n.getPosition())},300)})},t.map_location_builder=function(t,e){var n,i,o,r,s,a,l;return e=$.extend({marked_dialog:"This is the place",marked_tooltip:"Move and pin exact point of your place",map_class:".map_area"},e||{}),l=function(e){return t.find(".lng_field").val(e.lng()).trigger("blur"),t.find(".lat_field").val(e.lat())},s=new google.maps.LatLng(t.find(".lat_field").val()||7.6688,t.find(".lng_field").val()||-.935528),o=new google.maps.Map(t.find(e.map_class)[0],{zoom:14,center:s}),r=new google.maps.Marker({position:s,map:o,draggable:!0,title:e.marked_tooltip}),google.maps.event.addListener(r,"dragend",function(t){return l(t.latLng)}),t.find(".map_area").before('<input type="text" name="location_search" value="" class="form-control location_search">'),i=t.find(".location_search")[0],a=new google.maps.places.SearchBox(i),o.controls[google.maps.ControlPosition.TOP_LEFT].push(i),o.addListener("bounds_changed",function(){return a.setBounds(o.getBounds())}),a.addListener("places_changed",function(){var t;if(0!==(t=a.getPlaces()).length)return t.forEach(function(t){if(t.geometry)return r.setPosition(t.geometry.location),o.setCenter(r.getPosition()),o.setZoom(18),l(t.geometry.location)})}),n=new google.maps.InfoWindow({content:e.marked_dialog}),r.addListener("click",function(){return n.open(r.get("map"),r)}),!t.find(".lng_field").val()&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){return r.setPosition({lat:t.coords.latitude,lng:t.coords.longitude}),o.setCenter(r.getPosition())}),t.bind("update_map",function(){return setTimeout(function(){return google.maps.event.trigger(o,"resize"),o.setCenter(r.getPosition())},600)}).trigger("update_map"),[o,r]},t.open_modal=function(t){return modal_tpl({title:t.data("title"),content:t.html(),kind:t.data("kind")}).modal()},t.user_autocomplete=function(t){return t.userAutoCompleter()},t.tags_autocomplete=function(t){return t.tags_autocomplete()},t.tags_input=function(t){return t.select2({tags:!0}),t.on("change",function(){return select.trigger("blur")})},t.select2=function(t){return t.select2(),t.on("change",function(){return t.trigger("blur")})},t}()}.call(this),function(){$(function(){var t,e;return e=0,t=0,$.fn.custom_player=function(n){var i;return n=n||{},i=function(t,n,i){return $.fn.repeat_until_run("OT",function(){var o,r,s,a;return r=OT.initSession(n.data("apikey"),n.data("session")),a=null,o=function(){return t.addClass("clicked"),$(".opentok_video_player").not(t).find(".btn-pause").click(),r.connect(n.data("token"),function(t){if(console.log("connect: ",arguments),t)return i()})},s=function(){var e;return(e=$("<a class='post_relative'><img class='cover' src='"+n.attr("data-poster")+"'> <img src='/images/video-play.png' class='play-icon'></a>")).click(function(){return e.find(".play-icon").replaceWith('<span class="msg">Loading...</span>'),o()}),t.html(e),console.log("stop status: ",t,n)},t.on("click",".btn-pause",function(){return r.disconnect(),clearTimeout(a),s()}),r.on("streamCreated",function(e){if(console.log("streamCreated: ",e,t),t.hasClass("clicked"))return t.removeClass("clicked").html(""),e.stream.name=n.attr("title"),r.subscribe(e.stream,t.attr("id"),{insertMode:"append",width:"100%",height:"100%"},function(){var e;return e=$('<a class="btn btn-pause btn-xs"><i class="fa fa-pause" style="font-family: fontawesome;"></i></a>'),t.find(".OT_bar").prepend(e),a=setTimeout(function(){return t.closest(".live_video_player_w").trigger("visit_live_video")},3e3)})}).on("sessionDisconnected streamDestroyed",function(){return console.log("sess_disconn/stream_destroy: ",arguments)}),n.attr("data-autoplay")&&0===e?(o(),e+=1):s()})},$(this).each(function(){var e,o,r,s,a,l,c,u,d,h;return t+=1,r=(l=$(this)).attr("href").split(".").pop().split("?")[0].toLowerCase(),d="video",/(mp3|aac|wav|ogg|wma)$/i.test(r)&&(d="audio"),e=" id='"+(a="video_custom_player_"+t)+"' class='' controls preload='auto' style='width: "+(n.width||"100%")+"; height: "+(n.height||"auto")+";' poster='"+(l.data("poster")||"/img/awesome-album-art.png")+"' "+(l.data("autoplay")?"autoplay":void 0),"audio"===d?s="<audio "+e+'>\n  <source src="'+l.attr("href")+"\" type='audio/mp3'/>\n  "+l.data("sources")+"\n</audio>":(h=l.data("type")||"video/mp4",0===$.inArray(r,["flv","swf"])&&(h="video/x-flv"),s="<video "+e+'>\n   <source type="'+h+'" src="'+l.attr("href")+'">\n   '+(l.data("sources")||"")+"\n</video>"),u=$("<div>Loading...</div>").data("link_player",l),l.replaceWith(u),c=l.data("player-callback")?ujs_eval_callback(u,l.data("player-callback")):{},o=function(){return u.html(s),u.flowplayer(c)},l.hasClass("opentok_player")?(loadJS("https://static.opentok.com/v2/js/opentok.min.js"),i(u.attr("id","opentok_player_"+a).addClass("opentok_video_player"),l,o)):o()}),this}})}.call(this),function(){$(function(){return jQuery.validator.addMethod("required_if",function(t,e,n){var i,o;return i=(o=$(n)).val(),(o.is("input:checkbox")||o.is("input:radio"))&&(i=o.is(":checked")),!!i||!!t},"This field is required if the previous field is empty."),jQuery.validator.addMethod("greater_than",function(t,e,n){var i;return i=$(n),parseInt(i.val())<=parseInt(t)},"This field must be great than previous field value."),$.validator.setDefaults({ignore:"input[type=hidden]",errorPlacement:function(t,e){return e.parent().is(".input-group")?t.insertAfter(e.parent()):t.insertAfter(e)}}),$.validator.prototype.checkForm=function(){var t,e,n,i,o,r,s,a;for(this.prepareForm(),i=0,r=(n=this.currentElements=this.elements()).length;i<r;i++)if(t=n[i],void 0!==this.findByName(t.name).length&&this.findByName(t.name).length>1)for(o=0,s=(a=this.findByName(t.name)).length;o<s;o++)e=a[o],this.check(e);else this.check(t);return this.valid()}})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.Appointment=function(){function e(){this.donation_form=t(this.donation_form,this),this.build_map=t(this.build_map,this),this.form=t(this.form,this)}return e.prototype.form=function(t){return t.find(".kinds input:radio").click(function(e){return"walk_in"===$(e.currentTarget).val()?t.trigger("update_map").find(".loc_field").show().find("input:first").addClass("required"):t.find(".loc_field").hide().find("input").removeClass("required")}).filter(":checked").trigger("click"),t.validate({ignore:""}),this.build_map(t)},e.prototype.build_map=function(t){return $.fn.repeat_until_run("google.maps",function(){return Common.map_location_builder(t,{marked_dialog:"This is the place for the appointment.",marked_tooltip:"Move and pin exact point of your appointment place"})})},e.prototype.donation_form=function(t){return t.on("click",".next_btn",function(){var t,e;return t=!0,(e=$(this).closest(".step")).find("input,select,textarea").each(function(){if(!$(this).valid())return t=!1}),!!t&&($(this).closest(".form-group").hide(),e.next().show(),!1)})},e.created=function(t){return $.get("/dashboard/appointments/"+t.id,function(t){return $("#leftbar .mentor_appointments .pending-list").add_item(t,!0)})},e.updated=function(t){var e;if((e=$("#leftbar .mentor_appointments .appointment_item[data-id='"+t.id+"']")).length)return $.get("/dashboard/appointments/"+t.id,function(t){return e.replaceWith(t)})},e.destroyed=function(t){return $("#leftbar .mentor_appointments .appointment_item[data-id='"+t.id+"']").delete_item()},e.accepted=function(t){return $("#leftbar .mentor_appointments .appointment_item[data-id='"+t.id+"']").delete_item(),$.get("/dashboard/appointments/"+t.id,function(t){return $("#leftbar .mentor_appointments .upcoming-list").add_item(t,!0)})},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.AppointmentCall=function(){function e(){this.connnected_call=t(this.connnected_call,this),this.after_ended_view=t(this.after_ended_view,this),this.finish_call=t(this.finish_call,this),this.cancel_calling=t(this.cancel_calling,this),this.ping_call=t(this.ping_call,this),this.outgoing_call=t(this.outgoing_call,this),this.init_call_actions=t(this.init_call_actions,this),this.remove_error_message=t(this.remove_error_message,this),this.add_error_message=t(this.add_error_message,this),this.listening_notifications=t(this.listening_notifications,this),this.video_call=t(this.video_call,this)}return e.sound_interval=3800,e.sound_timeout=3e4,e.timeout_incoming_calls={},e.rejected_calls={},e.prototype.video_call=function(t){var e,n;return this.panel=t,n=this,e=function(){var e;return e=OT.initSession(t.data("api-key"),t.data("session-id")),n.session=e,e.on("streamCreated",function(t){return n.remove_error_message("disconnected_stream"),console.log("streamCreated: ",t),e.subscribe(t.stream,"video_call_subscriber",{insertMode:"append",width:"100%",height:"100%"},function(e){if(console.log("streamCreated-subscribed: ",arguments),e||n.connnected_call(t),e)return n.add_error_message(e.message)})}).on("streamDestroyed",function(t){return console.log("streamDestroyed: ",t),n.add_error_message("Client disconnected: "+t.reason+". Waiting for reconnection...","warning","disconnected_stream")}).on("sessionConnected",function(t){var i;return console.log("sessionConnected: ",t),i=OT.initPublisher("video_call_publisher",{insertMode:"append",width:"100%",height:"100%"},function(t){if(console.log("sessionConnected-published: ",arguments),t)return n.add_error_message(t.message)}),e.publish(i,function(t){if(console.log("Publish",arguments),t&&n.add_error_message(t.message),!t)return n.init_call_actions()}),n.listening_notifications()}).on("sessionDisconnected",function(){return console.log("sessionDisconnected: ",arguments)}).on("archiveStarted archiveStopped",function(){return console.log("archive: ",arguments)}).on("connectionCreated connectionDestroyed streamPropertyChanged",function(){return console.log("connection: ",arguments)}).on("sessionReconnecting",function(){return console.log("sessionReconnecting: ",arguments)}).on("sessionReconnected",function(){return console.log("sessionReconnected: ",arguments)}).connect(t.data("session-token"),function(t){if(console.log("connect: ",arguments),t)return n.add_error_message(t.message)})},"true"===this.panel.data("is-ended")?this.after_ended_view({},!0):$.fn.repeat_until_run("OT",e)},e.prototype.listening_notifications=function(){return window.real_time_connector.subscribeToPrivateChannel((t=this,function(e){if("appointment_rejected_call"===e.type&&e.id===t.panel.data("id")&&t.outgoing_call_interval&&(t.add_error_message("Call rejected"),t.cancel_calling()),"appointment_end_call"===e.type&&e.id===t.panel.data("id"))return t.finish_call()}));var t},e.prototype.add_error_message=function(t,e,n){if(!this.is_ended_call)return n&&this.panel.find(".errors_panel").find("#"+n).remove(),this.panel.find(".errors_panel").append(Common.bootstrap_alert(t,e,n))},e.prototype.remove_error_message=function(t){return this.panel.find(".errors_panel #"+t).remove()},e.prototype.init_call_actions=function(){var t,e,n,i,o;if((t=this.panel.find(".controls1")).find(".end_call").on("ajax:success",this.finish_call).click((n=this,function(){return n.is_ended_call=!0})),t.find(".cancel_call").click((i=this,function(){return i.cancel_calling(),!0})),e=t.find(".start_call").click((o=this,function(){return o.outgoing_call(),!0})),!this.is_connnected_call)return e.click()},e.prototype.outgoing_call=function(){var t;return this.remove_error_message("no_answer"),this.error_alerted=null,this.panel.find(".controls1 a").hide().filter(".cancel_call").show(),0,ion.sound.play("outgoing_call"),this.outgoing_call_interval=setInterval((t=this,function(){return t.ping_call()}),this.constructor.sound_interval),!1},e.prototype.ping_call=function(){return ion.sound.play("outgoing_call"),$.get(this.panel.data("ping-call")).error((t=this,function(){if(!t.error_alerted)return t.error_alerted=!0,t.add_error_message("Connection error, please review your internet connection and try again.","error","no_answer"),t.cancel_calling()}));var t},e.prototype.cancel_calling=function(){return this.outgoing_call_interval&&clearInterval(this.outgoing_call_interval),this.outgoing_call_interval=null,this.panel.find(".controls1 a").hide().filter(".start_call").show(),!1},e.prototype.finish_call=function(){return this.is_ended_call=!0,this.after_ended_view(),this.panel.find(".controls1 a").hide(),this.session.disconnect(),!1},e.prototype.after_ended_view=function(){var t;return t=this.panel,$.alert({title:"Notification",content:t.find(".jconfirm-body").html(),onContentReady:function(){var e;return e=t.find(".jconfirm-buttons").clone(),$(this.$content).parent().next().replaceWith(e)}})},e.prototype.connnected_call=function(){return this.is_connnected_call=!0,this.outgoing_call_interval&&clearInterval(this.outgoing_call_interval),this.panel.find(".controls1 a").hide().filter(".end_call").show()},e.incoming_call=function(t){var e,n,i,o;if(!this.rejected_calls[t.id]&&window.CURRENT_VIDEO_COUNSELING!==t.id)return ion.sound.play("incoming_call"),0===(e=$("#incoming-call-animation")).length&&(e=$("<div id='incoming-call-animation'></div>"),$("body").append(e)),
0===e.find("#incoming_call_"+t.id).length&&(n=$("<div class='w_item' id='incoming_call_"+t.id+"'><div class='name small'>"+t.name+"</div><div class='item'><img alt='"+t.name+"' src='"+t.avatar_url+"'></div><div class='actions'><a href='/dashboard/appointments/"+t.id+"/accept_call' title='Answer call' class='answer btn btn-success'><i class='fa fa-phone'></i></a> <a href='dashboard/appointments/"+t.id+"/reject_call' title='Cancel' data-remote='true' class='no_answer btn btn-primary'><i class='fa fa-phone'></i></a></div></div>"),e.append(n),n.find(".no_answer").click((i=this,function(){return $.get("/dashboard/appointments/"+t.id+"/reject_call"),i.stop_incoming_call(t),i.rejected_calls[t.id]=setTimeout(function(){return i.rejected_calls[t.id]=null},5e3),!1}))),this.timeout_incoming_calls[t.id]&&clearTimeout(this.timeout_incoming_calls[t.id]),this.timeout_incoming_calls[t.id]=setTimeout((o=this,function(){return o.stop_incoming_call(t)}),3*this.sound_interval)},e.stop_incoming_call=function(t){var e;if((e=$("#incoming-call-animation")).find("#incoming_call_"+t.id).remove(),e.is(":empty"))return e.remove()},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.Chat=function(){function e(e,n){this.container=e,this.settings=n,this.find_conversation_rendered=t(this.find_conversation_rendered,this),this.public_group_event=t(this.public_group_event,this),this.init_conversation_hook_item=t(this.init_conversation_hook_item,this),this.update_unread_messages_for=t(this.update_unread_messages_for,this),this.update_online_users=t(this.update_online_users,this),this.init_realtime=t(this.init_realtime,this),this.init_header_events=t(this.init_header_events,this),this.loading=t(this.loading,this),this.update_conversation=t(this.update_conversation,this),this.open_conversation=t(this.open_conversation,this),this.open_conversation_with=t(this.open_conversation_with,this),this.parse_preview_message=t(this.parse_preview_message,this),this.conversation_header=t(this.conversation_header,this),this.render_conversations=t(this.render_conversations,this),this.get_conversation_model=t(this.get_conversation_model,this),this.get_conversation=t(this.get_conversation,this),this.init_tabs=t(this.init_tabs,this),this.load_tabs=t(this.load_tabs,this),this.toggle=t(this.toggle,this),this.close=t(this.close,this),this.open=t(this.open,this),this.settings||(this.settings={}),this.container.addClass("o_chat"),this.conversations_panel=this.container.addClass("o_chat").find(".conversations_panel").addClass("single_panel"),this.conversations_body=this.conversations_panel.find(".panel_body"),this.conversations_body.prepend("<div class='panel_loading hidden'><i class='fa fa-spinner fa-spin'></i></div>"),this.conversations=[],this.cache_conversations_list=[],this.current_page=0,this.is_loading=!1,this.tabs_loaded=!1,this.active_conversation=null,this.init_header_events(),this.init_realtime(),this.online_checker=new OnlineChecker(this.update_online_users)}return e.prototype.open=function(){return this.online_checker.start(),this.tabs_loaded||this.load_tabs(),this.conversations_panel.removeClass("closed")},e.prototype.close=function(){return this.conversations_panel.addClass("closed")},e.prototype.toggle=function(){return this.conversations_panel.hasClass("closed")?this.open():this.close()},e.prototype.load_tabs=function(){return this.tabs_loaded=!0,this.loading(!0),$.get("/dashboard/conversations/tabs_information.js",(t=this,function(e){return t.loading(!1),t.conversations_body.append(e),t.init_tabs()}));var t},e.prototype.init_tabs=function(){return this.tab_messages_list=this.conversations_body.find(".messages_list"),this.tab_friends=this.conversations_body.find(".tab_friends_content"),this.tab_groups=this.conversations_body.find(".tab_group_conversations"),this.conversations_body.find(".nav-tabs a").first().click(),this.conversations_body.on("click",".conversation-item",this.public_group_event),this.tab_friends.on("click",".online_friends_list > .media",(t=this,function(e){return t.open_conversation_with($(e.currentTarget).data("id"))}));var t},e.prototype.get_conversation=function(t){return this.conversations.find(function(e){var n;return(null!=(n=e.conversation_id)?n.toString():void 0)===t.toString()})},e.prototype.get_conversation_model=function(t,e){var n,i;return t=parseInt(t),(n=this.cache_conversations_list.find(function(e){return e.id===t}))?e(n,!1):(this.loading(!0),$.getJSON("/dashboard/conversations",{id:t},(i=this,function(t){return t[0]?(i.cache_conversations_list.push(t[0]),i.loading(!1),e(t[0],!0)):alert("Conversation not found")})))},e.prototype.render_conversations=function(t){var e,n,i,o;for(o=[],n=0,i=t.length;n<i;n++)e=t[n],this.loading(!0),o.push($.get("/dashboard/conversations/"+e.id+"/rendered_conversation",function(t){return function(n){var i;return 1===(i=t.find_conversation_rendered(e.id)).length?i.replaceWith(n):e.is_group_conversation?t.conversations_body.find(".group_conversations_list").prepend(n):t.conversations_body.find(".messages_list").prepend(n),t.loading(!1)}}(this)));return o},e.prototype.conversation_header=function(t){return t.is_group_conversation?"<div class='qty_users text-tiny small text-center'>"+t.qty_participants+" users</div>":'<span data-user-id="'+t.other_user.id+'" title="'+AvatarHelper.getAvatarStatus(t.other_user.online)+'" class="avatar_status glyphicon '+AvatarHelper.getAvatarStatus(t.other_user.online,"class")+'"></span>'},e.prototype.parse_preview_message=function(t){return t&&("image"===t.kind&&(t.stripped_body="*Sent Picture"),"audio"===t.kind&&(t.stripped_body="*Sent Audio"),(t.body||"").match(/^\[\[\d*\]\]$/)&&(t.stripped_body="*Sent sticker")),t},e.prototype.open_conversation_with=function(t,e){var n,i,o;return i=this,n=function(t){return i.cache_conversations_list.push(t),i.open_conversation(t.id,e)},"object"==typeof t?n(t):(this.loading(!0),$.get("/dashboard/conversations/start_conversation",{user_id:t},(o=this,function(t){return n(t),o.loading(!1)})))},e.prototype.open_conversation=function(t,e){var n,i,o,r,s;if(t&&"object"==typeof t&&(this.cache_conversations_list.push(t),t=t.id),o=this.settings.single_conversation_panel?1:3,r=this,!(i=function(){var n;if(n=r.get_conversation(t))return n.focus(),e&&e(n,!1),!0})())return this.conversations.length>=o&&this.conversations[0].destroy(),s=this,n=function(t){var n,o;if(!i())return o=$('<div class="single_panel conversation_panel closed">\n  <div class="panel_header clearfix"></div>\n  <div class="panel_body">\n    <div class=\'panel_loading hidden\'><i class="fa fa-spinner fa-spin"></i></div>\n    <div class="messages_list"></div>\n  </div>\n  <div class=\'panel_footer\'></div>\n</div>'),s.settings.single_conversation_panel?s.settings.single_conversation_panel.html(o):s.conversations_panel.before(o),n=new Conversation(s,t,o),s.conversations.push(n),s.settings.message_body_height&&o.find(".panel_body").height(s.settings.message_body_height),0===s.find_conversation_rendered(t.id).length&&s.render_conversations([t],!0),e&&e(n,!0),s.update_unread_messages_for(t.id,0)},this.get_conversation_model(t,n)},e.prototype.update_conversation=function(t){var e,n,i,o,r;for(r=[],n=0,i=(o=this.cache_conversations_list).length;n<i;n++)(e=o[n]).id!==t.id&&r.push(e),e.id===t.id&&r.push(t);return this.cache_conversations_list=r,(e=this.get_conversation(t.id))&&(e.conversation_data=t,e.build_header()),this.render_conversations([t],!0)},e.prototype.loading=function(t){return this.is_loading=t,this.is_loading?this.conversations_body.find(".panel_loading").removeClass("hidden"):this.conversations_body.find(".panel_loading").addClass("hidden")},e.prototype.init_header_events=function(){var t,e,n;return(t=this.conversations_panel.find(".panel_header")).find(".btn_toggle").click((e=this,function(t){return $(t.currentTarget).trigger("mouseout"),e.toggle(),t.preventDefault()})),t.click(function(e){if($(e.target).is("div"))return t.find(".btn_toggle").click()}),t.find(".btn_search").on("ujs-modal-opened",(n=this,function(t,e){return(e=$(e)).find("select").userAutoCompleter(),e.find("form.conv").validate({submitHandler:function(t){return t=$(t),n.open_conversation(t.find("select").val()),t.closest(".modal").modal("hide"),!1}}),e.find("form.friends").validate({submitHandler:function(t){return t=$(t),n.open_conversation_with(t.find("select").val()),t.closest(".modal").modal("hide"),!1}})}))},e.prototype.init_realtime=function(){return window.real_time_connector.subscribeToPrivateChannel((t=this,function(e){var n,i,o,r,s,a;switch(e.type){case"remove_message":return null!=(o=t.get_conversation(e.conversation_id))?o.destroy_message(e.id):void 0;case"message":return(i=e.source).user=e.user,t.get_conversation(i.conversation_id)&&$.get("/dashboard/conversations/"+i.conversation_id+"/mark_as_visited"),n=function(t){return t.render_messages([i],!1,!0),t.remove_typing(e)},t.open_conversation(i.conversation_id,n),ion.sound.play("new_message");case"start_typing":return null!=(r=t.get_conversation(e.source.id))?r.add_typing(e):void 0;case"stop_typing":return null!=(s=t.get_conversation(e.source.id))?s.remove_typing(e):void 0;case"read_messages":return console.log("read_messages called");case"excluded_conversation":case"destroyed_conversation":return null!=(a=t.get_conversation(e.source.id))?a.destroy(!0):void 0}}));var t},e.prototype.update_online_users=function(t){return this.container.add(this.settings.single_conversation_panel).find(".avatar_status").removeClass("online").attr("title","Offline").filter(function(){return-1!==$.inArray(parseInt($(this).attr("data-user-id")),t)}).addClass("online").attr("title","Online")},e.prototype.update_unread_messages_for=function(t,e){var n;if(null==e&&(e=0),n=this.find_conversation_rendered(t),"increment"===e&&(e=parseInt(n.removeClass("has_unread").find(".unread_msgs").text()||"0")+1),n.removeClass("has_unread").find(".unread_msgs").remove(),0!==e&&n.children(".media-left").append('<span class="unread_msgs">'+e+"</span>"),0!==e)return n.addClass("has_unread")},e.prototype.init_conversation_hook_item=function(t){return this.update_unread_messages_for(t.data("id"),t.data("unread"))},e.prototype.public_group_event=function(t){var e,n;return(e=$(t.currentTarget)).hasClass("public_group")?e.data("in_group")?this.open_conversation(e.data("id")):$.confirm({title:"Access Denied",content:"You are not a member of this Group. Do you want to join?",buttons:{cancel:function(){},confirm:{text:"Join",btnClass:"btn-primary",action:(n=this,function(){return n.loading(!0),n.tab_groups.find(".group_conversations_list").prepend(e.data("in_group",!0)),$.getJSON("/dashboard/conversations/join",{id:e.data("id")},function(t){return n.loading(!1),n.open_conversation(t)})})}}}):this.open_conversation(e.data("id"))},e.prototype.find_conversation_rendered=function(t){return this.conversations_panel.find('div.conversation-item[data-id="'+t+'"]')},e}(),window.init_widget_chat=function(t){if(0===$("#inbox_page").length)return window.chat_box=new Chat(t)}}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.Conversation=function(){function e(e,n,i){var o;this.chat=e,this.conversation_data=n,this.container=i,this.can_scroll_down=t(this.can_scroll_down,this),this.destroy_message=t(this.destroy_message,this),this.build_parent_answer=t(this.build_parent_answer,this),this.get_message=t(this.get_message,this),this.remove_typing=t(this.remove_typing,this),this.add_typing=t(this.add_typing,this),this.build_header=t(this.build_header,this),this.build_footer=t(this.build_footer,this),this.destroy=t(this.destroy,this),this.settings=t(this.settings,this),this.init_scroller=t(this.init_scroller,this),this.answer_to=t(this.answer_to,this),this.init_events=t(this.init_events,this),this.loading=t(this.loading,this),this.render_waiting_messages=t(this.render_waiting_messages,this),this.render_messages=t(this.render_messages,this),this.load_messages=t(this.load_messages,this),this.toggle=t(this.toggle,this),this.is_closed=t(this.is_closed,this),this.close=t(this.close,this),this.open=t(this.open,this),this.focusable=t(this.focusable,this),this.focus=t(this.focus,this),this.render=t(this.render,this),this.conversation_id=this.conversation_data.id,this.current_page=0,this.cache_messages_list=[],this.messages_list=this.container.find(".messages_list"),this.messages_body=this.container.find(".panel_body"),this.header=this.container.find(".panel_header"),this.footer=this.container.find(".panel_footer"),this.is_loading_messages=!1,this.waiting_messages=[],this.render(),this.init_events(),this.init_scroller(),this.focusable(),setTimeout((o=this,function(){return o.focus()}),100)}return e.prototype.render=function(){return this.build_header(),this.build_footer(),this.load_messages(this.current_page+=1)},e.prototype.focus=function(){return this.container.addClass("focus").siblings().removeClass("focus"),this.is_closed()&&this.open(),this.footer.find("textarea").focus(),this.chat.active_conversation=this},e.prototype.focusable=function(){return this.container.on("click",(t=this,function(){if(!t.container.hasClass("focus"))return t.focus()}));var t},e.prototype.open=function(){return this.container.removeClass("closed")},e.prototype.close=function(){return this.container.addClass("closed")},e.prototype.is_closed=function(){return this.container.hasClass("closed")},e.prototype.toggle=function(){return this.is_closed()?this.open():this.close()},e.prototype.load_messages=function(t){return this.loading(!0),this.is_loading_messages=!0,$.getJSON("/dashboard/conversations/"+this.conversation_id+"/messages",{page:t},(e=this,function(n){var i,o;return(o=n.messages).length<20&&(e.current_page=""),e.loading(!1),e.is_loading_messages=!1,i=e.messages_body.get(0).scrollHeight,e.render_messages(o,!0,1===t),t>1&&e.messages_body.scrollTop(e.messages_body.get(0).scrollHeight-i-100),e.render_waiting_messages()}));var e},e.prototype.render_messages=function(t,e,n){var i,o,r,s,a,l,c,u,d,h,f;if(this.is_loading_messages)return this.waiting_messages.push(arguments);for(r="",n&&!this.can_scroll_down()&&(n=!1),this.cache_messages_list=this.cache_messages_list.concat(t),s=0,c=t.length;s<c&&(!(u=t[s]).id||!this.messages_list.children('[data-message-id="'+u.id+'"]').length);s++)f=u.user||u.sender,o=u.body,l=f.id===CURRENT_USER.id,"image"===u.kind&&(o='<a href="'+(a=u.image||u.image_url)+'" class="popup-image-link"><img class="image-message" src="'+a+'"></a>'),"audio"===u.kind&&(o=" <audio controls src='"+(u.image||u.image_url)+"'></audio>"),d=u.parent_id?this.build_parent_answer(u.parent):"",h='<div class="dropdown dropup message-options">\n  <a class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-ellipsis-h"></i></a> \n  <ul class="dropdown-menu '+(l?"":"dropdown-menu-right")+'">\n    <li><a href="javascript:void()" class=\'link_answer\'>Reply</a></li>\n    '+(f.id===CURRENT_USER.id?'<li><a class=\'ujs_success_hide\' data-closest-hide=".message-item" data-disable-with="<i class=\'fa fa-spinner fa-spin\'></i> Deleting..." data-confirm="Are you sure you want to delete this message?" data-remote="true" rel="nofollow" data-method="delete" href="/dashboard/conversations/'+this.conversation_id+"/"+(null!=u?u.id:void 0)+'/remove_message">Delete</a></li> ':"")+"\n  </ul>\n</div>",i='<div class="'+(l?"media-right":"media-left")+"\">\n  <a title='"+f.full_name+'\'><img class="media-object img-responsive avatar_image" style="width: 30px; height: 30px; min-width: 30px;" src="'+f.avatar_url+'" alt=""></a>\n</div>',r+='<div class="media no_overflow message-item '+(stickersSingleton.is_emoji_sticker(u.body)?"sticker_msg":"")+" "+(l?"outgoing":"incoming")+" kind_"+u.kind+'" data-user-id="'+f.id+"\" data-message-id='"+u.id+"'>\n  "+(l?"":i)+"\n  <div class=\"media-body\">\n    <div class='message_content clearfix'>"+d+o.mask_user_mentions()+h+"</div>\n    "+(u.created_at?"<div class='time small text-gray'>"+TimeHelper.format(u.created_at)+"</div>":"")+"\n  </div>\n  "+(l?i:"")+"\n</div>";return r=$(r).fadeTo(0,0),e?this.messages_list.prepend(r):this.messages_list.append(r),r.find(".message_content").stickerParse(),r.fadeTo(1500,1),n?(this.messages_body.animate({scrollTop:this.messages_body[0].scrollHeight},"fast"),this.messages_body.delay(50*(r.find("img").length+1)).animate({scrollTop:this.messages_body[0].scrollHeight},"fast")):void 0},e.prototype.render_waiting_messages=function(){var t,e,n,i;for(t=0,e=(n=this.waiting_messages).length;t<e;t++)i=n[t],this.render_messages(i[0],i[1],i[2]);return this.waiting_messages=[]},e.prototype.loading=function(t){return t?this.container.find(".panel_loading").removeClass("hidden"):this.container.find(".panel_loading").addClass("hidden")},e.prototype.init_events=function(){var t,e,n,i;return this.header.on("click",".btn_toggle",(t=this,function(e){return $(e.currentTarget).trigger("mouseout"),t.toggle(),!1})),this.header.click((e=this,function(t){if($(t.target).is("div"))return e.header.find(".btn_toggle").click()})),this.header.on("click",".btn_close",(n=this,function(){return n.destroy(),!1})),this.messages_body.on("click",".link_answer",(i=this,function(t){return i.answer_to($(t.target).closest(".message-item").attr("data-message-id")),t.preventDefault()})),this.footer.on("hide_answering",function(){return $(this).find(".p_answer").remove()})},e.prototype.answer_to=function(t){var e,n;return e=this.get_message(t),this.footer.trigger("hide_answering").find("form").prepend(this.build_parent_answer(e,!0)),this.footer.find(".btn_close_answer").click((n=this,function(){return n.footer.trigger("hide_answering")})),this.footer.find("textarea").focus()},e.prototype.init_scroller=function(){return this.messages_body.scroll((t=this,function(e){if($(e.target).scrollTop()<=50&&!t.is_loading_messages&&""!==t.current_page)return t.load_messages(t.current_page+=1)}));var t},e.prototype.settings=function(){},e.prototype.destroy=function(t){var e;if(this.container.remove(),this.chat.conversations=this.chat.conversations.filter((e=this,function(t){return t.conversation_id!==e.conversation_id})),t)return this.chat.conversations_body.find('.conversation-item[data-id="'+this.conversation_id+'"]').remove()},e.prototype.build_footer=function(){var t,e,n,i,o,r,s,a,l,c,u,d;return n=$('<form class=\'clearfix margin0\' data-type="json" autocomplete="off" enctype="multipart/form-data" action="/dashboard/conversations/'+this.conversation_id+'/add_message" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="\u2713">\n  <input type="hidden" name="message[emoji]" value="">\n  <div class=\'p_links btn-group\'>\n    <button type=\'button\' class=\'btn btn-default emoji-btnn\'><i class="fa fa-smile-o"></i></button>\n    <button type=\'button\' class="btn btn-default send-image-btn btn_file"><i class="glyphicon glyphicon-camera"></i> <input type="file" name="message[image]" class="opacity0 image_file" accept="image/gif,image/jpeg,image/png,image/jpg,audio/mp3" autocomplete="off"> </button>\n    <button type=\'submit\' class=\'btn btn-default\'><i class=\'fa fa-send\'></i></button>\n  </div>\n  <div class=\'p_editor\'>\n    <textarea name="message[body]" placeholder="Message" data-suggest-position="top" class="form-control mentionable" data-start-typing-path="/dashboard/conversations" data-stop-typing-path="/dashboard/conversations"></textarea>\n  </div>\n</form>'),this.footer.html(n),s=null,t=function(){return clearTimeout(s),s=null},a=this,r=function(){return s&&$.ajax({method:"POST",url:"/dashboard/conversations/"+a.conversation_id+"/stop_typing"}),t()},this.footer.on("keydown","textarea",function(t){return!1===t.ctrlKey&&!1===t.shiftKey&&13===t.keyCode?(n.submit(),!1):$(this).data("cache-val",$(this).val())}),this.footer.on("keyup","textarea",(l=this,function(e){var n;return(n=$(e.currentTarget)).data("cache-val")!==n.val()&&n.val()&&13!==e.keyCode?(s||$.ajax({method:"POST",url:"/dashboard/conversations/"+l.conversation_id+"/start_typing"}),t(),s=setTimeout(r,1e4)):e.preventDefault()})),e=(o=['input[name="message[emoji]"]','input[name="message[image]"]'])[0],i=o[1],n.find(".emoji-btnn").stickeableLink(function(t){return n.find(e).val(t),n.data("submitted","emoji").submit()}),this.footer.on("change",".image_file",function(){return n.data("submitted","image").submit()}),n.on("ajax:beforeSend",(d=this,function(){if(d.loading(!0),ion.sound.play("audio_sent"),!n.data("submitted"))return t()})).on("ajax:success",(u=this,function(t,e){return u.render_messages([e],!1,!0),u.footer.trigger("hide_answering")})).on("ajax:complete",(c=this,function(){return c.loading(!1),n.find(e+","+i).val(""),n.find('[name="message['+(n.data("submitted")||"body")+']"]').val(""),n.data("submitted","")})).validate({rules:{"message[body]":{required:function(){return!n.find(e).val()&&!n.find(i).val()}}},errorPlacement:function(){return!0}})},e.prototype.build_header=function(){var t,e,n,i;return i="",n='data-disable-with="<i class=\'fa fa-spinner fa-spin\'></i> Loading..." data-remote="true"',this.conversation_data.is_group_conversation&&(t="",$.inArray(CURRENT_USER.id,this.conversation_data.admin_ids)>=0&&(t='<li><a class="ujs_link_modal" title="Edit Group Conversation" '+n+' href="/dashboard/conversations/'+this.conversation_id+'/edit_group">Edit Group</a></li>\n<li><a '+n+" data-type='destroy' data-confirm='Are you sure you want to delete this conversation?' href=\"/dashboard/conversations/"+this.conversation_id+'/destroy_group">Destroy Group</a></li>\n<li role="separator" class="divider"></li>'),i='<div class="dropdown inline">\n  <a class="btn_settings btn dropdown-toggle" data-toggle="dropdown" title="Settings"><i class="fa fa-gear"></i></a>\n  <ul class="dropdown-menu dropdown-menu-right">\n    '+t+"\n    <li><a "+n+' class="ujs_link_modal" title=\'View Conversation Group\' href="/dashboard/conversations/'+this.conversation_id+'/show_group">View Group</a></li>\n    <li><a '+n+' href="/dashboard/conversations/'+this.conversation_id+"/leave_conversation\" data-type='post' data-confirm='Are you sure you want to leave this conversation?'>Leave Group</a></li>\n  </ul>\n</div>"),e="<div class='avatar_panel'>\n  <a title='' "+(this.conversation_data.other_user?" target='_blank' href='/dashboard/users/"+this.conversation_data.other_user.id+"/profile'":"")+'><img class="media-object img-responsive avatar_image" style="width: 30px; height: 30px; min-width: 30px;" src="'+this.conversation_data.url+'" alt=""></a>\n  '+this.chat.conversation_header(this.conversation_data)+"\n</div>\n<div class='info_panel'>\n  <div class=\"col-xs-8 ellipsis padding0\" title='"+this.conversation_data.name+"'>\n    "+this.conversation_data.name+'\n  </div>\n  <div class="col-xs-4 text-right btns padding0">\n    '+i+'\n    <a class="btn_toggle btn" title="" href="#" data-original-title="Toggle Chat"><i class="fa fa-window-minimize"></i></a>\n    <a class="btn_close btn" title="Close conversation" href="#"><i class="fa fa-close"></i></a>\n  </div>\n</div>',this.header.html(e)},e.prototype.add_typing=function(t){return t.body='<i class="typing-notification"><i>i</i><i>i</i><i>i</i></i>',t.kind="typing",this.render_messages([t],!1,!0)},e.prototype.remove_typing=function(t){return this.messages_list.children(".kind_typing").filter('[data-user-id="'+t.user.id+'"]').remove()},e.prototype.get_message=function(t){return console.log("find message: ",t),this.cache_messages_list.find(function(e){var n;return(null!=(n=e.id)?n.toString():void 0)===t.toString()})},e.prototype.build_parent_answer=function(t,e){var n,i;return i=t.user||t.sender,n=t.body,"image"===t.kind&&(n="<a href='"+(t.image||t.image_url)+"' class='gallery-item'>(Photo)</a>"),"audio"===t.kind&&(n="<a href='"+(t.image||t.image_url)+"' class='gallery-item'>(Audio)</a>"),"<blockquote class='p_answer small'>\n  "+(e?"<input type='hidden' name='message[parent_id]' value='"+t.id+'\'><a class="btn btn-xs btn_close_answer"><i class="fa fa-times"></i></a>':"")+"\n  <div class='answer_title bold'>"+i.full_name+"</div>\n  <div class='answer_body'>"+n+"</div> \n</blockquote>"},e.prototype.destroy_message=function(t){var e;return(e=this.messages_list.find(">.message-item[data-message-id='"+t+"']")).find(".message_content").html('<i class="fa fa-trash"></i> This message has been removed.').addClass("removed"),e.find(".message-options").remove()},e.prototype.can_scroll_down=function(){return this.messages_body.get(0).scrollHeight-(this.messages_body.scrollTop()+this.messages_body.height())<30},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.ConversationGroupManager=function(){function e(){this.view=t(this.view,this),this.form_builder=t(this.form_builder,this)}return e.prototype.form_builder=function(t){var e,n,i;return i=function(t,e){return t.find(".col2").append("<label class='btn btn-default btn-sm'>Admin <input name='conversation[new_admins][]' value='"+e.id+"'' "+(e.is_admin?"checked":void 0)+" class='badgebox' type='checkbox'><span class='badge'>&check;</span></label>")},(n=t.find("select.members")).userAutoCompleter({listable:{on_selected:i},dropdownParent:n.closest(".form-group")}),(e=t.find("input:file")).filestyle({buttonBefore:!0,buttonText:" "+e.attr("title"),iconName:"glyphicon glyphicon-camera",input:!1,badge:!0}),t.validate(),t.on("ajax:success",function(e,n){return t.hasClass("new_group")||window.chat_box.update_conversation(n),t.hasClass("new_group")&&window.chat_box.open_conversation(n.id),t.closest(".modal").modal("hide")})},e.prototype.view=function(t){return t.on("ajax:success","a.make_admin",function(){return $(this).closest(".list-group-item").addClass("list-group-item-info"),$(this).closest("li").hide().next("li").show().removeClass("hidden")}),t.on("ajax:success","a.unmake_admin",function(){return $(this).closest(".list-group-item").removeClass("list-group-item-info"),$(this).closest("li").hide().prev("li").show().removeClass("hidden")})},e}()}.call(this),function(){window.init_inbox_page=function(t){if(window.chat_box=new Chat(t.find("#conversations_list"),{single_conversation_panel:t.find("#single_conversation"),message_body_height:$(window).height()-250}),window.chat_box.open(),t.find("#conversations_list .panel_body").height($(window).height()-200),$("#chat_widget").remove(),t.data("id"))return window.chat_box.open_conversation(t.data("id"))}}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};this.OnlineChecker=function(){function n(e){this.callback=e,this.getOnlineUsers=t(this.getOnlineUsers,this),this.stop=t(this.stop,this),this.start=t(this.start,this),this.usersOnlineCache=[]}return n.prototype.start=function(){var t;if(!this.timer)return t=6e4,this.timer=setInterval(this.getOnlineUsers,t);console.log("Already running status checker")},n.prototype.stop=function(){return clearInterval(this.timer),this.timer=null},n.prototype.getOnlineUsers=function(){return $.getJSON("/dashboard/search/get_online_users",(t=this,function(e){return t.usersOnlineCache=e,"function"==typeof t.callback?t.callback(e):void 0}));var t},n.prototype.isUserOnline=function(t){var n;return n=parseInt(t),e.call(this.usersOnlineCache,n)>=0},n}(),this.AvatarHelper=function(){function t(){}return t.getAvatarUrl=function(t){return t},t.getAvatarStatus=function(t,e){return"class"===e?t?"online":"":"full_title"===e?t?"User Online":"User Offline":t?"Online":"Offline"},t}(),this.TimeHelper=function(){function t(){}return t.format=function(t){var e,n,i,o,r,s,a;return null==t?"Never":(n=t instanceof Date?t:new Date(1e3*t),new Date-n<864e5?(o=n.getHours(),r=n.getMinutes(),e=o>=12?"pm":"am",0===(o%=12)&&(o=12),o<10&&(o="0"+o),r<10&&(r="0"+r),o+":"+r+" "+e):((i=n.getDate())<10&&(i="0"+i),(s=n.getMonth()+1)<10&&(s="0"+s),(a=n.getYear())<1900&&(a+=1900),i+"/"+s+"/"+(a%=100)))},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.Comment=function(){function e(){this.likeable=t(this.likeable,this),this.destroyable=t(this.destroyable,this),this.answerable=t(this.answerable,this),this.editable=t(this.editable,this),this.readmore=t(this.readmore,this),this.parse_body=t(this.parse_body,this),this.init_answer=t(this.init_answer,this)}return e.prototype.init=function(t){return this.panel=t,this.readmore(),this.editable(),this.answerable(),this.destroyable(),this.likeable(),this.panel.on("update_body_content",this.parse_body).trigger("update_body_content")},e.prototype.init_answer=function(t){return t.on("update_body_content",this.parse_body).trigger("update_body_content")},e.prototype.parse_body=function(t){return $(t.currentTarget).find(".comment-body .the_content").stickerParse()},e.prototype.readmore=function(){return this.panel.on("click",".comment-body .read-more",function(){return $(this).closest(".summary").hide().next().removeClass("hidden"),!1})},e.prototype.editable=function(){var t;return this.panel.on("ajax:success",".comment-body.editable form.edit_comment_form",function(t,e){var n;if((n=$(t.target)).is("form"))return FeedComments.update_comment(e),n.hide().prevAll(".the_content").show()}),t=function(t){var e,n,i;if(!t.hasClass("added_form"))return t.addClass("added_form"),i=t.hasClass("comment-body-answer"),e=t.next("textarea"),(n=$('<form class="simple_form '+(i?"edit_answer_form":"edit_comment_form")+'" action="'+e.attr("data-url")+'" accept-charset="UTF-8" data-remote="true" method="post">\n  <input type="hidden" name="_method" value="put">\n  <div class="required comment_body"></div>\n  <button name="button" type="submit" class="btn btn-default btn btn-primary btn-sm" data-disable-with="<i class=\'fa fa-spinner fa-spin\'></i> Saving...">Save</button>\n  <button name="button" type="button" class="btn btn-default btn btn-default btn-sm cancel">Cancel</button>\n</form>')).find(".comment_body").html(e.clone().removeClass("hidden")),e.replaceWith(n),n.validate()},this.panel.on("click",".comment-body.editable > .the_content",function(e){var n,i,o;if(!$(e.target).is("a, a *")){if(getSelectionText())return;return t($(this)),(n=(i=$(this).next("form")).find("textarea")).val(n.val().replace(/&gt;/g,">").replace(/&lt;/g,"<")),o=n.val().length/3,n.height(o>60?o:60),i.removeClass("hidden").show(),n.focus(),$(this).hide()}}),this.panel.on("click","a.edit_comment_link",function(t){return t.preventDefault(),$(t.target).closest(".comment-actions").nextAll(".editable").children(".the_content").click(),!1}),this.panel.on("click",".comment-body.editable form .cancel",function(){return $(this).closest("form").hide().prev().show()})},e.prototype.answerable=function(){return this.panel.on("click",".comment-content .reply_comment",function(){var t;return $(this).hasClass("form_added")||($(this).addClass("form_added"),FeedComments.answer_comment_form($(this).closest(".comment-content").find(".comment-body .comment-answers"),$(this).attr("href"))),(t=$(this).closest(".comment-content").find(".comment-body .comment-answers form.new_answer_comment").removeClass("hidden")).length&&($("body").animate({scrollTop:t.offset().top-200}),t.find("textarea").focus()),!1}),this.panel.on("ajax:success",".comment-body.editable form.edit_answer_form",function(t,e){var n;if((n=$(t.target)).is("form"))return FeedComments.update_comment(e),n.hide().prevAll(".the_content").show()})},e.prototype.destroyable=function(){return this.panel.on("ajax:success",".del_comment",function(t,e){return ContentManager.update_qty_comments($(t.target).closest(".content").attr("data-content-id"),parseInt(e))}),this.panel.on("ajax:success",".del_answer",function(t){return ContentManager.update_qty_comments($(t.target).closest(".content").attr("data-content-id"),!0)})},e.prototype.likeable=function(){return this.panel.on("click",".comment-content .comment-like-action",function(){var t,e,n;return n=$(this),e=!$(this).hasClass("active"),t=n.find(".comment_votes_count"),e?(t.html(parseInt(t.text())+1),n.addClass("active")):(t.html(parseInt(t.text())-1),n.removeClass("active")),$.post($(this).attr("href"),{like:e}),!1})},e}()}.call(this),function(){this.FeedComments=function(){function t(){}return t.form_common_actions=function(t){var e,n,i;return e=(i=['input[name="comment[emoji]"]','input[name="comment[file]"]'])[0],n=i[1],t.on("change",'input[name="comment[file]"]',function(){return t.data("submitted","file").submit()}),t.find(".emoji-btnn").stickeableLink(function(e,n){if(!n)return t.find('input[name="comment[emoji]"]').val(e),t.data("submitted","emoji").submit();t.find("textarea").val(t.find("textarea").val()+e)}),t.on("ajax:complete",function(){
return t.find(e+","+n).add(t.find('[name="comment['+(t.data("submitted")||"body")+']"]')).val(""),t.data("submitted","")}).validate({rules:{"comment[body]":{required:function(){return!t.find(e).val()&&!t.find(n).val()}}},errorPlacement:function(){return!0}}),t.find("textarea").each(function(){return autosize(this)}),t.on("keydown","textarea",function(e){if(13===e.keyCode&&!e.shiftKey&&!e.ctrlKey)return t.submit(),!1})},t.new_comment_form=function(e,n){var i;return CURRENT_USER.p_commenting_until?(n.append("<div class='alert alert-danger skip_dismiss margin_top0'>You were blocked for commenting until "+CURRENT_USER.p_commenting_until+"</div>"),n):(i=$('<form data-type="json" class="new_comment_form comment-form margin_top10" enctype="multipart/form-data" action="/dashboard/comments?content_id='+e+'" accept-charset="UTF-8" data-remote="true" method="post"><input value="'+e+'" class="hidden" type="hidden" name="comment[content_id]" id="comment_content_id">\n    <input type=\'hidden\' name=\'comment[emoji]\'>\n    <div class="comment-author-image">\n      '+user_avatar_widget(CURRENT_USER,30)+'\n    </div>\n    <div class="btns btn-group">\n      <button type="submit" class="" data-disable-with="<i class=\'fa fa-spinner fa-spin\'></i>"></button>\n      <button type=\'button\' class="emoji-btnn btn" data-closest="form" data-input="textarea"><i class="fa fa-smile-o"></i></button>\n      <button type=\'button\' class="send-image-btn btn_file btn"><i class="glyphicon glyphicon-camera"></i> <input type="file" name="comment[file]" class="opacity0 image_file" accept="image/gif,image/jpeg,image/png,image/jpg" autocomplete="off"> </button>\n    </div>\n    <div class="comment_p form-group">\n      <textarea class="required form-control" rows=\'1\' placeholder="" name="comment[body]"></textarea>\n    </div>\n</form>'),n.append(i),i.after('<div class="clearfix"></div>'),i.on("ajax:success",function(n,i){return t.add_comment(e,null,i.res)}),t.form_common_actions(i),i)},t.answer_comment_form=function(e,n){var i;return CURRENT_USER.p_commenting_until?(e.append("<div class='alert alert-danger skip_dismiss margin_top0'>You were blocked for commenting until "+CURRENT_USER.p_commenting_until+"</div>"),e):(i=$('<form data-type="json" enctype="multipart/form-data" class="margin_top10 new_answer_comment comment-form" action="'+n+'" accept-charset="UTF-8" data-remote="true" method="post">\n  <input type=\'hidden\' name=\'comment[emoji]\'>\n  <div class="comment-author-image">\n    '+user_avatar_widget(CURRENT_USER,30)+'\n  </div>\n  <div class="btns btn-group">\n      <button type="submit" class="" data-disable-with="<i class=\'fa fa-spinner fa-spin\'></i>"></button>\n      <button type=\'button\' class="btn emoji-btnn" data-closest="form" data-input="textarea"><i class="fa fa-smile-o"></i></button>\n      <button type=\'button\' class="send-image-btn btn_file btn"><i class="glyphicon glyphicon-camera"></i> <input type="file" name="comment[file]" class="opacity0 image_file" accept="image/gif,image/jpeg,image/png,image/jpg" autocomplete="off"> </button>\n    </div>\n  <div class="comment_p comment_body">\n    <textarea class="required form-control" rows=\'1\' placeholder="Write your answer here..." name="comment[body]"></textarea>\n  </div>\n</form>'),e.append(i),i.after('<div class="clearfix"></div>'),i.on("ajax:success",function(e,n){return t.add_answer(i.closest(".comment").attr("data-id"),null,n.res)}),t.form_common_actions(i),i)},t.increment_comment_qty=function(t){return ContentManager.update_qty_comments(t,!1)},t.update_comment_likes=function(t,e){return $("#comment-"+t+" .comment-actions:first .comment_votes_count").html(e)},t.remove_comment=function(t,e){var n,i;if((n=$("#comment-"+t)).length>=1)return i=n.closest(".content").attr("data-content-id"),n.removeAnimated(),ContentManager.update_qty_comments(i,e)},t.update_comment=function(t){var e;return(e=$("#comment-"+t.id).find(".the_content:first")).find(".summary").html(t.body),e.find(".full").html(t.body),e.trigger("update_body_content")},t.add_answer=function(e,n,i){var o;return o=$("#comment-"+e).find(".comment-answers-list"),i?o.append(i):$.get("/dashboard/comments/"+e+"/answers/"+n,function(t){return o.append(t)}),t.increment_comment_qty(o.closest(".content").attr("data-content-id"))},t.add_comment=function(e,n,i){var o;return o=$("#content-"+e).find(".content-comments > .comments"),i?o.append(i):$.get("/dashboard/comments/"+n,{content_id:e},function(t){return o.append(t)}),t.increment_comment_qty(e)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.DashboardContent=function(){function e(){this.listen_notifications=t(this.listen_notifications,this),this.editableContent=t(this.editableContent,this),this.likeable=t(this.likeable,this),this.refresh_reactions=t(this.refresh_reactions,this),this.commentable=t(this.commentable,this),this.deletable=t(this.deletable,this),this.parse_body=t(this.parse_body,this),this.init_actions=t(this.init_actions,this),this.init=t(this.init,this)}return e.prototype.init=function(t){return this.panel=t,this.listen_notifications(),this.deletable(),this.commentable(),this.likeable(),this.refresh_reactions(),this.editableContent(),this.init_actions(),this.parse_body()},e.prototype.init_actions=function(){return this.panel.on("refresh_reactions",this.refresh_reactions),this.panel.on("click",".youtube",function(){var t,e,n;return n="https://www.youtube.com/embed/"+(t=$(this)).data("id")+"?autoplay=1&autohide=1&enablejsapi=1&iv_load_policy=3",t.data("params")&&(n+="&"+t.data("params")),e=$("<iframe/>",{frameborder:"0",src:n,allowfullscreen:!0,width:"100%",height:t.height()}),t.replaceWith(e)}).on("ujs-modal-opened","a.watchdog_del_content",(t=this,function(e,n){return(n=$(n)).find("form").attr("data-remote","true").addClass("ujs_hide_modal").on("ajax:success",function(){return t.panel.remove()})})).on("ujs-modal-opened",".comment a.watchdog_del_comment",function(t,e){var n;return e=$(e),n=$(t.currentTarget),e.find("form").attr("data-remote","true").addClass("ujs_hide_modal").on("ajax:success",function(){return n.closest(".comment").remove()})}).on("ujs-modal-opened",".comment-answer a.watchdog_del_answer",function(t,e){var n;return e=$(e),n=$(t.currentTarget),e.find("form").attr("data-remote","true").addClass("ujs_hide_modal").on("ajax:success",function(){return n.closest(".comment-answer").remove()})}).on("player_views_update","a.media_item",function(t,e){return 0===$(this).find(".fp-views").length&&$(this).prepend('<span class="fp-views fp-icon small"></span>'),$(this).attr("data-views",e||$(this).data("views")||0),$(this).find(".fp-views").html("<i class='fa fa-eye'></i> "+$(this).attr("data-views"))}).find("a.media_item").trigger("player_views_update");var t},e.prototype.parse_body=function(){return this.panel.find(".link_media_player").custom_player(),this.panel.find("video, audio").each(function(){return new window.VideoPlayer(this)}),this.panel.find(".content-body a[href]").each(function(){var t;if(t=($(this).attr("href")||"").match(/(youtu\.be\/|[?&]v=)([\d\w-]{11})/))return $(this).closest(".content-body").append($("<div class='youtube' data-id='"+t[2].trim()+"'><div class='play'></div></div>").css("background-image","url(https://i.ytimg.com/vi/"+t[2].trim()+"/hqdefault.jpg)"))}),this.panel.find(".content-body").stickerParse()},e.prototype.deletable=function(){return this.panel.on("ajax:success",".content-control-item.content-destroy",function(t){var e;return e=$(t.target),$("#sidebar .prayers-panel .media[data-id='"+e.closest(".content").attr("data-content-id")+"']").delete_item()})},e.prototype.commentable=function(){return this,this.panel.on("click",".content-action.comment-action",function(t){var e,n;return t.preventDefault(),(e=$(this).closest(".content-footer").nextAll(".content-comments").removeClass("hidden")).hasClass("form_added")||(e.addClass("form_added"),n=e.closest(".content").attr("data-content-id"),FeedComments.new_comment_form(n,e)),e.find("form.new_comment_form textarea").focus()})},e.prototype.refresh_reactions=function(){var t,e,n,i,o,r,s,a,l,c,u,d;for(a=this.panel.find(".content-links .reactions"),i=a.closest(".content").find("a.like-action.content-action"),s=parseInt(i.attr("data-ujs-qty")),i.attr("data-reacted")?i.html("<span class='reaction_icon sm-icon "+i.attr("data-reacted")+"'></span> "+i.attr("data-reacted").capitalize()):i.html("<span class='reaction_icon sm-icon "+i.attr("data-reaction")+"'></span> "+i.attr("data-reaction").capitalize()),c=(o=a.removeClass("hidden").find(".reaction_icon").each(function(t,e){var n,o,r;return n=$(e),o=[],0===(r=parseInt(n.attr("data-ujs-qty")))?n.hide():(n.show(),i.attr("data-reacted")&&n.hasClass(i.attr("data-reacted"))&&o.push("You"),n.attr("data-tooltip")&&(o=o.concat(n.attr("data-tooltip").split(", "))),r>n.length&&o.push("and "+(r-n.length)+" more..."),n.data("ctooltip","<div class='bold text-center' style='margin-bottom: 3px'>"+n.attr("data-reaction")+"</div>"+o.join("<br>")))})).filter(i.attr("data-reacted")?"."+i.attr("data-reacted"):".nothing"),o.not(c.siblings(".reaction_icon:visible").filter(":lt(2)").add(c)).hide(),r=[],i.attr("data-reacted")&&r.push("You"),i.attr("data-friends")&&(r=r.concat(i.attr("data-friends").split(", "))),0===r.length?r.push(0===s?"No reactions":s):(l=s-r.length)>0&&r.push(shortenLargeNumber(l,1)+" Reactions"),e=t=0,n=r.length;t<n;e=++t)d=r[e],r[e]=d.toString().truncate(30);return u=r.join(" and "),isNaN(u)||(u=u+" "+("1"===u?"User":"Users")),a.find(".votes_count").html(u).closest("a").attr("data-ujs-qty",s)},e.prototype.likeable=function(){var t,e,n,i;return this,(t=this.panel).on("click","a.like-action.content-action",function(e,n){var i,o,r,s;return i=(r=$(this)).closest(".content"),o=!r.hasClass("active"),n&&(o=!0),n||(n=r.attr("data-reaction")),r.attr("data-reacted")&&i.find(".content-links .reactions ."+r.attr("data-reacted")).decre_incre("data-ujs-qty",!0),o&&i.find(".content-links .reactions ."+n).decre_incre("data-ujs-qty",!1),r.attr("data-reacted",o?n:""),$.get(r.attr("href"),{like:o,kind:n}),o&&r.hasClass("active")?t.trigger("refresh_reactions"):ContentManager.update_qty_loves(i.attr("data-content-id"),!o),o?r.addClass("active"):r.removeClass("active"),o&&"pray"===n&&0===(s=i.find(".user_prayers .post-author-image")).find("a[data-id='"+CURRENT_USER.id+"']").length&&s.prepend(user_avatar_widget(CURRENT_USER,35)),o&&r.addClass("animate").toogle_class_delay("animate",300),!1}),n=null,i=null,e=function(t){var e;return 1!==t.prev(".reactions_panel").length?(e=$("<div class='reactions_panel'> <a href='#' data-reaction='love' class='reaction_icon love' title='Love'></a> <a href='#' data-reaction='pray' class='reaction_icon pray' title='Pray'></a> <a href='#' data-reaction='amen' class='reaction_icon amen' title='Amen'></a> <a href='#' data-reaction='angry' class='reaction_icon angry' title='Angry'></a> <a href='#' data-reaction='sad' class='reaction_icon sad' title='Sad'></a> <a href='#' data-reaction='wow' class='reaction_icon wow' title='Wow'></a> </div>").hover(function(){return clearTimeout(i)},function(){return $(this).fadeOut()}),t.before(e),e.find("a").click(function(){return $(this).closest(".content").find("a.like-action.content-action").trigger("click",$(this).attr("data-reaction")),e.trigger("mouseout"),!1})):t.prev(".reactions_panel").fadeIn()},t.on("mouseover mouseout","a.like-action.content-action",function(t){var o;return o=$(this),"mouseover"===t.type?(clearTimeout(i),n=setTimeout(function(){return e(o)},300)):(clearTimeout(n),i=setTimeout(function(){return o.prev(".reactions_panel").fadeOut()},1e3))}),t.tooltip({selector:".content-links .reactions .custom_tooltip",trigger:"hover",html:!0,title:function(){return $(this).data("ctooltip")}})},e.prototype.editableContent=function(){var t;return t=this,this.panel.on("ajax:success",".edit_content_lnk",function(e,n){var i,o,r,s;return o=$(this),(r=modal_tpl({content:n,title:$(this).attr("data-original-title")||$(this).attr("title"),id:"content_edit_modal",submit_btn:"Save Changes"})).modal(),s=r.find(".submit_btn").attr("data-disable-with","<i class='fa fa-spinner fa-spin'></i> Updating..."),(i=r.find("form").not(".secondary_form").data("submit_btn",s)).on("ajax:beforeSend",function(){return $.rails.disableElement(s)}).on("ajax:complete",function(){return $.rails.enableElement(s)}).on("ajax:success",function(e,n){var i;return r.modal("hide"),i=$(n).find(".content-body"),o.closest(".content").find(".content-body").replaceWith(i),t.parse_body()}),s.click(function(){return i.submit()})})},e.prototype.listen_notifications=function(){return window.real_time_connector.subscribeToChannel(this.panel.data("key"),(t=this,function(e){switch(e.type){case"comment":e.user.id!==CURRENT_USER.id&&(e.source.parent_id?FeedComments.add_answer(e.source.parent_id,e.source.id):FeedComments.add_comment(e.source.content_id,e.source.id));break;case"destroy_comment":e.user.id!==CURRENT_USER.id&&FeedComments.remove_comment(e.source.id,e.qty_comments);break;case"update_comment":e.user.id!==CURRENT_USER.id&&FeedComments.update_comment(e.source);break;case"like":e.user.id!==CURRENT_USER.id&&ContentManager.update_qty_loves(e.source.id,!1);break;case"unlike":e.user.id!==CURRENT_USER.id&&ContentManager.update_qty_loves(e.source.id,!0);break;case"share":e.user.id!==CURRENT_USER.id&&(ContentManager.update_qty_shares(e.source.id,e.source.shares_count+1),ContentManager.new_feed_notification());break;case"like_comment":case"unlike_comment":e.user.id!==CURRENT_USER.id&&FeedComments.update_comment_likes(e.source.id,e.source.cached_votes_score);break;case"content_file_views":t.panel.find(".media_item[data-f-id='"+e.file_id+"']").trigger("player_views_update",e.qty)}return window.realtime_notificator(e)}));var t},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.ContentEditor=function(){function e(){this.init_editor_tabs=t(this.init_editor_tabs,this),this.status_form=t(this.status_form,this),this.question_form=t(this.question_form,this),this.live_video_form=t(this.live_video_form,this),this.pray_form=t(this.pray_form,this),this.suggested_users_modal=t(this.suggested_users_modal,this),this.media_form=t(this.media_form,this),this.common_form_actions=t(this.common_form_actions,this)}return e.prototype.common_form_actions=function(t){return t.find("form.simple_form").validate(),t.on("ajax:success","form.simple_form",function(t,e){if($(this).hasClass("new_content"))return ContentManager.add_content(e,!0)})},e.prototype.media_form=function(t){var e,n,i;return this.common_form_actions(t),i=t.find("#images_file_uploader_form"),n=i.nextAll("form"),i.on("ajax:success",function(t,e){var i,o,r,s;for(s=n.find("ul.images"),i=0,r=e.length;i<r;i++)(o=e[i]).errors?new ToastNotificator(o.errors,{},"error"):s.append('<li> <a class="btn btn-xs btn-danger remove_item" title="Remove Image"> <i class="glyphicon glyphicon-trash"></i> </a> <input name="content[content_image_ids][]" class="no_visible" checked="" type="checkbox" value="'+o.id+'"> <img src="'+o.url+'"> </li>');return n.find('[name="content[content_image_ids][]"]').valid()}).on("ajax:before",function(){return e.data("text",e.find("span").html()),e.addClass("disabled").find("span").html("Loading...")}).on("ajax:complete",function(){return e.removeClass("disabled").find("span").html(e.data("text"))}).on("ajax:error",function(){return alert("Occurred an error, please try again.")}),i.find("input.image_file"),e=i.find(".btn.upload_image"),i.on("change","input.image_file",function(){return i.submit()}),n.find(".images").sortable(),n.on("click",".remove_item",function(){return $(this).closest("li").fadeOut("slow",function(){return $(this).remove(),n.find('[name="content[content_image_ids][]"]').valid()}),!1}),n.on("ajax:success",function(){return $(this).find(".images > li").remove()})},e.prototype.suggested_users_modal=function(t,e,n,i){if(t.hasClass("new_content"))return t.submit(function(){if(t.valid()&&!t.attr("data-system-recommended-users"))return $.rails.disableElement(t.data("submit_btn")),$.post("/dashboard/search/recommended_users",{kind:e,exclude:n.val(),content:t.find('textarea[name="content[description]"]').val()},function(e){var n,i,o,r,s;for(n='<div class="list-group">',i=0,o=e.length;i<o;i++)n+='<a href="#" class="list-group-item" data-id="'+(s=e[i]).id+'">'+(s.qty_comments?'<span class="badge">'+s.qty_comments+"</span>":"")+" "+s.full_name+"</a>";return(r=modal_tpl({title:t.attr("data-suggested-title"),submit_btn:t.attr("data-suggested-btn"),content:n+"</div>"})).modal(),r.on("click",".list-group-item",function(){return $(this).toggleClass("active"),!1}),r.find(".submit_btn").click(function(){var e;return e=$('<input name="suggested_users" type="hidden">').val(r.find(".list-group-item.active").map(function(){return $(this).attr("data-id")}).get().join(",")),t.append(e),r.modal("hide"),t.attr("data-system-recommended-users","true").submit()})}).complete(function(){return $.rails.enableElement(t.data("submit_btn"))}),!1}).on("ajax:success",function(t,e){return i&&i(e),$(this).find("select").val(null).trigger("change"),$(this).removeAttr("data-system-recommended-users").find('input[name="suggested_users"]').remove()})},e.prototype.pray_form=function(t){var e,n;return this.common_form_actions(t),(n=(e=t.find("#content_pray_form")).find("#content_users_prayer_ids")).userAutoCompleter(),this.suggested_users_modal(e,"pray",n,function(t){return SidebarManager.load_praying_request($(t).attr("data-content-id"),!1)})},e.prototype.live_video_form=function(t){var e,n;if((e=t.find("form")).hasClass("new_video"))return n=new ContentLiveVideo(t),$(window).bind("beforeUnloadbe.new_live_video",n.is_active?function(){return"Are you sure you want to leave this live video? away from this page?"}:void 0),e.submit(function(){if(e.valid())return $(window).unbind("beforeUnloadbe.new_live_video")})},e.prototype.question_form=function(t){var e,n;return this.common_form_actions(t),(n=(e=t.find("#content_question_form")).find("#content_user_recommended_ids")).userAutoCompleter(),this.suggested_users_modal(e,"answer",n)},e.prototype.status_form=function(t){var e;return this.common_form_actions(t),(e=t.find("#content_description")).feedEditor(),t.on("ajax:beforeSend","form.simple_form",function(){return t.find(".note-btn-group .btn").prop("disabled",!0)}).on("ajax:complete","form.simple_form",function(){return t.find(".note-btn-group .btn").prop("disabled",!1)}).on("ajax:success","form.simple_form",function(){return e.summernote("code","")})},e.prototype.init_editor_tabs=function(t){var e,n;return(n=t.find(".profile-options-buttons")).find(".more_items").nextAll("a").each(function(){var t,e;return t=(e=$(this)).clone().removeClass("btn btn-sm").click(function(t){return e.data("toggle-panel")&&e.click(),t.preventDefault()}),n.find(".more_items .dropdown-menu").append(t.wrap("<li></li>").parent())}),t.append(n),n.on("click",".btn-tabs > a:not(.notab)",function(){return $(this).hasClass("active")||($(this).addClass("btn-active").siblings().removeClass("btn-active"),t.find(".option-panel."+$(this).attr("data-toggle-panel")).show().siblings().hide()),!1}).find(".submit-form").click(function(){return t.find(".option-panel:visible form.simple_form").submit(),!1}),e=n.find(".submit-form"),t.on("ajax:beforeSend","form.simple_form",function(){return $.rails.disableElement(e)}).on("ajax:complete","form.simple_form",function(){return $.rails.enableElement(e)}).on("ajax:success","form.simple_form",function(){return $(this).find("textarea, input:text, select, input:file").val(""),$("#content-form-backdrop").trigger("click")}).find("form").addClass("new_content").data("submit_btn",e),$("#content-form-backdrop").click(function(){return t.removeClass("focus")}),t.on("focusin",function(t){if(!$(t.target).data("remote"))return $(this).addClass("focus")}).find(".btn.close_content_form").click(function(){return $("#content-form-backdrop").trigger("click"),!1})},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.ContentManager=function(){function e(){this.invite_pray_form=t(this.invite_pray_form,this)}return e.add_content=function(t,e){var n;return n=function(t){return t=$(t).hide(),e?$("#contents").prepend(t):$("#contents").append(t),t.fadeIn("slow")},isNaN(t)?n(t):$.get("/dashboard/contents/"+t+"/widget",function(t){return n(t)})},e.new_feed_notification=function(){var t,n;return n=$("#contents"),e.qty_new_feeds||(e.qty_new_feeds=0),0===n.children(".load-newest-feed").length&&(t=$('<div class="text-center load-newest-feed fixedsticky">\n  <a class="btn btn-black ujs_content_to" data-content-to="#contents" data-disable-with="<i class=\'fa fa-spinner fa-spin\'></i> Loading..." data-remote=\'true\' href="'+n.attr("data-live-feed-reload-url")+'">..</a>\n</div>'),n.prepend(t),t.fixedsticky(),e.qty_new_feeds=0),e.qty_new_feeds+=1,n.children(".load-newest-feed").find("a").html("New Posts ("+e.qty_new_feeds+")")},e.update_qty_loves=function(t,e){var n,i,o;return i=(n=$("#content-"+t)).find("a.like-action.content-action"),o="boolean"==typeof e||null===e?parseInt(i.attr("data-ujs-qty"))+(e?-1:1):e,i.attr("data-ujs-qty",o),n.trigger("refresh_reactions")},e.update_qty_comments=function(t,e){var n,i;return n=$("#content-"+t).find(".content-links .comments_count"),i="number"==typeof e?e:parseInt(n.text())+(e?-1:1),n.html(i<0?0:i)},e.update_qty_shares=function(t,e){var n,i;return n=$("#content-"+t).find(".content-links .shares_count"),i="boolean"==typeof e||null===e?parseInt(n.text())+(e?-1:1):e,n.html(i<0?0:i)},e.init_greetings=function(t){var e,n,i;return n=(new Date).getHours(),(e=t.attr("data-w-label"))?(t.css("background-image",'url("'+t.attr("data-w-art")+'")').css("color",t.attr("data-wc")),t.find(".close_btn").css("color",t.attr("data-wc"))):(e=t.attr("data-b-label"))?(t.css("background-image",'url("'+t.attr("data-b-art")+'")').css("color",t.attr("data-bc")).find("h3").css("color",t.attr("data-bc")),t.find(".close_btn").css("color",t.attr("data-bc"))):n<12?(e=t.attr("data-m-label"),t.css("background-image",'url("'+t.attr("data-m-art")+'")').css("color",t.attr("data-mc")).find("h3").css("color",t.attr("data-mct")),t.find(".close_btn").css("color",t.attr("data-mc"))):n<19?(e=t.attr("data-a-label"),t.css("background-image",'url("'+t.attr("data-a-art")+'")').css("color",t.attr("data-ac")).find("h3").css("color",t.attr("data-act")),t.find(".close_btn").css("color",t.attr("data-ac"))):(e=t.attr("data-n-label"),t.css("background-image",'url("'+t.attr("data-n-art")+'")').css("color",t.attr("data-nc")).find("h3").css("color",t.attr("data-nct")),t.find(".close_btn").css("color",t.attr("data-nc"))),t.find(".greeting").html(e),t.children().removeClass("invisible"),i=function(){return Cookies.set(t.attr("data-cookie-key"),"hidden",{expires:2})},t.on("click","#greeting_close_btn",function(){return t.fadeOut("slow"),i(),!1}),t.click(function(e){if(!$(e.target).is("a"))return i(),t.find(".btn-devotion")[0].click()})},e.prototype.invite_pray_form=function(t){return t.validate(),t.find("select").userAutoCompleter(),t.find(".tags_input").select2({tags:!0,allowClear:!0,selectOnBlur:!0,selectOnClose:!0,language:{noResults:function(){return""}}})},e.gallery_media_player=function(t){var e,n;return e=0,n=t.data("link_player"),t.on("progress",function(){return 3===e&&($.get("/dashboard/contents/"+n.data("c-id")+"/"+n.data("f-id")+"/mark_file_visited"),t.trigger("player_views_update",n.data("views")+1)),e+=1}).on("player_views_update",function(e,n){return 0===t.find(".fp-views").length&&t.prepend('<a class="fp-views fp-icon"></a>'),t.find(".fp-views").html("<i class='fa fa-eye'></i> "+(n||0))}).trigger("player_views_update",n.data("views")).addClass("media_item").attr("data-f-id",n.data("f-id"))},e.live_video_player_settings=function(t){var e;return e=0,t.on("progress",function(){return 3===e&&t.closest(".live_video_player_w").trigger("visit_live_video"),e+=1})},e.live_video_player=function(t){var e;return e=t.find(".link_live_video"),t.find(".link_live_video").custom_player(),window.real_time_connector.subscribeToChannel(t.data("key"),function(n){var i;switch(n.type){case"content_live_video_finished":return i=$("<div class='awaiting_for_process'><span class='live_span label label-default'>Preparing playback video</span> <a href='"+n.url+"' data-player-callback='ContentManager.live_video_player_settings' data-poster='"+n.poster+"'></a></div>"),t.find(".live_video_panel").html(i),i.find("a").custom_player();case"content_live_video_uploaded":return e=$("<a href='"+n.url+"' data-player-callback='ContentManager.live_video_player_settings' data-poster='"+n.poster+"'></a>"),t.find(".awaiting_for_process").html(e),e.custom_player();case"content_live_video_views":return t.trigger("increment_visits")}}),t.on("visit_live_video",function(){return $.get("/dashboard/contents/"+t.data("id")+"/visit_live_video")}).on("increment_visits",function(){var e;return(e=t.find(".qty_visits")).html(e.data("qty",e.data("qty")+1).data("qty"))})},e.widget_popular_content=function(t){if($.get(t.attr("data-url"),function(e){return t.find(".panel_body").html(e)}),0===$("#toggle_footnotes").length)return setInterval(function(){return $.get(t.attr("data-url"),function(e){return t.find(".panel_body > .g:first").replaceWith($(e).filter(".g"))})},1e4)},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.ContentLiveVideo=function(){function e(e){this.panel=e,this.remove_message=t(this.remove_message,this),this.add_message=t(this.add_message,this),this.signal=t(this.signal,this),this.addPublisherControls=t(this.addPublisherControls,this),this.init_events=t(this.init_events,this),this.endBroadcast=t(this.endBroadcast,this),this.startBroadcast=t(this.startBroadcast,this),this.start_connection=t(this.start_connection,this),this.form=this.panel.find("form"),this.broadcast={status:"waiting",streams:1,rtmp:!1},this.is_finished=!1,this.is_active=!1,this.status="waiting",this.insertOptions={width:"100%",height:"100%",showControls:!1},$.fn.repeat_until_run("OT",this.start_connection)}return e.prototype.start_connection=function(){var t,e;return t=OT.initSession(this.panel.data("apikey"),this.panel.data("session"),{connectionEventsSuppressed:!0}),this.session=t,this.publisher=OT.initPublisher("live_video_panel",$.extend({name:"Host",insertMode:"append"},this.insertOptions)),this.session.connect(this.panel.data("token"),(e=this,function(t){return t?(console.log("connect: ",arguments),e.add_message(t.message)):(e.addPublisherControls(e.publisher),e.init_events())}))},e.prototype.startBroadcast=function(t,e){var n;if(!this.is_finished)return e=$(e).find(".live_video_panel").remove().end(),console.log("arg start: ",arguments),this.is_active=!0,this.session.publish(this.publisher),this.panel.find(".preview_panel").hide(),this.panel.find(".live_panel").show(),this.form.find("input, select, textarea").prop("disabled",!0),this.panel.closest(".modal").find(".modal-header .close").remove(),(n=$("<a href='/dashboard/contents/"+e.attr("data-content-id")+"/stop_live_video' style='margin-right: 10px;' class='btn btn-black btn-sm finish_streaming pull-right' data-remote='true' "+Common.button_spinner()+">Finish Live Video</a>")).on("ajax:success",this.endBroadcast),this.panel.closest(".modal").find(".modal-header").prepend(n),this.panel.find(".right_panel").html(e),$(window).bind("beforeunload.new_live_video",this.is_active?function(){return"Are you sure you want to leave this live video? away from this page?"}:void 0)},e.prototype.endBroadcast=function(t,e){if(console.log("end broadcast: ",arguments),this.is_finished=!0,this.is_active=!1,this.session.disconnect(),this.panel.closest(".modal").modal("hide"),ContentManager.add_content(e,!0),this.form.valid())return $(window).unbind("beforeunload.new_live_video")},e.prototype.init_events=function(){var t;return this.form.on("ajax:success",this.startBroadcast),this.panel.find(".btns").show(),this.session.on("streamCreated",(t=this,function(){if(console.log("streamCreated: ",arguments),error)return t.add_message(error.message)})),this.session.on("streamDestroyed",function(){return console.log("streamDestroyed: ",arguments)}),this.session.on("signal:broadcast",function(t){if("status"===t.data)return this.signal(broadcast.status,t.from)}),this.session.on("streamCreated streamDestroyed sessionConnected sessionDisconnected archiveStarted archiveStopped connectionCreated connectionDestroyed streamPropertyChanged sessionReconnecting sessionReconnected",function(){return console.log("args live video: ",arguments)})},e.prototype.addPublisherControls=function(t){return console.log("publisher: ",t),$("#"+t.element.id).append("<div class='publisher-controls-container'><div class='control video-control'></div><div class='control audio-control'></div></div>")},e.prototype.signal=function(t,e){var n,i;return n=$.extend({},{type:"broadcast",data:t},e?{to:e}:{}),this.session.signal(n,(i=this,function(t){if(console.log("signal: ",arguments),t)return i.add_message(t.message,"warning")}))},e.prototype.add_message=function(t,e,n){return this.panel.find(".notifications").append(Common.bootstrap_alert(t,e,n))},e.prototype.remove_message=function(t){return this.panel.find(".notifications #"+t+".alert").remove()},e}()}.call(this),function(){$(function(){return $(document).on("click",".share-button-container .external-sharing",function(t){return t.preventDefault(),$(this).parents(".share-button-container").siblings(".share-buttons").toggleClass("hidden")}),$(document).on("mouseleave",".content",function(){return $(this).find(".share-buttons").addClass("hidden")})})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.Dashboard=function(){function e(){this.init_anonymous_switcher=t(this.init_anonymous_switcher,this)}return e.prototype.init_anonymous_switcher=function(t){return t.find(".mode.inactive").click(function(){var t;return(t=$(this)).attr("data-confirm")?modal_tpl({title:t.attr("data-title"),content:t.attr("data-confirm"),submit_btn:"I Promise",cancel_btn:"Cancel"}).modal().find(".submit_btn").click(function(){return window.location.href="/dashboard/users/toggle_anonymity"}):window.location.href="/dashboard/users/toggle_anonymity"})},e}()}.call(this),function(){window._desktop_push_notification_cache=[],this.DesktopMessage=function(){function t(){}return t.notify=function(t,e){var n;if(t&&Push.Permission.has()){if(e=$.extend({icon:$('head link[type="image/x-icon"]').attr("href"),timeout:6e3},e||{}),n=""+t+e.body,$.inArray(n,window._desktop_push_notification_cache)>=0)return;return setTimeout(function(){return window._desktop_push_notification_cache["delete"](n)},e.timeout),window._desktop_push_notification_cache.push(n),Push.create(t,e)}},t.check_permission_status=function(){var t;if(!Cookies.get("desktop_notification")&&!Push.Permission.has())return t=$("<div class=\"alert alert-warning skip_dismiss\" style='margin-top: -15px'>\n  <i class=\"fa fa-bell close fa-2x\"></i>\n  <p>\n    We strongly recommend enabling desktop notifications if you\u2019ll be using Loverealm on this computer.\n  <p>\n  <div>\n    <a href='#' class='enable'>Enable notifications</a> \u2022\n    <a href='#' class='next'>Ask me next time</a> \u2022\n    <a href='#' class='never'>Never ask again on this computer</a>\n  </div>\n</div>"),$("#main_container").prepend(t),t.find(".enable").click(function(){return Push.Permission.request(function(){return t.fadeOut()},function(){})}),t.find(".next").click(function(){return t.fadeOut(),Cookies.set("desktop_notification",!0,{expires:7})}),t.find(".never").click(function(){return t.fadeOut(),Cookies.set("desktop_notification",!0,{expires:99999})})},t}(),window.CURRENT_USER&&$("body").hasClass("news_feed")&&$(function(){return DesktopMessage.check_permission_status()})}.call(this),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Push=t()}(function(){return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){return o(e[s][1][t]||t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={
errors:{incompatible:"PushError: Push.js is incompatible with browser.",invalid_plugin:"PushError: plugin class missing from plugin manifest (invalid plugin). Please check the documentation.",invalid_title:"PushError: title of notification must be a string",permission_denied:"PushError: permission request declined",sw_notification_error:"PushError: could not show a ServiceWorker notification due to the following reason: ",sw_registration_error:"PushError: could not register the ServiceWorker due to the following reason: ",unknown_interface:"PushError: unable to create notification: unknown interface"}}},{}],2:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){i(this,t),this._win=e,this.DEFAULT="default",this.GRANTED="granted",this.DENIED="denied",this._permissions=[this.GRANTED,this.DEFAULT,this.DENIED]}return o(t,[{key:"request",value:function(t,e){var n=this,i=this.get(),o=function(i){i===n.GRANTED||0===i?t&&t():e&&e()};i!==this.DEFAULT?o(i):this._win.Notification&&this._win.Notification.requestPermission?this._win.Notification.requestPermission().then(o)["catch"](function(){e&&e()}):this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._win.webkitNotifications.requestPermission(o):t&&t()}},{key:"has",value:function(){return this.get()===this.GRANTED}},{key:"get",value:function(){return this._win.Notification&&this._win.Notification.permission?this._win.Notification.permission:this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._permissions[this._win.webkitNotifications.checkPermission()]:navigator.mozNotification?this.GRANTED:this._win.external&&this._win.external.msIsSiteMode?this._win.external.msIsSiteMode()?this.GRANTED:this.DEFAULT:this.GRANTED}}]),t}();n["default"]=r},{}],3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=i(t("./Messages")),a=i(t("./Permission")),l=i(t("./Util")),c=i(t("./agents/DesktopAgent")),u=i(t("./agents/MobileChromeAgent")),d=i(t("./agents/MobileFirefoxAgent")),h=i(t("./agents/MSAgent")),f=i(t("./agents/WebKitAgent")),p=function(){function t(e){o(this,t),this._currentId=0,this._notifications={},this._win=e,this.Permission=new a["default"](e),this._agents={desktop:new c["default"](e),chrome:new u["default"](e),firefox:new d["default"](e),ms:new h["default"](e),webkit:new f["default"](e)},this._configuration={serviceWorker:"/serviceWorker.min.js",fallback:function(){}}}return r(t,[{key:"_closeNotification",value:function(t){var e=!0,n=this._notifications[t];if(void 0!==n){if(e=this._removeNotification(t),this._agents.desktop.isSupported())this._agents.desktop.close(n);else if(this._agents.webkit.isSupported())this._agents.webkit.close(n);else{if(!this._agents.ms.isSupported())throw e=!1,new Error(s["default"].errors.unknown_interface);this._agents.ms.close()}return e}return!1}},{key:"_addNotification",value:function(t){var e=this._currentId;return this._notifications[e]=t,this._currentId++,e}},{key:"_removeNotification",value:function(t){var e=!1;return this._notifications.hasOwnProperty(t)&&(delete this._notifications[t],e=!0),e}},{key:"_prepareNotification",value:function(t,e){var n=this,i=void 0;return i={get:function(){return n._notifications[t]},close:function(){n._closeNotification(t)}},e.timeout&&setTimeout(function(){i.close()},e.timeout),i}},{key:"_serviceWorkerCallback",value:function(t,e,n){var i=this,o=this._addNotification(t[t.length-1]);navigator.serviceWorker.addEventListener("message",function(t){var e=JSON.parse(t.data);"close"===e.action&&Number.isInteger(e.id)&&i._removeNotification(e.id)}),n(this._prepareNotification(o,e))}},{key:"_createCallback",value:function(t,e,n){var i=this,o=void 0,r=null;if(e=e||{},o=function(t){i._removeNotification(t),l["default"].isFunction(e.onClose)&&e.onClose.call(i,r)},this._agents.desktop.isSupported())try{r=this._agents.desktop.create(t,e)}catch(o){var s=this._currentId,a=this.config().serviceWorker,c=function(t){return i._serviceWorkerCallback(t,e,n)};this._agents.chrome.isSupported()&&this._agents.chrome.create(s,t,e,a,c)}else this._agents.webkit.isSupported()?r=this._agents.webkit.create(t,e):this._agents.firefox.isSupported()?this._agents.firefox.create(t,e):this._agents.ms.isSupported()?r=this._agents.ms.create(t,e):(e.title=t,this.config().fallback(e));if(null!==r){var u=this._addNotification(r),d=this._prepareNotification(u,e);l["default"].isFunction(e.onShow)&&r.addEventListener("show",e.onShow),l["default"].isFunction(e.onError)&&r.addEventListener("error",e.onError),l["default"].isFunction(e.onClick)&&r.addEventListener("click",e.onClick),r.addEventListener("close",function(){o(u)}),r.addEventListener("cancel",function(){o(u)}),n(d)}n(null)}},{key:"create",value:function(t,e){var n=this,i=void 0;if(!l["default"].isString(t))throw new Error(s["default"].errors.invalid_title);return i=this.Permission.has()?function(i,o){try{n._createCallback(t,e,i)}catch(t){o(t)}}:function(i,o){n.Permission.request(function(){try{n._createCallback(t,e,i)}catch(t){o(t)}},function(){o(s["default"].errors.permission_denied)})},new Promise(i)}},{key:"count",value:function(){var t=void 0,e=0;for(t in this._notifications)this._notifications.hasOwnProperty(t)&&e++;return e}},{key:"close",value:function(t){var e=void 0;for(e in this._notifications)if(this._notifications.hasOwnProperty(e)&&this._notifications[e].tag===t)return this._closeNotification(e)}},{key:"clear",value:function(){var t=void 0,e=!0;for(t in this._notifications)this._notifications.hasOwnProperty(t)&&(e=e&&this._closeNotification(t));return e}},{key:"supported",value:function(){var t=!1;for(var e in this._agents)this._agents.hasOwnProperty(e)&&(t=t||this._agents[e].isSupported());return t}},{key:"config",value:function(t){return(void 0!==t||null!==t&&l["default"].isObject(t))&&l["default"].objectMerge(this._configuration,t),this._configuration}},{key:"extend",value:function(t){var e,n={}.hasOwnProperty;if(!n.call(t,"plugin"))throw new Error(s["default"].errors.invalid_plugin);for(var i in n.call(t,"config")&&l["default"].isObject(t.config)&&null!==t.config&&this.config(t.config),e=new(0,t.plugin)(this.config()))n.call(e,i)&&l["default"].isFunction(e[i])&&(this[i]=e[i])}}]),t}();n["default"]=p},{"./Messages":1,"./Permission":2,"./Util":4,"./agents/DesktopAgent":6,"./agents/MSAgent":7,"./agents/MobileChromeAgent":8,"./agents/MobileFirefoxAgent":9,"./agents/WebKitAgent":10}],4:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(){i(this,t)}return r(t,null,[{key:"isUndefined",value:function(t){return void 0===t}},{key:"isString",value:function(t){return"string"==typeof t}},{key:"isFunction",value:function(t){return t&&"[object Function]"==={}.toString.call(t)}},{key:"isObject",value:function(t){return"object"==(void 0===t?"undefined":o(t))}},{key:"objectMerge",value:function(t,e){for(var n in e)t.hasOwnProperty(n)&&this.isObject(t[n])&&this.isObject(e[n])?this.objectMerge(t[n],e[n]):t[n]=e[n]}}]),t}();n["default"]=s},{}],5:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function o(t){i(this,o),this._win=t}},{}],6:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=i(t("./AbstractAgent")),c=i(t("../Util")),u=function(){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,l["default"]),a(t,[{key:"isSupported",value:function(){return void 0!==this._win.Notification}},{key:"create",value:function(t,e){return new this._win.Notification(t,{icon:c["default"].isString(e.icon)||c["default"].isUndefined(e.icon)?e.icon:e.icon.x32,body:e.body,tag:e.tag,requireInteraction:e.requireInteraction})}},{key:"close",value:function(t){t.close()}}]),t}();n["default"]=u},{"../Util":4,"./AbstractAgent":5}],7:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=i(t("./AbstractAgent")),c=i(t("../Util")),u=function(){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,l["default"]),a(t,[{key:"isSupported",value:function(){return void 0!==this._win.external&&void 0!==this._win.external.msIsSiteMode}},{key:"create",value:function(t,e){return this._win.external.msSiteModeClearIconOverlay(),this._win.external.msSiteModeSetIconOverlay(c["default"].isString(e.icon)||c["default"].isUndefined(e.icon)?e.icon:e.icon.x16,t),this._win.external.msSiteModeActivate(),null}},{key:"close",value:function(){this._win.external.msSiteModeClearIconOverlay()}}]),t}();n["default"]=u},{"../Util":4,"./AbstractAgent":5}],8:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=i(t("./AbstractAgent")),c=i(t("../Util")),u=i(t("../Messages")),d=function(){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,l["default"]),a(t,[{key:"isSupported",value:function(){return void 0!==this._win.navigator&&void 0!==this._win.navigator.serviceWorker}},{key:"getFunctionBody",value:function(t){return t.toString().match(/function[^{]+{([\s\S]*)}$/)[1]}},{key:"create",value:function(t,e,n,i,o){var r=this;this._win.navigator.serviceWorker.register(i),this._win.navigator.serviceWorker.ready.then(function(i){var s={id:t,link:n.link,origin:document.location.href,onClick:c["default"].isFunction(n.onClick)?r.getFunctionBody(n.onClick):"",onClose:c["default"].isFunction(n.onClose)?r.getFunctionBody(n.onClose):""};void 0!==n.data&&null!==n.data&&(s=Object.assign(s,n.data)),i.showNotification(e,{icon:n.icon,body:n.body,vibrate:n.vibrate,tag:n.tag,data:s,requireInteraction:n.requireInteraction,silent:n.silent}).then(function(){i.getNotifications().then(function(t){i.active.postMessage(""),o(t)})})["catch"](function(t){throw new Error(u["default"].errors.sw_notification_error+t.message)})})["catch"](function(t){throw new Error(u["default"].errors.sw_registration_error+t.message)})}},{key:"close",value:function(){}}]),t}();n["default"]=d},{"../Messages":1,"../Util":4,"./AbstractAgent":5}],9:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=(s=t("./AbstractAgent"))&&s.__esModule?s:{"default":s},c=function(){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,l["default"]),a(t,[{key:"isSupported",value:function(){return void 0!==this._win.navigator.mozNotification}},{key:"create",value:function(t,e){var n=this._win.navigator.mozNotification.createNotification(t,e.body,e.icon);return n.show(),n}}]),t}();n["default"]=c},{"./AbstractAgent":5}],10:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=(s=t("./AbstractAgent"))&&s.__esModule?s:{"default":s},c=function(){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,l["default"]),a(t,[{key:"isSupported",value:function(){return void 0!==this._win.webkitNotifications}},{key:"create",value:function(t,e){var n=this._win.webkitNotifications.createNotification(e.icon,t,e.body);return n.show(),n}},{key:"close",value:function(t){t.cancel()}}]),t}();n["default"]=c},{"./AbstractAgent":5}],11:[function(t,e){"use strict";var n,i=(n=t("./classes/Push"))&&n.__esModule?n:{"default":n};e.exports=new i["default"]("undefined"!=typeof window?window:void 0)},{"./classes/Push":3}]},{},[11])(11)}),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.MyFinances=function(){function e(){this.draw_graphic=t(this.draw_graphic,this),this.init=t(this.init,this)}return e.prototype.init=function(t){return t.on("click","ul.report_periods a:not(.ignore_list)",function(t){return $(this).parent().addClass("active").siblings().removeClass("active"),$(this).closest(".w_report_periods").next().trigger("ujs_hook_recall"),t.preventDefault()})},e.prototype.draw_graphic=function(t){var e;return google.charts.load("current",{packages:["corechart"]}),t.html("Loading..."),e=function(){var e;return e=t.prev().find("ul"),$.getJSON(t.attr("data-url"),{period:e.find("li.active a").data("period")},function(n){var i,o;return i=google.visualization.arrayToDataTable(n),o={title:e.find("li.active").text(),hAxis:{title:n[0][0],minValue:0},vAxis:{minValue:0},legend:{position:"top"}},new google.visualization.AreaChart(t[0]).draw(i,o)})},google.charts.setOnLoadCallback(e)},e.ask_pledge_form=function(t){return t.find(".btn_no").click(function(){return $(this).closest(".btns").hide().next(".reschedule_panel").show(),!1})},e.make_donation=function(t){var e;return e=t.attr("action"),t.find('select[name="user_group_id"]').change(function(){var n;return(n=$(this).val())?(t.find(".payment_panel").show(),t.attr("action",e.replace("xxx",n))):t.find(".payment_panel").hide()}).trigger("change")},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.Payment=function(){function e(){this.reset_form=t(this.reset_form,this),this.paypal_payment=t(this.paypal_payment,this),this.stripe_payment=t(this.stripe_payment,this),this.rave_payment=t(this.rave_payment,this),this.recurring_payment=t(this.recurring_payment,this),this.card_payment=t(this.card_payment,this),this.form=t(this.form,this)}return e.prototype.form=function(t){return this.panel=t,this.form=this.panel.closest("form").on("ajax:complete",this.reset_form),this.card_payment(t),this.recurring_payment(t),$.fn.repeat_until_run("getpaidSetup",this.rave_payment)},e.prototype.card_payment=function(t){return t.on("change",'input[name="pay_with_saved_card"]',function(){return $(this).val()?(t.find(".token_payment_panel").show().find("select").addClass("required"),t.find(".card_payment_panel").hide()):(t.find(".token_payment_panel").hide().find("select").removeClass("required"),t.find(".card_payment_panel").show())}),t.find("button.btn-token").click(function(){return $(this).loadingButton(),t.closest("form").submit()})},e.prototype.recurring_payment=function(t){var e;return e=t.find(".custom_recurring_tpl").remove(),t.on("change","select.payment_recurring",function(){var t;return t=$(this).closest(".col_sel"),"custom"===$(this).val()?t.removeClass("col-md-12").addClass("col-md-6").next().html(e.clone()):t.addClass("col-md-12").removeClass("col-md-6").next().html("")}).find("select.payment_recurring").trigger("change")},e.prototype.rave_payment=function(){var t,e,n;return e=this.form,t=e.find(".rave_btn").click((n=this,function(){return!!e.valid()&&(e.find("input.card_token").val()?(e.find("input.payment_method").val("rave"),t.loadingButton(),e.submit(),!0):getpaidSetup({PBFPubKey:n.panel.attr("data-rave-key"),customer_email:n.panel.attr("data-email"),customer_firstname:n.panel.attr("data-name"),customer_phone:n.panel.attr("data-phone"),custom_logo:n.panel.attr("data-logo"),custom_title:"LoveRealm",amount:e.find('input[name="amount"]').val(),country:"GH",currency:n.panel.attr("data-currency"),txref:"rave-"+new Date,payment_method:"both",onclose:function(){},callback:function(n){"00"!==n.tx.chargeResponseCode&&"0"!==n.tx.chargeResponseCode||(e.find("input.card_token").val(n.tx.flwRef),setTimeout(function(){return $("#flwpugpaidid").remove(),t.click()},1500))}}))}))},e.prototype.stripe_payment=function(){var t,e,n,i;return e=this.form,t=e.find(".stripe_btn"),n=StripeCheckout.configure({key:this.panel.data("stripe-key"),image:this.panel.attr("data-logo"),locale:"auto",token:function(n){console.log("tokeen",n),e.find("input.card_token").val(n.id),t.click()}}),t.click((i=this,function(){return!!e.valid()&&(e.find("input.card_token").val()?(t.loadingButton(),e.find("input.payment_method").val("stripe"),e.submit(),!0):n.open({name:"LoveRealm",description:"",zipCode:!0,email:i.panel.attr("data-email"),amount:100*parseFloat(e.find('input[name="amount"]').val())}))}))},e.prototype.paypal_payment=function(){var t,e;return(t=this.form.find(".paypal_btn")).click((e=this,function(){return!!e.form.valid()&&(e.form.find("input.payment_method").val("paypal"),e.form.data("remote",!1).submit(),t.loadingButton())}))},e.prototype.reset_form=function(){return this.panel.find(".payment-btns button, .token_payment_panel .loadingButton").loadingButton(!0),this.panel.find("input.card_token, input.payment_method").val("")},e}()}.call(this),function(){}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.SearchManager=function(){function e(){this.map_churches=t(this.map_churches,this),this.init_church_events=t(this.init_church_events,this),this.make_filter=t(this.make_filter,this),this.sidebar=t(this.sidebar,this),this.init=t(this.init,this)}return e.prototype.init=function(t){return this.container=t,this.sidebar(),this.init_church_events()},e.prototype.sidebar=function(){var t,e;return(t=this.container.find(".sidebar_form")).on("submit",(e=this,function(t){return $(t.target).find('input[name="type"]').val(e.container.find("#content_search > .nav-tabs li.active a").attr("data-kind"))})),t.on("change",".list-group-item input:checkbox",function(t){return $(t.target).closest("form").submit()}),this.container.find("#content_search > .nav-tabs li a").on("ajax:success",function(t){return $(t.target).closest("li").addClass("active").siblings().removeClass("active")}).on("click",function(){var e;return e=t.find('input[name="type"]').val($(this).attr("data-kind")).end().serialize(),$(this).attr("href",t.attr("action")+"?"+e)})},e.prototype.make_filter=function(){},e.prototype.init_church_events=function(){return this.container.on("click",".results_container .btn-invite-external",function(){var t,e;return t="Using LoveRealm is free and will greatly benefit <b>"+$(this).data("title")+"</b>. Do you want to call <b>"+$(this).data("title")+"</b> and Invite them to create a LoveRealm Page?",(e=modal_tpl({content:t,title:"Invite to Join LoveRealm",cancel_btn:"No"})).find(".modal-footer").prepend("<a href='"+$(this).data("remote-url")+"' class='btn btn-primary ujs_hide_modal ujs_link_modal' "+Common.button_spinner()+" data-remote='true'>Yes</a>"),e.modal(),!1}).on("click",".btn-join-external",function(){return modal_tpl({content:"Are you an existing member of this church? Invite your church leaders to create a Church group. ITS FREE and will cause your church to grow. Ask them to contact LoveRealm\u2019s support team via <a href='mailto:support@loverealm.org'>support@loverealm.org</a>",title:"This Church doesn\u2019t have a LoveRealm Group"}).modal(),!1})},e.prototype.map_churches=function(t){var e,n,i,o,r;return this.map||(this.map=null),this.markers||(this.markers=[]),o=this,i=function(){return $.fn.repeat_until_run("google.maps",function(){var e,n,i,r,s;for(t.children('[data-lng!= ""]').each(function(t,e){var n,i,r,s;return e=$(e),s=new google.maps.LatLng(e.data("lat"),e.data("lng")),r=new google.maps.Marker({position:s,map:o.map}),(n=$("<div><h3>"+e.find(".name").text()+"</h3><div>"+e.find(".descr").text()+"</div> <hr> "+e.find(".media-right").html()+"</div>")).find(".btn").addClass("btn-sm"),i=new google.maps.InfoWindow({content:n.html()}),r.addListener("click",function(){return i.open(r.get("map"),r)}),o.markers.push(r)}),r=new google.maps.LatLngBounds,e=0,n=(s=o.markers).length;e<n;e++)i=s[e],r.extend(i.position);return o.map.setCenter(r.getCenter()),o.map.fitBounds(r)})},e=t.closest(".results_container"),(n=e.children(".churches_map")).length?i():(e.prepend('<div class="churches_map margin_bottom10" style="height: 280px;"></div>'),n=e.children(".churches_map"),$.fn.repeat_until_run("google.maps",(r=this,function(){var e,o;return e=t.children('[data-lng!= ""]').first(),o=new google.maps.LatLng(e.data("lat"),e.data("lng")),r.map=new google.maps.Map(n[0],{zoom:14,center:o}),setTimeout(function(){return google.maps.event.trigger(r.map,"resize")},800),google.maps.event.addListenerOnce(r.map,"bounds_changed",function(){if(r.map.getZoom()>15)return r.map.setZoom(15)}),i()})))},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.SidebarManager=function(){function e(){this.counseling=t(this.counseling,this),this.promotions_slider=t(this.promotions_slider,this)}return e.prototype.promotions_slider=function(t){return t.bxSlider({minSlides:1,maxSlides:1,slideMargin:0,pager:!1,infiniteLoop:!1,hideControlOnEnd:!0})},e.prototype.init_affix_panel=function(t){var e,n;return e=parseInt(t.data("bottom")||0),n=t.offset().top+e,$(window).on("scroll resize",function(){var i;return i=t.height(),$(window).scrollTop()-i+window.innerHeight>n?t.css({position:"fixed",bottom:e,width:t.parent().width()}):t.css({position:"relative",bottom:"inherit",width:"auto"})})},e.prototype.counseling=function(t){var e,n;return(n=t.find(".counselor_finder_select")).userAutoCompleter(),e=t.find(".search_counselor .invisible").clone(),n.on("change",function(){var t,i;return i=$(this).val(),t=e.clone(),n.closest(".form-group").next().replaceWith(t),i?(t.removeClass("invisible"),t.find("a").each(function(){return $(this).attr("href",$(this).attr("href").replace(CURRENT_USER.id,i))})):t.addClass("invisible")})},e.load_praying_request=function(t,e){return e?$.get("/dashboard/users/my_praying_list_requests",{content_id:t},function(t){return $("#sidebar .prayers-request").prepend(t)}):$.get("/dashboard/users/my_praying_list",{content_id:t},function(t){return $("#sidebar .prayers-list").prepend(t)})},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.UserGroupsSuggested=function(){function e(){this.banner=t(this.banner,this)}return e.prototype.banner=function(t){return t.find(".list_items").bxSlider({minSlides:3,maxSlides:4,slideMargin:2,slideWidth:169,pager:!1,infiniteLoop:!1,hideControlOnEnd:!0})},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.ChurchManagement=function(){function e(){this.new_converts_form=t(this.new_converts_form,this),this.new_members_form=t(this.new_members_form,this),this.tickets_sold_graphic=t(this.tickets_sold_graphic,this),this.payment_graphic=t(this.payment_graphic,this),this.total_payments_graphic=t(this.total_payments_graphic,this),this.attendances_graphic=t(this.attendances_graphic,this),this.new_members_graphic=t(this.new_members_graphic,this),this.converts_graphic=t(this.converts_graphic,this),this.broadcast_data=t(this.broadcast_data,this),this.invite_members=t(this.invite_members,this),this.devotions_form=t(this.devotions_form,this),this.broadcast_message_form=t(this.broadcast_message_form,this),this.broadcast_sms_form=t(this.broadcast_sms_form,this),this.promote_form=t(this.promote_form,this),this.communion_members=t(this.communion_members,this),this.baptised_members=t(this.baptised_members,this),this.baptised_members_form=t(this.baptised_members_form,this),this.counselors_form=t(this.counselors_form,this),this.commonest_graphic=t(this.commonest_graphic,this),this.members_sex_graphic=t(this.members_sex_graphic,this),this.age_range_of_members=t(this.age_range_of_members,this),this.map_countries=t(this.map_countries,this),this.grow_church=t(this.grow_church,this),this.photos_editor=t(this.photos_editor,this),this.basic_info=t(this.basic_info,this),this.dashboard=t(this.dashboard,this),this.heading=t(this.heading,this)}return e.prototype.heading=function(t){return t.find("select#current_branch").change(function(){return window.location.href=window.location.href.replace(/\/user_groups\/[0-9]+\//,"/user_groups/"+$(this).val()+"/")})},e.prototype.dashboard=function(t){return t.on("click","ul.report_periods a:not(.ignore_list)",function(t){return $(this).parent().addClass("active").siblings().removeClass("active"),$(this).closest(".w_report_periods").next().trigger("ujs_hook_recall"),t.preventDefault()})},e.prototype.basic_info=function(){},e.prototype.photos_editor=function(){},e.prototype.grow_church=function(){},e.prototype.map_countries=function(t){var e;return google.charts.load("current",{packages:["geochart"]}),t.html("Loading data..."),e=function(){return $.getJSON(t.attr("data-url"),function(e){var n,i;return t.html(""),n=new google.visualization.GeoChart(t[0]),i={defaultColor:"#cccccc",datalessRegionColor:"#cccccc",colorAxis:{colors:["#AADFF3","#AADFF3"]}},n.draw(google.visualization.arrayToDataTable(e),i),setTimeout(function(){var t,o,r,s,a,l;if(null!=(l=gvjs_PM.countries_en)?l.opa:void 0){for(t=swap_json_key_value(gvjs_PM.countries_en.opa),o=s=0,a=e.length;s<a;o=++s)t[(r=e[o])[0]]&&(e[o][0]=t[r[0]]);return n.draw(google.visualization.arrayToDataTable(e),i)}},500)})},google.charts.setOnLoadCallback(e)},e.prototype.age_range_of_members=function(t){var e;return google.charts.load("current",{packages:["bar"]}),t.html("Loading..."),e=function(){return $.getJSON(t.attr("data-url"),function(e){var n,i;return t.html(""),n=google.visualization.arrayToDataTable(e),i={chart:{title:"",subtitle:""},bars:"horizontal"},new google.charts.Bar(t[0]).draw(n,google.charts.Bar.convertOptions(i))})},google.charts.setOnLoadCallback(e)},e.prototype.members_sex_graphic=function(t){var e;return google.charts.load("current",{packages:["corechart"]}),t.html("Loading..."),e=function(){return $.getJSON(t.attr("data-url"),function(e){var n,i;return t.html(""),(n=new google.visualization.DataTable).addColumn("string","Topping"),n.addColumn("number","Slices"),n.addRows(e),i={title:"",colors:["#56AF42","#267ED1"]},new google.visualization.PieChart(t[0]).draw(n,i)})},google.charts.setOnLoadCallback(e)},e.prototype.commonest_graphic=function(t){var e;return google.charts.load("current",{packages:["bar"]}),t.html("Loading..."),e=function(){return $.getJSON(t.attr("data-url"),function(e){var n,i;return n=google.visualization.arrayToDataTable(e),i={chart:{title:"",subtitle:""}},new google.charts.Bar(t[0]).draw(n,google.charts.Bar.convertOptions(i))})},google.charts.setOnLoadCallback(e)},e.prototype.counselors_form=function(t){return t.find("select").userAutoCompleter({listable:!0,searchable:!1}),t.validate()},e.prototype.baptised_members_form=function(t){return t.find("select").userAutoCompleter({listable:!0,searchable:!0}),t.validate()},e.prototype.baptised_members=function(t){var e;return google.charts.load("current",{packages:["corechart"]}),t.html("Loading..."),e=function(){return $.getJSON(t.attr("data-url"),function(e){var n,i;return n=google.visualization.arrayToDataTable(e),i={title:"",hAxis:{title:"Months",titleTextStyle:{color:"#333"}},vAxis:{title:"Members",minValue:0}},new google.visualization.AreaChart(t[0]).draw(n,i)})},google.charts.setOnLoadCallback(e)},e.prototype.communion_members=function(t){var e;return google.charts.load("current",{packages:["corechart"]}),t.html("Loading..."),e=function(){return $.getJSON(t.attr("data-url"),function(e){var n,i;return n=google.visualization.arrayToDataTable(e),i={title:"",hAxis:{title:"Months",titleTextStyle:{color:"#333"}},vAxis:{title:"Members",minValue:0},legend:{position:"top"}},new google.visualization.AreaChart(t[0]).draw(n,i)})},google.charts.setOnLoadCallback(e)},e.prototype.promote_form=function(t){
return t.find(".period").datetimepicker({format:"YYYY-MM-DD",minDate:new Date}),t.find("select[multiple]").each(function(){if($(this).val()===[]||!$(this).val())return $(this).children().first().prop("selected",!0)}),t.find("select").select2({width:"100%"}),t.find("input:file").filestyle_default(),t.validate()},e.prototype.broadcast_sms_form=function(t){var e,n,i,o,r;return e=function(t){return t.find("input:file").filestyle_default(),t.find("select[multiple]").select2({width:"100%"})},i=t.find(".custom_tpl").clone(),n=t.find(".custom_tpl").html(""),r=t.find(".members_tpl").clone(),o=t.find(".members_tpl").html(""),t.find("select.to_kind").change(function(){return console.log("changeedddd",this),"members"===$(this).val()?(n.html(""),o.html(r.clone().html()),e(o)):(n.html(i.clone().html()),o.html(""),e(n))}).trigger("change")},e.prototype.broadcast_message_form=function(t){return t.find("select[multiple]").select2({width:"100%"})},e.prototype.devotions_form=function(t){return t.find("textarea.editor").feedEditor({height:"240px"}),t.find("input:file").filestyle_default(),t.find(".datepicker").datetimepicker({format:"YYYY-MM-DD"}),t.find(".tags").tags_autocomplete(),t.validate()},e.prototype.invite_members=function(t){return t.find("input:file").filestyle_default(),t.wizard_validation(".next_btn"),t.find("#church_member_invitation_pastor_name").change(function(){return t.find(".sms_msg").html(t.find(".sms_msg_tpl").html().replace("(name of pastor)",$(this).val()))})},e.prototype.broadcast_data=function(t){var e;return google.charts.load("current",{packages:["corechart"]}),t.html("Loading..."),e=function(){var e;return e=t.prev().find("ul"),$.getJSON(t.attr("data-url"),{period:e.find("li.active a").data("period")},function(n){var i,o;return i=google.visualization.arrayToDataTable(n),o={title:e.find("li.active").text(),hAxis:{title:n[0][0],minValue:0},vAxis:{minValue:0},legend:{position:"top"}},new google.visualization.AreaChart(t[0]).draw(i,o)})},google.charts.setOnLoadCallback(e)},e.prototype.converts_graphic=function(t){var e;return google.charts.load("current",{packages:["corechart"]}),t.html("Loading..."),e=function(){var e;return e=t.prev().find("ul"),$.getJSON(t.attr("data-url"),{period:e.find("li.active a").data("period")},function(n){var i,o;return i=google.visualization.arrayToDataTable(n),o={title:e.find("li.active").text(),hAxis:{title:n[0][0],minValue:0},vAxis:{minValue:0},legend:{position:"top"}},new google.visualization.AreaChart(t[0]).draw(i,o)})},google.charts.setOnLoadCallback(e)},e.prototype.new_members_graphic=function(t){var e;return google.charts.load("current",{packages:["corechart"]}),t.html("Loading..."),e=function(){var e;return e=t.prev().find("ul"),$.getJSON(t.attr("data-url"),{period:e.find("li.active a").data("period")},function(n){var i,o;return i=google.visualization.arrayToDataTable(n),o={title:e.find("li.active").text(),hAxis:{title:n[0][0],minValue:0},vAxis:{minValue:0},legend:{position:"top"}},new google.visualization.AreaChart(t[0]).draw(i,o)})},google.charts.setOnLoadCallback(e)},e.prototype.attendances_graphic=function(t){var e;return google.charts.load("current",{packages:["corechart"]}),t.html("Loading..."),e=function(){var e;return e=t.prev().find("ul"),$.getJSON(t.attr("data-url"),{period:e.find("li.active a").data("period")},function(n){var i,o;return i=google.visualization.arrayToDataTable(n),o={title:e.find("li.active").text(),hAxis:{title:n[0][0],minValue:0},vAxis:{minValue:0},legend:{position:"top"}},new google.visualization.AreaChart(t[0]).draw(i,o)})},google.charts.setOnLoadCallback(e)},e.prototype.total_payments_graphic=function(t){var e;return google.charts.load("current",{packages:["corechart"]}),t.html("Loading..."),e=function(){var e;return e=t.prev().find("ul"),$.getJSON(t.attr("data-url"),{period:e.find("li.active a").data("period")},function(n){var i,o;return i=google.visualization.arrayToDataTable(n),o={title:e.find("li.active").text(),hAxis:{title:n[0][0],minValue:0},vAxis:{minValue:0,title:CURRENCY_UNIT},legend:{position:"top"}},new google.visualization.AreaChart(t[0]).draw(i,o)})},google.charts.setOnLoadCallback(e)},e.prototype.payment_graphic=function(t){var e;return google.charts.load("current",{packages:["corechart"]}),t.html("Loading..."),e=function(){var e;return e=t.prev().find("ul"),$.getJSON(t.attr("data-url"),{period:e.find("li.active a").data("period")},function(n){var i,o;return i=google.visualization.arrayToDataTable(n),o={title:e.find("li.active").text(),hAxis:{title:n[0][0],minValue:0},vAxis:{minValue:0,title:CURRENCY_UNIT},legend:{position:"top"}},new google.visualization.AreaChart(t[0]).draw(i,o)})},google.charts.setOnLoadCallback(e)},e.prototype.tickets_sold_graphic=function(t){var e;return google.charts.load("current",{packages:["corechart"]}),t.html("Loading..."),e=function(){var e;return e=t.prev().find("ul"),$.getJSON(t.attr("data-url"),{period:e.find("li.active a").data("period")},function(n){var i,o;return i=google.visualization.arrayToDataTable(n),o={title:e.find("li.active").text(),hAxis:{title:n[0][0],minValue:0},vAxis:{minValue:0,title:CURRENCY_UNIT},legend:{position:"top"}},new google.visualization.AreaChart(t[0]).draw(i,o)})},google.charts.setOnLoadCallback(e)},e.prototype.new_members_form=function(t){var e;return e=function(t,e){return t.find(".col2").append("<label class='btn btn-default btn-sm'>Admin <input name='new_admin_ids[]' value='"+e.id+"'' "+(e.is_admin?"checked":void 0)+" class='badgebox' type='checkbox'><span class='badge'>&check;</span></label>")},t.find(".sel_members").userAutoCompleter({listable:{on_selected:e},language:{noResults:function(){var t;return(t=$("#church_invite_btn").clone().addClass("link_no_result_select2")).removeAttr("id").html("This user has not been found in the system, would you like to invite him/her?"),t[0].outerHTML}}})},e.prototype.new_converts_form=function(t){return t.find(".sel_members").userAutoCompleter({listable:{on_selected:function(){}},language:{noResults:function(){var t;return(t=$("#church_invite_btn").clone().addClass("link_no_result_select2")).removeAttr("id").html("This user has not been found in the system, would you like to invite him/her?"),t[0].outerHTML}}})},e.manual_payment=function(t){var e,n,i,o;return n=t.find(".pledge_tpl .payment_at_tpl").html(),i=t.find(".pledge_tpl .payment_in_tpl").html(),t.find(".payment_in_tpl").html(""),o=t.find(".pledge_tpl").html(),e=t.find(".others_tpl").html(),t.find("#payment_goal").change(function(){return"pledge"===$(this).val()?(t.find(".pledge_tpl").html(o),t.find(".others_tpl").html("")):(t.find(".pledge_tpl").html(""),t.find(".others_tpl").html(e))}).trigger("change"),t.on("change",".paid_radio",function(){return"yes"===$(this).val()?(t.find(".pledge_tpl .payment_at_tpl").html(n),t.find(".pledge_tpl .payment_in_tpl").html(""),t.find("#payment_user_id").removeClass("required").prev().html("Member")):(t.find(".pledge_tpl .payment_at_tpl").html(""),t.find(".pledge_tpl .payment_in_tpl").html(i),t.find("#payment_user_id").addClass("required").prev().html("Member (*)"))})},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.ChurchEvents=function(){function e(){this.buy=t(this.buy,this),this.attend=t(this.attend,this),this.form=t(this.form,this)}return e.prototype.form=function(t){return t.find("input.filestyle").filestyle_default(),t.find("div.input-group.time").datetimepicker(),t.validate(),t.on("ajax:success",function(t,e){if($("#content_feed").length)return ContentManager.add_content(e.content_id,!0)})},e.prototype.attend=function(t){return t.find(".credit_card").card_field()},e.prototype.buy=function(){return console.log("")},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.UserGroupPage=function(){function e(){this.membersList=t(this.membersList,this),this.manageMenus=t(this.manageMenus,this),this.update=t(this.update,this),this.bannerForm=t(this.bannerForm,this),this.add_members_form=t(this.add_members_form,this),this.donation_form_dialog=t(this.donation_form_dialog,this),this.payment_form=t(this.payment_form,this)}return e.prototype.init=function(t){return this.panel=t,this.bannerForm(),this.manageMenus()},e.prototype.payment_form=function(t){var e;return t.find(".payment_qty .next_btn").click(function(){return $(this).closest(".panel_form").valid_panel()&&$(this).closest(".panel_form").hide().next().show(),!1}),"",e="<div class=\"form-group\">\n  <div class='time_picker input-group hook_caller' data-callback='Common.render_datepicker'>\n    <span class='input-group-addon'>Date to pay:</span>\n    <input type='text' name='pledge_date' class='form-control required'/>\n    <span class='input-group-addon'> <span class='glyphicon glyphicon-calendar'></span> </span>\n  </div>\n</div>\n<div class='text-center'>\n  <button class='btn btn-primary' "+Common.button_spinner()+">Register Payment</button>\n</div>",setTimeout(function(){return t.find(".payment_recurring_w").html()},100),t.on("click",".payment_options .list-group-item",function(){var n;return(n=$(this).addClass("active").find("input")).prop("checked",!0),"partner"===n.val()||"tithe"===n.val()?t.find(".payment_recurring_w").html("<div class='form-group'><label class='checkbox-inline'><input type='checkbox' checked disabled> Monthly Payment</label></div>"):"pledge"===n.val()?t.find(".payment_qty .amount_next_btn").replaceWith(e):t.find(".payment_recurring_w").html(""),$(this).closest(".panel_form").hide().next().show(),!1}),t.validate({ignore:""})},e.prototype.donation_form_dialog=function(t){return t.validate({ignore:""})},e.prototype.add_members_form=function(t){return t.validate(),t.find("select").userAutoCompleter()},e.prototype.bannerForm=function(){var t;return this.panel.find(".banner_form").on("ajax:success",(t=this,function(e,n){return t.panel.find("#group_header .banner").css("background-image","url("+n.image+")")}))},e.prototype.update=function(t){return this.panel.find("#sidebar .group-description").html(t.description),this.panel.find("#group_header .title").html(t.name),this.panel.find("#group_header .image").html(t.name)},e.prototype.manageMenus=function(){var t,e;return(t=this.panel.find("#group_menus")).on("ajax:before",'a[data-remote="true"]',function(t){return!$(t.currentTarget).hasClass("loaded")}),t.on("ajax:success",'a[data-remote="true"]',(e=this,function(t,n){var i,o;return(i=$(t.currentTarget)).addClass("loaded"),(o=$(i.attr("data-target"))).html(n),e.membersList(o.children(".members_container").attr("data-total-pages"))}))},e.prototype.membersList=function(){return 1},e.ask_communion=function(t){var e;return e="<p>Did you take communion today?</p><div class='text-right' style='margin-top: 40px'><a href='/dashboard/user_groups/"+t.id+"/save_communion?answer=true' data-remote='true' "+Common.button_spinner()+" class='ujs_hide_modal btn btn-primary'>Yes</a> &nbsp;<a href='/dashboard/user_groups/"+t.id+"/save_communion?answer=false' data-remote='true' "+Common.button_spinner()+" class='ujs_hide_modal btn btn-default'>No</a></div>",modal_tpl({title:"Communion - "+t.name,content:e}).modal()},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.UserGroupForm=function(){function e(){this.mask_select_friends=t(this.mask_select_friends,this),this.deletable=t(this.deletable,this),this.counselors_builder=t(this.counselors_builder,this),this.map_builder=t(this.map_builder,this),this.meetings_builder=t(this.meetings_builder,this),this.wizard_form=t(this.wizard_form,this),this.submitable=t(this.submitable,this),this.init=t(this.init,this)}return e.prototype.init=function(t){return this.panel=t,this.tpl=this.panel.next(".form_tpl"),this.panel.validate({ignore:""}),this.mask_select_friends(),this.submitable(),this.deletable(),this.wizard_form()},e.prototype.submitable=function(){var t;return(t=this.panel).on("ajax:success",function(e,n){return t.hasClass("edit_form")?(window.user_group_manage.update(n),$("#temporal_modal").modal("hide")):window.location.href="/dashboard/user_groups/"+n.id})},e.prototype.wizard_form=function(){var t,e,n;return this.panel.wizard_validation(),t='<button type="submit" class="btn btn-primary" data-disable-with="<i class=\'fa fa-spinner fa-spin\'></i> Submitting...">Finish</button>',n=this,e=function(e){var i;return-1!==$.inArray(e,n.panel.attr("data-meetings-support").split(","))?0===n.panel.find("#user_group_wizard5").length&&((i=$('<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a data-toggle="collapse" data-parent="#user_group_wizard" href="#user_group_wizard5">Meeting Times</a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" id="user_group_wizard5">\n    <div class="panel-body">\n      \n      <a class="btn-add" href=\'#\'>Add next meeting</a>\n      <div class="text-center p_btn">\n      </div>\n    </div>\n  </div>\n</div>')).find(".panel-body").prepend(n.tpl.find(".meetings_tpl").clone()),n.panel.find("#user_group_wizard3").closest(".panel").after(i),n.meetings_builder()):n.panel.find("#user_group_wizard5").closest(".panel").remove(),-1!==$.inArray(e,["church"])?0===n.panel.find("#user_group_wizard6").length&&((i=$('<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a data-toggle="collapse" data-parent="#user_group_wizard" href="#user_group_wizard6">Church Settings</a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" id="user_group_wizard6">\n    <div class="panel-body">\n      \n      <div class="text-center p_btn">\n      </div>\n    </div>\n  </div>\n</div>')).find(".panel-body").prepend(n.tpl.find(".only_churches_tpl").clone()),i.find(".panel-heading a").on("click",function(){return n.panel.trigger("update_map")}),n.panel.find("#user_group_wizard5").closest(".panel").after(i),n.counselors_builder(),n.map_builder()):n.panel.find("#user_group_wizard6").closest(".panel").remove(),n.panel.find(".p_btn").html('<a class="btn btn-primary btn-next" href="#">Next</a>').filter(":last").html(t)},this.panel.find(".group_kind").on("change",function(){return e($(this).val())}).trigger("change")},e.prototype.meetings_builder=function(){var t,e;return e=this.panel.find("#user_group_wizard5 .panel-body"),t=e.find(".tpl").remove(),e.find(".btn-add").click(function(){return e.trigger("add_item"),!1}),e.bind("add_item",function(){return e.find(".meetings_list").append(t.clone())}),0===e.find(".meetings_list").children().length&&e.trigger("add_item"),e.on("click",".btn-del-meeting",function(){var t;return(t=$(this).closest(".meeting-item")).hasClass("tpl")?t.removeAnimated():t.hide().find("input:checkbox").prop("checked",!0),!1})},e.prototype.map_builder=function(){return $.fn.repeat_until_run("google.maps",(t=this,function(){return Common.map_location_builder(t.panel,{marked_dialog:"Here is my church",marked_tooltip:"Move and pin exact point of your church"})}));var t},e.prototype.counselors_builder=function(){return this.panel.find("#user_group_wizard6 .panel-body").find("select").not(".no_select2").select2({width:"100%",placeholder:"Type in here the name of the counselors you want to add to this group."})},e.prototype.deletable=function(){},e.prototype.mask_select_friends=function(){var t,e;return this.panel.find(".members_list"),this.panel.find("#user_group_hashtag_ids").select2({width:"100%"}),e=function(t,e){return t.find(".col2").append("<label class='btn btn-default btn-sm'>Admin <input name='user_group[new_admin_ids][]' value='"+e.id+"'' "+(e.is_admin?"checked":void 0)+" class='badgebox' type='checkbox'><span class='badge'>&check;</span></label>")},this.panel.find("select.participants").userAutoCompleter({listable:{on_selected:e}}),(t=this.panel.find("input:file")).filestyle({buttonBefore:!0,buttonText:" "+t.attr("title"),iconName:"glyphicon glyphicon-camera",input:!1})},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.User=function(){function e(){this.my_revenue_graph=t(this.my_revenue_graph,this)}return e.VERIYING=[],e.prototype.online_checked=function(t){return this.constructor.VERIYING.push(t)},e.prototype.is_online=function(){return!0},e.ping_verification=function(){if(this.VERIYING.length>0)return $.get("....")},e.prototype.my_revenue_graph=function(t){var e,n,i;return i=t.data("result"),n=function(){var e,n,o,r,s;for(n in s=[["Months",CURRENCY_UNIT]],i)r=i[n],s.push([n,parseFloat(r)]);return e=google.visualization.arrayToDataTable(s),o={title:"",hAxis:{title:"Months"},vAxis:{minValue:0},height:450},new google.visualization.AreaChart(t[0]).draw(e,o)},e=function(){return google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(n)},$.fn.repeat_until_run("google.charts",e)},e.prototype.autocomplete=function(t){return t.userAutoCompleter()},e.welcome_form=function(t){var e;return(e=t.find(".step1")).find("input:checkbox").change(function(){return e.trigger("change")}),e.on("change",function(){return e.find("input:checkbox:checked").length>0||e.find("select").val()?e.find(".next_btn a").removeClass("disabled"):e.find(".next_btn a").addClass("disabled")}).trigger("change"),t.find(".carousel").on("slide.bs.carousel",function(){return t.find(".file_upload_btn").show()}),t.find(".country_sel").change(function(){return t.find("#user_country_code").val("+"+$(this).find("option:selected").attr("data-code"))})},e.preferences_form=function(t){return t.find(".country_sel").change(function(){return t.find("#user_country_code").val("+"+$(this).find("option:selected").attr("data-code"))})},e}(),window.user_avatar_widget=function(t,e,n){var i,o;return e||(e=90),i="",(n=$.extend({},{link:!0,"class":""},n||{})).link&&(i="href='/dashboard/users/"+t.id+"/profile'"),'<a class="avatar_widget" '+i+' data-id="'+t.id+'" title="'+(null!=(o=t.full_name)?o.skip_badge():void 0)+'"><img class="media-object img-responsive avatar_image" style="width: '+e+"px; height: "+e+"px; min-width: "+e+'px;" src="'+t.avatar_url+'" alt=""></a>'}}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.ProfileManager=function(){function e(){this.my_preferences_edit=t(this.my_preferences_edit,this),this.edit_information=t(this.edit_information,this)}return e.prototype.edit_information=function(t){return $.fn.repeat_until_run("google.maps.places",function(){return new google.maps.places.Autocomplete(t.find(".city_field")[0])}),t.find(".profession_select").userAutoCompleter(),t.validate()},e.prototype.my_preferences_edit=function(t){return t.find("select[multiple]").each(function(){if($(this).val()===[]||!$(this).val())return $(this).children().first().prop("selected",!0)}),t.find("select").select2({width:"100%"}),t.validate()},e}(),window.user_profile_page=function(){var t,e;return e=$("#main_container").find("#sidebar"),t=e.find(".gallery_images").imagesLoaded(function(){return t.isotope({itemSelector:".grid-item",layoutMode:"masonry",columnWidth:165,gutterWidth:5})})}}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.FriendSuggestionsManager=function(){function e(){this.pending_friends=t(this.pending_friends,this),this.make_friends=t(this.make_friends,this),this.scrollEvents=t(this.scrollEvents,this),this.closable=t(this.closable,this)}return e.prototype.init=function(t){return this.panel=t,this.is_widget=this.panel.removeClass("overflow_hidden").hasClass("friends_suggestions_widget"),this.is_widget&&this.scrollEvents(),this.make_friends(),this.pending_friends(),this.closable()},e.prototype.closable=function(){return this.panel.find(".close_btn").click(function(t){return t.preventDefault(),$(this).closest(".more_suggestions_block").remove()})},e.prototype.scrollEvents=function(){return this.panel.find(".list_items").bxSlider({minSlides:3,maxSlides:4,slideMargin:2,slideWidth:169,pager:!1,infiniteLoop:!1,hideControlOnEnd:!0})},e.prototype.make_friends=function(){var t;return t=this.is_widget?".item_card":".media",this.panel.on("ajax:success",".become_friends",function(){var e;return(e=$(this).prop("disabled",!0).addClass("disabled")).closest(t).find(".btn-ignore").css("visibility","hidden"),setTimeout(function(){return e.html("Request Sent")},100)}),this.panel.on("ajax:success",".btn-ignore",function(){return $(this).closest(t).fadeOut()})},e.prototype.pending_friends=function(){var t;if((t=this.panel.find(".pending-friends-list")).length)return t.on("ajax:success",".btn-accept",function(){var t;return(t=$(this).prop("disabled",!0).addClass("disabled")).closest(".media").find(".btn-reject").css("visibility","hidden"),setTimeout(function(){return t.html("Request Accepted")},100)}),this.panel.on("ajax:success",".btn-reject",function(){return $(this).closest(".media").fadeOut()})},e}()}.call(this),function(){window.init_public_home_page=function(){}}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(this.length){var n=t.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(e){function i(){var i,o;return!n.settings.submitHandler||(n.submitButton&&(i=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),o=n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&i.remove(),void 0!==o&&o)}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,n,i;return t(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,n=t(this[0].form).validate(),this.each(function(){e=n.element(this)&&e,i=i.concat(n.errorList)}),n.errorList=i),e},rules:function(e,n){var i,o,r,s,a,l,c=this[0];if(e)switch(i=t.data(c.form,"validator").settings,o=i.rules,r=t.validator.staticRules(c),e){case"add":t.extend(r,t.validator.normalizeRule(n)),delete r.messages,o[c.name]=r,n.messages&&(i.messages[c.name]=t.extend(i.messages[c.name],n.messages));break;case"remove":return n?(l={},t.each(n.split(/\s/),function(e,n){l[n]=r[n],delete r[n],"required"===n&&t(c).removeAttr("aria-required")}),l):(delete o[c.name],r)}return(s=t.validator.normalizeRules(t.extend({},t.validator.classRules(c),t.validator.attributeRules(c),t.validator.dataRules(c),t.validator.staticRules(c)),c)).required&&(a=s.required,delete s.required,s=t.extend({required:a},s),t(c).attr("aria-required","true")),s.remote&&(a=s.remote,delete s.remote,s=t.extend(s,{remote:a})),s}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,n){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(e)||-1!==t.inArray(n.keyCode,i)||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(i):t(e).addClass(n).removeClass(i)},unhighlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(i):t(e).removeClass(n).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=t.data(this.form,"validator"),i="on"+e.type.replace(/^validate/,""),o=n.settings;o[i]&&!t(this).is(o.ignore)&&o[i].call(n,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){i[n]=e})}),n=this.settings.rules,t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var n=this.clean(e),i=this.validationTargetFor(n),o=!0;return this.lastElement=i,void 0===i?delete this.invalid[n.name]:(this.prepareElement(i),this.currentElements=t(i),(o=!1!==this.check(i))?delete this.invalid[i.name]:this.invalid[i.name]=!0),t(e).attr("aria-invalid",!o),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),o},showErrors:function(e){if(e){for(var n in t.extend(this.errorMap,e),this.errorList=[],e)this.errorList.push({message:e[n],element:this.findByName(n)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var e,n=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(e=0;n[e];e++)this.settings.unhighlight.call(this,n[e],this.settings.errorClass,"");else n.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in n||!e.objectLength(t(this).rules()))&&(n[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n,i=t(e),o=e.type;return"radio"===o||"checkbox"===o?this.findByName(e.name).filter(":checked").val():"number"===o&&"undefined"!=typeof e.validity?!e.validity.badInput&&i.val():"string"==typeof(n=i.val())?n.replace(/\r/g,""):n},check:function(e){e=this.validationTargetFor(this.clean(e));var n,i,o,r=t(e).rules(),s=t.map(r,function(t,e){return e}).length,a=!1,l=this.elementValue(e);for(i in r){o={method:i,parameters:r[i]};try{if("dependency-mismatch"===(n=t.validator.methods[i].call(this,l,e,o.parameters))&&1===s){a=!0;continue}if(a=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,o),!1}catch(c){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+o.method+"' method.",c),c instanceof TypeError&&(c.message+=".  Exception occurred when checking element "+e.id+", check the '"+o.method+"' method."),c}}if(!a)return this.objectLength(r)&&this.successList.push(e),!0},customDataMessage:function(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,n){return this.findDefined(this.customMessage(e.name,n),this.customDataMessage(e,n),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,n){var i=this.defaultMessage(e,n.method),o=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,e):o.test(i)&&(i=t.validator.format(i.replace(o,"{$1}"),n.parameters)),this.errorList.push({message:i,element:e,method:n.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass)
;this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var i,o,r,s=this.errorsFor(e),a=this.idOrName(e),l=t(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(i=s=t("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,t(e)):i.insertAfter(e),s.is("label")?s.attr("for",a):0===s.parents("label[for='"+a+"']").length&&(r=s.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),l?l.match(new RegExp("\\b"+r+"\\b"))||(l+=" "+r):l=r,t(e).attr("aria-describedby",l),(o=this.groups[e.name])&&t.each(this.groups,function(e,n){n===o&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",s.attr("id"))}))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var n=this.idOrName(e),i=t(e).attr("aria-describedby"),o="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(o=o+", #"+i.replace(/\s+/g,", #")),this.errors().filter(o)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,n){return!!t(e,n.form).length},"function":function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},i=t(e).attr("class");return i&&t.each(i.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},normalizeAttributeRule:function(t,e,n,i){/min|max/.test(n)&&(null===e||/number|range|text/.test(e))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?t[n]=i:e===n&&"range"!==e&&(t[n]=!0)},attributeRules:function(e){var n,i,o={},r=t(e),s=e.getAttribute("type");for(n in t.validator.methods)"required"===n?(""===(i=e.getAttribute(n))&&(i=!0),i=!!i):i=r.attr(n),this.normalizeAttributeRule(o,s,n,i);return o.maxlength&&/-1|2147483647|524288/.test(o.maxlength)&&delete o.maxlength,o},dataRules:function(e){var n,i,o={},r=t(e),s=e.getAttribute("type");for(n in t.validator.methods)i=r.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),this.normalizeAttributeRule(o,s,n,i);return o},staticRules:function(e){var n={},i=t.data(e.form,"validator");return i.settings.rules&&(n=t.validator.normalizeRule(i.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(i,o){if(!1!==o){if(o.param||o.depends){var r=!0;switch(typeof o.depends){case"string":r=!!t(o.depends,n.form).length;break;case"function":r=o.depends.call(n,n)}r?e[i]=void 0===o.param||o.param:delete e[i]}}else delete e[i]}),t.each(e,function(i,o){e[i]=t.isFunction(o)?o(n):o}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,i){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==i?i:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var o=t(n).val();return o&&o.length>0}return this.checkable(n)?this.getLength(e,n)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n,i,o=0,r=0,s=!1;if((t=t.replace(/\D/g,"")).length<13||t.length>19)return!1;for(n=t.length-1;n>=0;n--)i=t.charAt(n),r=parseInt(i,10),s&&(r*=2)>9&&(r-=9),o+=r,s=!s;return o%10==0},minlength:function(e,n,i){var o=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||o>=i},maxlength:function(e,n,i){var o=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||i>=o},rangelength:function(e,n,i){var o=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||o>=i[0]&&o<=i[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},equalTo:function(e,n,i){var o=t(i);return this.settings.onfocusout&&o.off(".validate-equalTo").on("blur.validate-equalTo",function(){t(n).valid()}),e===o.val()},remote:function(e,n,i){if(this.optional(n))return"dependency-mismatch";var o,r,s=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),s.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=s.message,i="string"==typeof i&&{url:i}||i,s.old===e?s.valid:(s.old=e,o=this,this.startRequest(n),(r={})[n.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:r,context:o.currentForm,success:function(i){var r,a,l,c=!0===i||"true"===i;o.settings.messages[n.name].remote=s.originalMessage,c?(l=o.formSubmitted,o.prepareElement(n),o.formSubmitted=l,o.successList.push(n),delete o.invalid[n.name],o.showErrors()):(r={},a=i||o.defaultMessage(n,"remote"),r[n.name]=s.message=t.isFunction(a)?a(e):a,o.invalid[n.name]=!0,o.showErrors(r)),s.valid=c,o.stopRequest(n,c)}},i)),"pending")}}});var e,n={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,i){var o=t.port;"abort"===t.mode&&(n[o]&&n[o].abort(),n[o]=i)}):(e=t.ajax,t.ajax=function(i){var o=("mode"in i?i:t.ajaxSettings).mode,r=("port"in i?i:t.ajaxSettings).port;return"abort"===o?(n[r]&&n[r].abort(),n[r]=e.apply(this,arguments),n[r]):e.apply(this,arguments)})});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var e;try{e=require("jquery")}catch(n){e=null}module.exports=t(e)}else window&&(window.Slider=t(window.jQuery))}(function(t){var e,n="slider",i="bootstrapSlider";return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),function(t){"use strict";function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,n){t.fn[e]=function(o){if("string"==typeof o){for(var s=i.call(arguments,1),a=0,l=this.length;a<l;a++){var c=this[a],u=t.data(c,e);if(u)if(t.isFunction(u[o])&&"_"!==o.charAt(0)){var d=u[o].apply(u,s);if(d!==undefined&&d!==u)return d}else r("no such method '"+o+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}var h=this.map(function(){var i=t.data(this,e);return i?(i.option(o),i._init()):(i=new n(this,o),t.data(this,e,i)),t(this)});return!h||h.length>1?h:h[0]}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),o(t,e)},t.bridget}}var i=Array.prototype.slice;n(t)}(t),function(t){function o(e,n){function i(t,e){var n="data-slider-"+e.replace(/_/g,"-"),i=t.getAttribute(n);try{return JSON.parse(i)}catch(o){return i}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),n=n||{};for(var o=Object.keys(this.defaultOptions),r=0;r<o.length;r++){var a=o[r],l=n[a];l=null!==(l=void 0!==l?l:i(this.element,a))?l:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=l}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var c,u,d,h,f,p=this.element.style.width,m=!1,g=this.element.parentNode;if(this.sliderElem)m=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var v=document.createElement("div");v.className="slider-track",(u=document.createElement("div")).className="slider-track-low",(c=document.createElement("div")).className="slider-selection",(d=document.createElement("div")).className="slider-track-high",(h=document.createElement("div")).className="slider-handle min-slider-handle",h.setAttribute("role","slider"),h.setAttribute("aria-valuemin",this.options.min),h.setAttribute("aria-valuemax",this.options.max),(f=document.createElement("div")).className="slider-handle max-slider-handle",f.setAttribute("role","slider"),f.setAttribute("aria-valuemin",this.options.min),f.setAttribute("aria-valuemax",this.options.max),v.appendChild(u),v.appendChild(c),v.appendChild(d),this.rangeHighlightElements=[];var y=this.options.rangeHighlights;if(Array.isArray(y)&&y.length>0)for(var b=0;b<y.length;b++){var _=document.createElement("div"),w=y[b]["class"]||"";_.className="slider-rangeHighlight slider-selection "+w,this.rangeHighlightElements.push(_),v.appendChild(_)}var k=Array.isArray(this.options.labelledby);if(k&&this.options.labelledby[0]&&h.setAttribute("aria-labelledby",this.options.labelledby[0]),k&&this.options.labelledby[1]&&f.setAttribute("aria-labelledby",this.options.labelledby[1]),!k&&this.options.labelledby&&(h.setAttribute("aria-labelledby",this.options.labelledby),f.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",r=0;r<this.options.ticks.length;r++){var C=document.createElement("div");if(C.className="slider-tick",this.options.ticks_tooltip){var S=this._addTickListener(),x=S.addMouseEnter(this,C,r),E=S.addMouseLeave(this,C);this.ticksCallbackMap[r]={mouseEnter:x,mouseLeave:E}}this.ticks.push(C),this.ticksContainer.appendChild(C)}c.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",r=0;r<this.options.ticks_labels.length;r++){var T=document.createElement("div"),A=0===this.options.ticks_positions.length,I=this.options.reversed&&A?this.options.ticks_labels.length-(r+1):r;T.className="slider-tick-label",T.innerHTML=this.options.ticks_labels[I],this.tickLabels.push(T),this.tickLabelContainer.appendChild(T)}var D=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",t.appendChild(e),t.appendChild(n)},L=document.createElement("div");L.className="tooltip tooltip-main",L.setAttribute("role","presentation"),D(L);var R=document.createElement("div");R.className="tooltip tooltip-min",R.setAttribute("role","presentation"),D(R);var P=document.createElement("div");P.className="tooltip tooltip-max",P.setAttribute("role","presentation"),D(P),this.sliderElem.appendChild(v),this.sliderElem.appendChild(L),this.sliderElem.appendChild(R),this.sliderElem.appendChild(P),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(h),this.sliderElem.appendChild(f),g.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),s[this.options.scale]&&(this.options.scale=s[this.options.scale]),!0===m&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-right"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=p,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=u||this.trackLow,this.trackSelection=c||this.trackSelection,this.trackHigh=d||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=h||this.handle1,this.handle2=f||this.handle2,!0===m)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),r=0;r<this.ticks.length;r++)this._removeClass(this.ticks[r],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),r=0;r<this.ticks.length;r++)this._addClass(this.ticks[r],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var M=!1;try{var N=Object.defineProperty({},"passive",{get:function(){M=!0}});window.addEventListener("test",null,N)}catch(B){}var O=!!M&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,O),this.sliderElem.addEventListener("touchmove",this.touchmove,O)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var j=this._addTickListener(),F=j.addMouseEnter(this,this.handle1),$=j.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:F,mouseLeave:$},F=j.addMouseEnter(this,this.handle2),$=j.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:F,mouseLeave:$}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var r={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},s={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),n=!0;if(this.options.ticks_positions.length>0){for(var i,o,r,s=0,a=1;a<this.options.ticks_positions.length;a++)if(t<=this.options.ticks_positions[a]){i=this.options.ticks[a-1],r=this.options.ticks_positions[a-1],o=this.options.ticks[a],s=this.options.ticks_positions[a];break}e=i+(t-r)/(s-r)*(o-i),n=!1}var l=(n?this.options.min:0)+Math.round(e/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,n,i,o=0,r=0;r<this.options.ticks.length;r++)if(t<=this.options.ticks[r]){e=r>0?this.options.ticks[r-1]:0,i=r>0?this.options.ticks_positions[r-1]:0,n=this.options.ticks[r],o=this.options.ticks_positions[r];break}if(r>0)return i+(t-e)/(n-e)*(o-i)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),n=Math.log(this.options.max),i=Math.exp(e+(n-e)*t/100);return(i=this.options.min+Math.round((i-this.options.min)/this.options.step)*this.options.step)<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),n=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-n)/(e-n)}}};if((e=function(t,e){return o.call(this,t,e),this}).prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,n){t||(t=0);var i=this.getValue();this._state.value=this._validateInputValue(t);var o=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=o(this._state.value[0]),this._state.value[1]=o(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=o(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var r=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(r),!0===e&&this._trigger("slide",r),i!==r&&!0===n&&this._trigger("change",{oldValue:i,newValue:r}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,n){t?(this.$element.off(e,n),this.$sliderElem.off(e,n)):this._unbindNonQueryEventHandler(e,n)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),o.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){this.eventToCallbackMap[t]===undefined&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var n=this.eventToCallbackMap[t];if(n!==undefined)for(var i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var n=t[e];delete this.eventToCallbackMap[n]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){function e(t,e){return e?[100-t.percentage[0],this.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}var n=this.options.formatter(t?t.value[0]:this._state.value[0]),i=e(t||this._state,this.options.reversed);this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=i[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px")},_addTickListener:function(){return{addMouseEnter:function(t,e,n){var i=function(){var e=t._state,i=n>=0?n:this.attributes["aria-valuenow"].value,o=parseInt(i,10);e.value[0]=o,e.percentage[0]=t.options.ticks_positions[o],t._setToolTipOnMouseOver(e),t._showTooltip()};return e.addEventListener("mouseenter",i,!1),i},addMouseLeave:function(t,e){var n=function(){t._hideTooltip()};return e.addEventListener("mouseleave",n,!1),n}}},_layout:function(){var t,e;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var n=0;n<this.options.rangeHighlights.length;n++){var i=this._toPercentage(this.options.rangeHighlights[n].start),o=this._toPercentage(this.options.rangeHighlights[n].end);if(this.options.reversed){var r=100-o;o=100-i,i=r}var s=this._createHighlightRange(i,o);s?"vertical"===this.options.orientation?(this.rangeHighlightElements[n].style.top=s.start+"%",this.rangeHighlightElements[n].style.height=s.size+"%"):(this.options.rtl?this.rangeHighlightElements[n].style.right=s.start+"%":this.rangeHighlightElements[n].style.left=s.start+"%",this.rangeHighlightElements[n].style.width=s.size+"%"):this.rangeHighlightElements[n].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var a,l="vertical"===this.options.orientation?"height":"width";a="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var c=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var u=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[a]=-c/2+"px"),u=this.tickLabelContainer.offsetHeight;else for(d=0;d<this.tickLabelContainer.childNodes.length;d++)this.tickLabelContainer.childNodes[d].offsetHeight>u&&(u=this.tickLabelContainer.childNodes[d].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=u+"px")}for(var d=0;d<this.options.ticks.length;d++){var h=this.options.ticks_positions[d]||this._toPercentage(this.options.ticks[d]);this.options.reversed&&(h=100-h),this.ticks[d].style[this.stylePos]=h+"%",this._removeClass(this.ticks[d],"in-selection"),this.options.range?h>=t[0]&&h<=t[1]&&this._addClass(this.ticks[d],"in-selection"):"after"===this.options.selection&&h>=t[0]?this._addClass(this.ticks[d],"in-selection"):"before"===this.options.selection&&h<=t[0]&&this._addClass(this.ticks[d],"in-selection"),this.tickLabels[d]&&(this.tickLabels[d].style[l]=c+"px","vertical"!==this.options.orientation&&this.options.ticks_positions[d]!==undefined?(this.tickLabels[d].style.position="absolute",this.tickLabels[d].style[this.stylePos]=h+"%",
this.tickLabels[d].style[a]=-c/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[d].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[d].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[a]=this.sliderElem.offsetWidth/2*-1+"px"))}}if(this.options.range){e=this.options.formatter(this._state.value),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");var f=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,f);var p=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,p),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetWidth/2+"px")}else e=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var m=this.tooltip_min.getBoundingClientRect(),g=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?m.right>g.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):m.right>g.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?t>e?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function(){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var n=Math.abs(this._state.percentage[0]-e),i=Math.abs(this._state.percentage[1]-e);this._state.dragged=n<i?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var o=this._calculateValue();return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){if(t.changedTouches!==undefined){var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY}else this._mousedown(t)},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var n;switch(e.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var i="vertical"===this.options.orientation&&!this.options.reversed,o="horizontal"===this.options.orientation&&this.options.reversed;(i||o)&&(n=-n)}var r=this._state.value[t]+n*this.options.step,s=r/this.options.max*100;if(this._state.keyCtrl=t,this.options.range)this._adjustPercentageForRangeSliders(s),r=[this._state.keyCtrl?this._state.value[0]:r,this._state.keyCtrl?r:this._state.value[1]];return this._trigger("slideStart",r),this._setDataVal(r),this.setValue(r,!0,!0),this._setDataVal(r),this._trigger("slideStop",r),this._layout(),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_touchmove:function(t){if(t.changedTouches!==undefined){var e=t.changedTouches[0],n=e.pageX-this.touchX,i=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&n<=5&&n>=-5&&(i>=15||i<=-15)?this._mousedown(t):i<=5&&i>=-5&&(n>=15||n<=-15)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var n=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>n?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var n=[e,Infinity],i=0;i<this.options.ticks.length;i++){var o=Math.abs(this.options.ticks[i]-e);o<=n[1]&&(n=[this.options.ticks[i],o])}if(n[1]<=this.options.ticks_snap_bounds)return n[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var n=t.toFixed(e);return parseFloat(n)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(e=-e);var n=e/this._state.size*100;return n=Math.round(n/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(n=100-n),Math.max(0,Math.min(100,n))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(r.formatInvalidInputErrorMsg(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("number"!=typeof n)throw new Error(r.formatInvalidInputErrorMsg(n))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,n){n=n||0===n?n:undefined;var i=this.eventToCallbackMap[e];if(i&&i.length)for(var o=0;o<i.length;o++){(0,i[o])(n)}t&&this._triggerJQueryEvent(e,n)},_triggerJQueryEvent:function(t,e){var n={type:t,value:e};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){"undefined"!=typeof t.textContent?t.textContent=e:"undefined"!=typeof t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var n=e.split(" "),i=t.className,o=0;o<n.length;o++){var r=n[o],s=new RegExp("(?:\\s|^)"+r+"(?:\\s|$)");i=i.replace(s," ")}t.className=i.trim()},_addClass:function(t,e){for(var n=e.split(" "),i=t.className,o=0;o<n.length;o++){var r=n[o];new RegExp("(?:\\s|^)"+r+"(?:\\s|$)").test(i)||(i+=" "+r)}t.className=i.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetRight:function(t){return t.getBoundingClientRect().right},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function(e,n,i){if(t)t.style(e,n,i);else{var o=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[o]=i}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e,n="left"===(e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[n]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t&&t.fn){var a=void 0;t.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),a=i):(t.bridget(n,e),a=n),t.bridget(i,e),t(function(){t("input[data-provide=slider]")[a]()})}}(t),e}),function(){var t,e,n,i=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};n=function(){function t(){this.trie={}}return t.prototype.push=function(t){var e,n,i,o,r,s,a;for(t=t.toString(),r=this.trie,a=[],n=i=0,o=(s=t.split("")).length;i<o;n=++i)null==r[e=s[n]]&&(n===t.length-1?r[e]=null:r[e]={}),a.push(r=r[e]);return a},t.prototype.find=function(t){var e,n,i,o,r,s;for(t=t.toString(),r=this.trie,n=i=0,o=(s=t.split("")).length;i<o;n=++i){if(e=s[n],!r.hasOwnProperty(e))return!1;if(null===r[e])return!0;r=r[e]}},t}(),e=function(){function t(t){if(this.trie=t,this.trie.constructor!==n)throw Error("Range constructor requires a Trie parameter")}return t.rangeWithString=function(e){var i,o,r,s,a,l,c,u,d;if("string"!=typeof e)throw Error("rangeWithString requires a string parameter");for(e=(e=e.replace(/ /g,"")).split(","),d=new n,i=0,r=e.length;i<r;i++)if(a=(l=e[i]).match(/^(\d+)-(\d+)$/))for(s=o=c=a[1],u=a[2];c<=u?o<=u:o>=u;s=c<=u?++o:--o)d.push(s);else{if(!l.match(/^\d+$/))throw Error("Invalid range '"+a+"'");d.push(l)}return new t(d)},t.prototype.match=function(t){return this.trie.find(t)},t}(),(t=jQuery).fn.validateCreditCard=function(n,o){var r,s,a,l,c,u,d,h,f,p,m,g,v,y,b,_;for(l=[{name:"amex",range:"34,37",valid_length:[15]},{name:"diners_club_carte_blanche",range:"300-305",valid_length:[14]},{name:"diners_club_international",range:"36",valid_length:[14]},{name:"jcb",range:"3528-3589",valid_length:[16]},{name:"laser",range:"6304, 6706, 6709, 6771",valid_length:[16,17,18,19]},{name:"visa_electron",range:"4026, 417500, 4508, 4844, 4913, 4917",valid_length:[16]},{name:"visa",range:"4",valid_length:[13,14,15,16,17,18,19]},{name:"mastercard",range:"51-55,2221-2720",valid_length:[16]},{name:"discover",range:"6011, 622126-622925, 644-649, 65",valid_length:[16]},{name:"dankort",range:"5019",valid_length:[16]},{name:"maestro",range:"50, 56-69",valid_length:[12,13,14,15,16,17,18,19]},{name:"uatp",range:"1",valid_length:[15]}],r=!1,n&&("object"==typeof n?(o=n,r=!1,n=null):"function"==typeof n&&(r=!0)),null==o&&(o={}),null==o.accept&&(o.accept=function(){var t,e,n;for(n=[],t=0,e=l.length;t<e;t++)s=l[t],n.push(s.name);return n}()),h=0,f=(m=o.accept).length;h<f;h++)if(a=m[h],i.call(function(){var t,e,n;for(n=[],t=0,e=l.length;t<e;t++)s=l[t],n.push(s.name);return n}(),a)<0)throw Error("Credit card type '"+a+"' is not supported");return c=function(t){var n,r,c;for(n=0,r=(c=function(){var t,e,n,r;for(r=[],t=0,e=l.length;t<e;t++)n=(s=l[t]).name,i.call(o.accept,n)>=0&&r.push(s);return r}()).length;n<r;n++)if(a=c[n],e.rangeWithString(a.range).match(t))return a;return null},d=function(t){var e,n,i,o,r,s;for(s=0,o=n=0,i=(r=t.split("").reverse()).length;n<i;o=++n)e=+(e=r[o]),s+=o%2?(e*=2)<10?e:e-9:e;return s%10==0},u=function(t,e){var n;return n=t.length,i.call(e.valid_length,n)>=0},v=function(t){var e,n;return n=!1,e=!1,null!=(a=c(t))&&(n=d(t),e=u(t,a)),{card_type:a,valid:n&&e,luhn_valid:n,length_valid:e}},y=this,g=function(){var e;return e=p(t(y).val()),v(e)},p=function(t){return t.replace(/[ -]/g,"")},r?(this.on("input.jccv",(b=this,function(){return t(b).off("keyup.jccv"),n.call(b,g())})),this.on("keyup.jccv",(_=this,function(){return n.call(_,g())})),n.call(this,g()),this):g()}}.call(this),function(t){function e(t,e,n,i){for(var r,s=n.slice(),a=o(e,t),l=0,c=s.length;c>l&&(handler=s[l],"object"==typeof handler&&"function"==typeof handler.handleEvent?handler.handleEvent(a):handler.call(t,a),!a.stoppedImmediatePropagation);l++);return r=!a.stoppedPropagation,i&&r&&t.parentNode?t.parentNode.dispatchEvent(a):!a.defaultPrevented}function n(t,e){return{configurable:!0,get:t,set:e}}function i(t,e,i){var o=y(e||t,i);g(t,"textContent",n(function(){return o.get.call(this)},function(t){o.set.call(this,t)}))}function o(t,e){return t.currentTarget=e,t.eventPhase=t.target===t.currentTarget?2:3,t}function r(t,e){for(var n=t.length;n--&&t[n]!==e;);return n}function s(){if("BR"===this.tagName)return"\n";for(var t=this.firstChild,e=[];t;)8!==t.nodeType&&7!==t.nodeType&&e.push(t.textContent),t=t.nextSibling;return e.join("")}function a(t){!d&&C.test(document.readyState)&&(d=!d,document.detachEvent(h,a),(t=document.createEvent("Event")).initEvent(f,!0,!0),document.dispatchEvent(t))}function l(t){for(var e;e=this.lastChild;)this.removeChild(e);null!=t&&this.appendChild(document.createTextNode(t))}function c(e,n){return n||(n=t.event),n.target||(n.target=n.srcElement||n.fromElement||document),n.timeStamp||(n.timeStamp=(new Date).getTime()),n}if(!document.createEvent){var u=!0,d=!1,h="onreadystatechange",f="DOMContentLoaded",p="__IE8__"+Math.random(),m=t.Object,g=m.defineProperty||function(t,e,n){t[e]=n.value},v=m.defineProperties||function(e,n){for(var i in n)if(b.call(n,i))try{g(e,i,n[i])}catch(o){t.console&&console.log(i+" failed on object:",e,o.message)}},y=m.getOwnPropertyDescriptor,b=m.prototype.hasOwnProperty,_=t.Element.prototype,w=t.Text.prototype,k=/^[a-z]+$/,C=/loaded|complete/,S={},x=document.createElement("div");i(t.HTMLCommentElement.prototype,_,"nodeValue"),i(t.HTMLScriptElement.prototype,null,"text"),i(w,null,"nodeValue"),i(t.HTMLTitleElement.prototype,null,"text"),g(t.HTMLStyleElement.prototype,"textContent",(E=y(t.CSSStyleSheet.prototype,"cssText"),n(function(){return E.get.call(this.styleSheet)},function(t){E.set.call(this.styleSheet,t)}))),v(_,{textContent:{get:s,set:l},firstElementChild:{get:function(){for(var t=this.childNodes||[],e=0,n=t.length;n>e;e++)if(1==t[e].nodeType)return t[e]}},lastElementChild:{get:function(){for(var t=this.childNodes||[],e=t.length;e--;)if(1==t[e].nodeType)return t[e]}},previousElementSibling:{get:function(){for(var t=this.previousSibling;t&&1!=t.nodeType;)t=t.previousSibling;return t}},nextElementSibling:{get:function(){for(var t=this.nextSibling;t&&1!=t.nodeType;)t=t.nextSibling;return t}},childElementCount:{get:function(){for(var t=0,e=this.childNodes||[],n=e.length;n--;t+=1==e[n].nodeType);return t}},addEventListener:{value:function(t,n,i){var o,s=this,a="on"+t,l=s[p]||g(s,p,{value:{}})[p],u=l[a]||(l[a]={}),d=u.h||(u.h=[]);if(!b.call(u,"w")){if(u.w=function(t){return t[p]||e(s,c(s,t),d,!1)},!b.call(S,a))if(k.test(t))try{(o=document.createEventObject())[p]=!0,9!=s.nodeType&&null==s.parentNode&&x.appendChild(s),s.fireEvent(a,o),S[a]=!0}catch(o){for(S[a]=!1;x.hasChildNodes();)x.removeChild(x.firstChild)}else S[a]=!1;(u.n=S[a])&&s.attachEvent(a,u.w)}r(d,n)<0&&d[i?"unshift":"push"](n)}},dispatchEvent:{value:function(t){var n,i=this,o="on"+t.type,r=i[p],s=r&&r[o],a=!!s;return t.target||(t.target=i),a?s.n?i.fireEvent(o,t):e(i,t,s.h,!0):!(n=i.parentNode)||n.dispatchEvent(t),!t.defaultPrevented}},removeEventListener:{value:function(t,e){var n="on"+t,i=this[p],o=i&&i[n],s=o&&o.h,a=s?r(s,e):-1;a>-1&&s.splice(a,1)}}}),v(w,{addEventListener:{value:_.addEventListener},dispatchEvent:{value:_.dispatchEvent},removeEventListener:{value:_.removeEventListener}}),v(t.XMLHttpRequest.prototype,{addEventListener:{value:function(t,e,n){var i=this,o="on"+t,s=i[p]||g(i,p,{value:{}})[p],a=s[o]||(s[o]={}),l=a.h||(a.h=[]);r(l,e)<0&&(i[o]||(i[o]=function(){var e=document.createEvent("Event");e.initEvent(t,!0,!0),i.dispatchEvent(e)}),l[n?"unshift":"push"](e))}},dispatchEvent:{value:function(t){var n=this,i="on"+t.type,o=n[p],r=o&&o[i];return!!r&&(r.n?n.fireEvent(i,t):e(n,t,r.h,!0))}},removeEventListener:{value:_.removeEventListener}}),v(t.Event.prototype,{bubbles:{value:!0,writable:!0},cancelable:{value:!0,writable:!0},preventDefault:{value:function(){this.cancelable&&(this.defaultPrevented=!0,this.returnValue=!1)}},stopPropagation:{value:function(){this.stoppedPropagation=!0,this.cancelBubble=!0}},stopImmediatePropagation:{value:function(){this.stoppedImmediatePropagation=!0,this.stopPropagation()}},initEvent:{value:function(t,e,n){this.type=t,this.bubbles=!!e,this.cancelable=!!n,this.bubbles||this.stopPropagation()}}}),v(t.HTMLDocument.prototype,{textContent:{get:function(){return 11===this.nodeType?s.call(this):null},set:function(t){11===this.nodeType&&l.call(this,t)}},addEventListener:{value:function(e,n,i){var o=this;_.addEventListener.call(o,e,n,i),u&&e===f&&!C.test(o.readyState)&&(u=!1,o.attachEvent(h,a),t==top&&function r(){try{o.documentElement.doScroll("left"),a()}catch(e){setTimeout(r,50)}}())}},dispatchEvent:{value:_.dispatchEvent},removeEventListener:{value:_.removeEventListener},createEvent:{value:function(t){var e;if("Event"!==t)throw new Error("unsupported "+t);return(e=document.createEventObject()).timeStamp=(new Date).getTime(),e}}}),v(t.Window.prototype,{getComputedStyle:{value:function(){function t(t){this._=t}function e(){}var n=/^(?:[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/,i=/^(top|right|bottom|left)$/,o=/\-([a-z])/g,r=function(t,e){return e.toUpperCase()};return t.prototype.getPropertyValue=function(t){var e,s,a,l=this._,c=l.style,u=l.currentStyle,d=l.runtimeStyle;return t=("float"===t?"style-float":t).replace(o,r),e=u?u[t]:c[t],n.test(e)&&!i.test(t)&&(s=c.left,(a=d&&d.left)&&(d.left=u.left),c.left="fontSize"===t?"1em":e,e=c.pixelLeft+"px",c.left=s,a&&(d.left=a)),null==e?e:e+""||"auto"},e.prototype.getPropertyValue=function(){return null},function(n,i){return i?new e(n):new t(n)}}()},addEventListener:{value:function(n,i,o){var s,a=t,l="on"+n;a[l]||(a[l]=function(t){return e(a,c(a,t),s,!1)}),r(s=a[l][p]||(a[l][p]=[]),i)<0&&s[o?"unshift":"push"](i)}},dispatchEvent:{value:function(e){var n=t["on"+e.type];return!n||!1!==n.call(t,e)&&!e.defaultPrevented}},removeEventListener:{value:function(e,n){var i=(t["on"+e]||m)[p],o=i?r(i,n):-1;o>-1&&i.splice(o,1)}}})}var E}(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).flowplayer=t()}}(function(){var t;return function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return o(n||e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e){"use strict";var n=e.exports={},i=t("class-list"),o=window.jQuery,r=t("punycode"),s=t("computed-style");n.noop=function(){},n.identity=function(t){return t},n.removeNode=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},n.find=function(t,e){return o?o(t,e).toArray():(e=e||document,Array.prototype.map.call(e.querySelectorAll(t),function(t){return t}))},n.text=function(t,e){t["innerText"in t?"innerText":"textContent"]=e},n.findDirect=function(t,e){return n.find(t,e).filter(function(t){return t.parentNode===e})},n.hasClass=function(t,e){return"string"==typeof t.className&&i(t).contains(e)},n.isSameDomain=function(t){var e=window.location,i=n.createElement("a",{href:t});return e.hostname===i.hostname&&e.protocol===i.protocol&&e.port===i.port},n.css=function(t,e,i){return"object"==typeof e?Object.keys(e).forEach(function(i){n.css(t,i,e[i])}):void 0!==i?""===i?t?t.style.removeProperty(e):void 0:t?t.style.setProperty(e,i):void 0:t?s(t,e):void 0},n.createElement=function(t,e,i){try{var r=document.createElement(t);for(var a in e)e.hasOwnProperty(a)&&("css"===a?n.css(r,e[a]):n.attr(r,a,e[a]));return i&&(r.innerHTML=i),r}catch(s){if(!o)throw s;return o("<"+t+">"+i+"</"+t+">").attr(e)[0]}},n.toggleClass=function(t,e,n){if(t){var o=i(t);void 0===n?o.toggle(e):n?o.add(e):n||o.remove(e)}},n.addClass=function(t,e){return n.toggleClass(t,e,!0)},n.removeClass=function(t,e){return n.toggleClass(t,e,!1)},n.append=function(t,e){return t.appendChild(e),t},n.appendTo=function(t,e){return n.append(e,t),t},n.prepend=function(t,e){t.insertBefore(e,t.firstChild)},n.insertAfter=function(t,e,i){e==n.lastChild(t)&&t.appendChild(i);var o=Array.prototype.indexOf.call(t.children,e);t.insertBefore(i,t.children[o+1])},n.html=function(t,e){(t=t.length?t:[t]).forEach(function(t){t.innerHTML=e})},n.attr=function(t,e,r){if("class"===e&&(e="className"),n.hasOwnOrPrototypeProperty(t,e))try{t[e]=r}catch(i){if(!o)throw i;o(t).attr(e,r)}else!1===r?t.removeAttribute(e):t.setAttribute(e,r);return t},n.prop=function(t,e,n){return void 0===n?t&&t[e]:void(t[e]=n)},n.offset=function(t){var e=t.getBoundingClientRect();return t.offsetWidth/t.offsetHeight>t.clientWidth/t.clientHeight&&(e={left:100*e.left,right:100*e.right,top:100*e.top,bottom:100*e.bottom,width:100*e.width,height:100*e.height}),e},n.width=function(t,e){if(e)return t.style.width=(""+e).replace(/px$/,"")+"px";var i=n.offset(t).width;return void 0===i?t.offsetWidth:i},n.height=function(t,e){if(e)return t.style.height=(""+e).replace(/px$/,"")+"px";var i=n.offset(t).height;return void 0===i?t.offsetHeight:i},n.lastChild=function(t){return t.children[t.children.length-1]},n.hasParent=function(t,e){for(var i=t.parentElement;i;){if(n.matches(i,e))return!0;i=i.parentElement}return!1},n.createAbsoluteUrl=function(t){return n.createElement("a",{href:t}).href},n.xhrGet=function(t,e,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){return 4===this.readyState?this.status>=400?n():void e(this.responseText):void 0},i.open("get",t,!0),i.send()},n.pick=function(t,e){var n={};return e.forEach(function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n},n.hostname=function(t){return r.toUnicode(t||window.location.hostname)},n.browser={webkit:"WebkitAppearance"in document.documentElement.style},n.getPrototype=function(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__},n.hasOwnOrPrototypeProperty=function(t,e){for(var i=t;i;){if(Object.prototype.hasOwnProperty.call(i,e))return!0;i=n.getPrototype(i)}return!1},n.matches=function(t,e){var n=Element.prototype;return(n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(t){for(var e=this,n=(e.document||e.ownerDocument).querySelectorAll(t),i=0;n[i]&&n[i]!==e;)i++;return!!n[i]}).call(t,e)},function(t){function e(t){return t.replace(/-[a-z]/g,function(t){return t[1].toUpperCase()})}"undefined"!=typeof t.setAttribute&&(t.setProperty=function(t,n){return this.setAttribute(e(t),String(n))},t.getPropertyValue=function(t){return this.getAttribute(e(t))||null},t.removeProperty=function(t){var n=this.getPropertyValue(t);return this.removeAttribute(e(t)),n})}(window.CSSStyleDeclaration.prototype)},{"class-list":34,"computed-style":35,punycode:42}],2:[function(t,e){"use strict";var n=t("../common");e.exports=function(t,e,i,o){i=i||"opaque";var r="obj"+(""+Math.random()).slice(2,15),s='<object class="fp-engine" id="'+r+'" name="'+r+'" ',a=navigator.userAgent.indexOf("MSIE")>-1;s+=a?'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">':' data="'+t+'" type="application/x-shockwave-flash">';var l={width:"100%",height:"100%",allowscriptaccess:"always",wmode:i,quality:"high",flashvars:"",movie:t+(a?"?"+r:""),name:r};"transparent"!==i&&(l.bgcolor=o||"#333333"),Object.keys(e).forEach(function(t){l.flashvars+=t+"="+e[t]+"&"}),Object.keys(l).forEach(function(t){s+='<param name="'+t+'" value="'+l[t]+'"/>'}),s+="</object>";var c=n.createElement("div",{},s);return n.find("object",c)},window.attachEvent&&window.attachEvent("onbeforeunload",function(){window.__flash_savedUnloadHandler=window.__flash_unloadHandler=function(){}})},{"../common":1}],3:[function(t){"use strict";function e(t){return/^https?:/.test(t)}var n,i=t("../flowplayer"),o=t("../common"),r=t("./embed"),s=t("extend-object"),a=t("bean");(n=function(t,l){function c(t){function e(t){return("0"+parseInt(t).toString(16)).slice(-2)}return(t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))?"#"+e(t[1])+e(t[2])+e(t[3]):void 0}function u(t){return 7===t.length?t:"#"+t.split("").slice(1).map(function(t){return t+t}).join("")}function d(t){return/application\/x-mpegurl/i.test(t.type)}var h,f,p,m,g=t.conf,v=[],y={engineName:n.engineName,pick:function(n){var r=s({},function(){if(i.support.flashVideo){for(var e,o,r=0;r<n.length;r++)if(o=n[r],/mp4|flv|flash/i.test(o.type)&&(e=o),t.conf.swfHls&&/mpegurl/i.test(o.type)&&(e=o),e&&!/mp4/i.test(e.type))return e;return e}}());if(r)return!r.src||e(r.src)||t.conf.rtmp||r.rtmp||(r.src=o.createAbsoluteUrl(r.src)),r},suspendEngine:function(){m=!0},resumeEngine:function(){m=!1},load:function(n){function b(t){return t.replace(/&amp;/g,"%26").replace(/&/g,"%26").replace(/=/g,"%3D")}h=n,v.forEach(function(t){clearTimeout(t)});var _=o.findDirect("video",l)[0]||o.find(".fp-player > video",l)[0],w=n.src,k=e(w),C=function(){o.removeNode(_)},S=function(t){return t.some(function(t){return!!_.canPlayType(t.type)})};i.support.video&&o.prop(_,"autoplay")&&S(n.sources)?a.one(_,"timeupdate",C):C();var x=n.rtmp||g.rtmp;if(k||x||(w=o.createAbsoluteUrl(w)),p&&d(n)&&p.data!==o.createAbsoluteUrl(g.swfHls)&&y.unload(),p){["live","preload","loop"].forEach(function(t){n.hasOwnProperty(t)&&p.__set(t,n[t])}),Object.keys(n.flashls||{}).forEach(function(t){p.__set("hls_"+t,n.flashls[t])});var E=!1;if(!k&&x)p.__set("rtmp",x.url||x);else E=!!p.__get("rtmp"),p.__set("rtmp",null);p.__play(w,E||n.rtmp&&n.rtmp!==g.rtmp)}else{f="fpCallback"+(""+Math.random()).slice(3,15),w=b(w);var T={hostname:g.embedded?o.hostname(g.hostname):o.hostname(location.hostname),url:w,callback:f};l.getAttribute("data-origin")&&(T.origin=l.getAttribute("data-origin")),["proxy","key","autoplay","preload","subscribe","live","loop","debug","splash","poster","rtmpt"].forEach(function(t){g.hasOwnProperty(t)&&(T[t]=g[t]),n.hasOwnProperty(t)&&(T[t]=n[t]),(g.rtmp||{}).hasOwnProperty(t)&&(T[t]=(g.rtmp||{})[t]),(n.rtmp||{}).hasOwnProperty(t)&&(T[t]=(n.rtmp||{})[t])}),g.rtmp&&(T.rtmp=g.rtmp.url||g.rtmp),n.rtmp&&(T.rtmp=n.rtmp.url||n.rtmp),Object.keys(n.flashls||{}).forEach(function(t){var e=n.flashls[t];T["hls_"+t]=e});var A="undefined"!=typeof n.hlsQualities?n.hlsQualities:g.hlsQualities;void 0!==A&&(T.hlsQualities=A?encodeURIComponent(JSON.stringify(A)):A),void 0!==g.bufferTime&&(T.bufferTime=g.bufferTime),k&&delete T.rtmp,T.rtmp&&(T.rtmp=b(T.rtmp));var I,D=g.bgcolor||o.css(l,"background-color")||"";0===D.indexOf("rgb")?I=c(D):0===D.indexOf("#")&&(I=u(D)),T.initialVolume=t.volumeLevel;var L=d(n)?g.swfHls:g.swf;p=r(L,T,g.wmode,I)[0];var R=o.find(".fp-player",l)[0];o.prepend(R,p),t.off("quality.flashengine").on("quality.flashengine",function(e,n,i){("undefined"!=typeof t.video.hlsQualities?t.video.hlsQualities:t.conf.hlsQualities)&&p.__quality(i)}),setTimeout(function(){try{if(!p.PercentLoaded())return t.trigger("error",[t,{code:7,url:g.swf}])}catch(l){}},5e3),v.push(setTimeout(function(){"undefined"==typeof p.PercentLoaded&&t.trigger("flashdisabled",[t])},15e3)),v.push(setTimeout(function(){"undefined"==typeof p.PercentLoaded&&t.trigger("flashdisabled",[t,!1])},500)),t.off("resume.flashhack").on("resume.flashhack",function(){var e=setTimeout(function(){var e=p.__status().time,n=setTimeout(function(){t.playing&&!t.loading&&p.__status().time===e&&t.trigger("flashdisabled",[t])},400);v.push(n),t.one("seek.flashhack pause.flashhack load.flashack",function(){clearTimeout(n)})},800);v.push(e),t.one("progress",function(){clearTimeout(e)})}),p.pollInterval=setInterval(function(){if(p&&!m){var e=p.__status?p.__status():null;e&&((t.conf.live||t.live||n.live)&&(n.seekOffset=e.seekOffset,n.duration=e.duration+e.seekOffset),t.playing&&e.time&&e.time!==t.video.time&&t.trigger("progress",[t,e.time]),n.buffer=e.buffer/n.bytes*n.duration,t.trigger("buffer",[t,n.buffer]),!n.buffered&&e.time>0&&(n.buffered=!0,t.trigger("buffered",[t])))}},250),window[f]=function(e,n){var i=h;g.debug&&(0===e.indexOf("debug")&&n&&n.length?console.log.apply(console,["-- "+e].concat(n)):console.log("--",e,n));var o={type:e};switch(e){case"ready":n=s(i,n);break;case"click":o.flash=!0;break;case"keydown":o.which=n;break;case"seek":i.time=n;break;case"status":t.trigger("progress",[t,n.time]),n.buffer<i.bytes&&!i.buffered?(i.buffer=n.buffer/i.bytes*i.duration,t.trigger("buffer",i.buffer)):i.buffered||(i.buffered=!0,t.trigger("buffered"));break;case"metadata":var r=atob(n);n={key:r.substr(10,4),data:r.substr(21)}}"click"===e||"keydown"===e?(o.target=l,a.fire(l,e,[o])):"buffered"!=e&&"unload"!==e?setTimeout(function(){t.trigger(o,[t,n])},1):"unload"===e&&t.trigger(o,[t,n])}}},speed:o.noop,unload:function(){p&&p.__unload&&p.__unload();try{f&&window[f]&&delete window[f]}catch(c){}o.find("object",l).forEach(o.removeNode),p=0,t.off(".flashengine"),t.off(".flashhack"),clearInterval(p.pollInterval),
v.forEach(function(t){clearTimeout(t)})}};return["pause","resume","seek","volume"].forEach(function(n){y[n]=function(i){try{t.ready&&(void 0===i?p["__"+n]():p["__"+n](i))}catch(e){if("undefined"==typeof p["__"+n])return t.trigger("flashdisabled",[t]);throw e}}}),y}).engineName="flash",n.canPlay=function(t,e){return i.support.flashVideo&&/video\/(mp4|flash|flv)/i.test(t)||i.support.flashVideo&&e.swfHls&&/mpegurl/i.test(t)},i.engines.push(n)},{"../common":1,"../flowplayer":29,"./embed":2,bean:32,"extend-object":37}],4:[function(t){"use strict";function e(t,e){return e=e||100,Math.round(t*e)/e}function n(t){return/mpegurl/i.test(t)?"application/x-mpegurl":t}function i(t){return/^(video|application)/i.test(t)||(t=n(t)),!!d.canPlayType(t).replace("no","")}function o(t,e){var n=t.filter(function(t){return t.type===e});return n.length?n[0]:null}var r,s,a=t("../flowplayer"),l=t("bean"),c=t("extend-object"),u=t("../common"),d=document.createElement("video"),h={ended:"finish",pause:"pause",play:"resume",timeupdate:"progress",volumechange:"volume",ratechange:"speed",seeked:"seek",loadeddata:a.support.browser.safari?0:"ready",canplaythrough:a.support.browser.safari?"ready":0,error:"error",dataunavailable:"error",webkitendfullscreen:!a.support.inlineVideo&&"unload"},f=function(t,e,i,o,s){void 0===e&&(e=!0),void 0===i&&(i="none"),void 0===o&&(o=!0),void 0===s&&(s=!0);var l=!1;if(e&&a.support.mutedAutoplay&&(l=!0),o&&r)return r.type=n(t.type),r.src=t.src,u.find("track",r).forEach(u.removeNode),r.removeAttribute("crossorigin"),r;var c=document.createElement("video");c.src=t.src,c.type=n(t.type);var d="fp-engine ";return c.className=d,a.support.autoplay&&(c.autoplay=!!e&&"autoplay"),a.support.dataload&&(c.preload=i),l&&(c.muted=!0),s&&(c.setAttribute("webkit-playsinline","true"),c.setAttribute("playsinline","true")),o&&(r=c),c};(s=function(t,n){function d(o,r,s){var a=n.getAttribute("data-flowplayer-instance-id");if(!o.listeners||!o.listeners.hasOwnProperty(a)){(o.listeners||(o.listeners={}))[a]=s,l.on(r,"error",function(n){try{i(n.target.getAttribute("type"))&&t.trigger("error",[t,{code:4,video:c(s,{src:o.src,url:o.src})}])}catch(e){}}),t.on("shutdown",function(){l.off(r),l.off(o,".dvrhack"),t.off(".loophack")});var d={},f=function(e){"metadata"===e.kind&&(e.mode="hidden",e.addEventListener("cuechange",function(){t.trigger("metadata",[t,e.activeCues[0].value])},!1))};return o&&o.textTracks&&o.textTracks.length&&Array.prototype.forEach.call(o.textTracks,f),o&&o.textTracks&&"function"==typeof o.textTracks.addEventListener&&o.textTracks.addEventListener("addtrack",function(t){f(t.track)},!1),(t.conf.dvr||t.dvr||s.dvr)&&l.on(o,"progress.dvrhack",function(){o.seekable.length&&(t.video.duration=o.seekable.end(null),t.video.seekOffset=o.seekable.start(null),t.trigger("dvrwindow",[t,{start:o.seekable.start(null),end:o.seekable.end(null)}]),o.currentTime>=o.seekable.start(null)||(o.currentTime=o.seekable.start(null)))}),Object.keys(h).forEach(function(i){var r=h[i];if("webkitendfullscreen"===i&&t.conf.disableInline&&(r="unload"),r){var l=function(l){if(s=o.listeners[a],l.target&&u.hasClass(l.target,"fp-engine")){_.debug&&!/progress/.test(r)&&console.log(i,"->",r,l);var d,f=function(){t.trigger(r,[t,d])};if(!t.ready&&!/ready|error/.test(r)||!r||!u.find("video",n).length)return void("resume"===r&&t.one("ready",function(){setTimeout(function(){f()})}));if("unload"===r)return void t.unload();switch(r){case"ready":if(t.ready)return;d=c(s,{duration:o.duration<Number.MAX_VALUE?o.duration:0,width:o.videoWidth,height:o.videoHeight,url:o.currentSrc,src:o.currentSrc});try{d.seekable=/mpegurl/i.test(s&&s.type||"")&&o.duration||o.seekable&&o.seekable.end(null)||t.live}catch(h){}if(m=m||setInterval(function(){try{d.buffer=o.buffered.end(null)}catch(n){}d.buffer&&(e(d.buffer,1e3)<e(d.duration,1e3)&&!d.buffered&&d.buffer!==g?(t.trigger("buffer",[t,d.buffer]),g=d.buffer):d.buffered||d.buffer===g||(d.buffered=!0,t.trigger("buffer",[t,d.buffer]).trigger("buffered",l),g=d.buffer,clearInterval(m),m=0))},250),!t.live&&!d.duration&&!b.hlsDuration&&"loadeddata"===i){var p=function(){d.duration=o.duration;try{d.seekable=o.seekable&&o.seekable.end(null)}catch(t){}f(),o.removeEventListener("durationchange",p),u.toggleClass(n,"is-live",!1)};o.addEventListener("durationchange",p);var v=function(){t.ready||o.duration||(d.duration=0,u.addClass(n,"is-live"),f()),o.removeEventListener("timeupdate",v)};return void o.addEventListener("timeupdate",v)}break;case"progress":case"seek":if(o.currentTime>0||t.live)d=Math.max(o.currentTime,0);else if("progress"==r)return;break;case"speed":d=e(o.playbackRate);break;case"volume":d=e(o.volume);break;case"error":try{(d=(l.srcElement||l.originalTarget).error).video=c(s,{src:o.src,url:o.src})}catch(y){return}}f()}};n.addEventListener(i,l,!0),d[i]||(d[i]=[]),d[i].push(l)}}),d}o.listeners[a]=s}var p,m,g,v,y=u.findDirect("video",n)[0]||u.find(".fp-player > video",n)[0],b=a.support,_=t.conf;return p={engineName:s.engineName,pick:function(t){var e=function(){if(b.video){if(_.videoTypePreference){var e=o(t,_.videoTypePreference);if(e)return e}for(var n=0;n<t.length;n++)if(i(t[n].type))return t[n]}}();if(e)return"string"==typeof e.src&&(e.src=u.createAbsoluteUrl(e.src)),e},load:function(e){var i=u.find(".fp-player",n)[0],o=!1,r=!1;if(_.splash&&!y?(y=f(e,void 0,void 0,void 0,!_.disableInline),u.prepend(i,y),r=!0):y?(u.addClass(y,"fp-engine"),u.find("source,track",y).forEach(u.removeNode),t.conf.nativesubtitles||u.attr(y,"crossorigin",!1),o=y.src===e.src,_.disableInline||(y.setAttribute("webkit-playsinline","true"),y.setAttribute("playsinline","true")),y.autoplay&&a.support.mutedAutoplay&&(y.muted=!0)):(y=f(e,!!e.autoplay||!!_.autoplay,_.clip.preload||!0,!1,!_.disableInline),u.prepend(i,y),r=!0),b.inlineVideo||u.css(y,{position:"absolute",top:"-9999em"}),a.support.subtitles&&_.nativesubtitles&&e.subtitles&&e.subtitles.length){u.addClass(y,"native-subtitles");var s=e.subtitles,c=function(t){var e=y.textTracks;e.length&&(e[0].mode=t)};s.some(function(t){return!u.isSameDomain(t.src)})&&u.attr(y,"crossorigin","anonymous"),"function"==typeof y.textTracks.addEventListener&&y.textTracks.addEventListener("addtrack",function(){c("disabled"),c("showing")}),s.forEach(function(t){y.appendChild(u.createElement("track",{kind:"subtitles",srclang:t.srclang||"en",label:t.label||"en",src:t.src,"default":t["default"]}))})}l.off(y,"timeupdate",u.noop),l.on(y,"timeupdate",u.noop),u.prop(y,"loop",!1),t.off(".loophack"),(e.loop||_.loop)&&(/mpegurl/i.test(e.type)?t.on("finish.loophack",function(){t.resume()}):u.prop(y,"loop",!0)),void 0!==v&&(y.volume=v),(t.video.src&&e.src!=t.video.src||e.index)&&u.attr(y,"autoplay","autoplay"),y.src=e.src,y.type=e.type,p._listeners=d(y,u.find("source",y).concat(y),e)||p._listeners,(o||r&&!_.splash)&&y.load(),r||!b.iOS.iPhone&&!b.iOS.iPad||y.load(),b.iOS.iPad&&b.iOS.chrome&&y.load(),y.paused&&(e.autoplay||_.autoplay||_.splash)&&y.play()},pause:function(){y.pause()},resume:function(){y.play()},speed:function(t){y.playbackRate=t},seek:function(n){try{var i=t.paused;y.currentTime=n,i&&y.pause()}catch(e){}},volume:function(t){v=t,y&&(y.volume=t)},unload:function(){u.find("video.fp-engine",n).forEach(function(t){u.attr(t,"src",""),u.removeNode(t)}),b.cachedVideoTag||(r=null),m=clearInterval(m);var t=n.getAttribute("data-flowplayer-instance-id");delete y.listeners[t],y=0,p._listeners&&Object.keys(p._listeners).forEach(function(t){p._listeners[t].forEach(function(e){n.removeEventListener(t,e,!0)})})}}}).canPlay=function(t){return a.support.video&&i(t)},s.engineName="html5",a.engines.push(s)},{"../common":1,"../flowplayer":29,bean:32,"extend-object":37}],5:[function(t){"use strict";var e=t("../flowplayer"),n=t("../common"),i=t("bean");e(function(t,e){t.on("ready",function(){var t=n.find("video.fp-engine",e)[0];t&&(t.setAttribute("x-webkit-airplay","allow"),window.WebKitPlaybackTargetAvailabilityEvent&&(t.addEventListener("webkitplaybacktargetavailabilitychanged",function(t){if("available"===t.availability){var i=n.find(".fp-header",e)[0];n.find(".fp-airplay",i).forEach(n.removeNode);var o=n.createElement("a",{"class":"fp-airplay fp-icon",title:"Play on AirPlay device"});i.insertBefore(o,n.find(".fp-fullscreen",i)[0])}}),t.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",function(){var i=n.find(".fp-airplay",e)[0];i&&n.toggleClass(i,"fp-active",t.webkitCurrentPlaybackTargetIsWireless)})))}),i.on(e,"click",".fp-airplay",function(t){t.preventDefault(),n.find("video.fp-engine",e)[0].webkitShowPlaybackTargetPicker()})})},{"../common":1,"../flowplayer":29,bean:32}],6:[function(t){"use strict";var e=t("../flowplayer"),n=t("./resolve").TYPE_RE,i=t("scriptjs"),o=t("bean");e(function(t,e){var r,s=t.conf.analytics,a=0,l=0;if(s){"undefined"==typeof _gat&&i("//google-analytics.com/ga.js");var c=function(){var t=_gat._getTracker(s);return t._setAllowLinker(!0),t},u=function(i,o,s){(s=s||t.video,a&&"undefined"!=typeof _gat)&&(c()._trackEvent("Video / Seconds played",t.engine.engineName+"/"+s.type,s.title||e.getAttribute("title")||s.src.split("/").slice(-1)[0].replace(n,""),Math.round(a/1e3)),a=0,r&&(clearTimeout(r),r=null))};t.bind("load unload",u).bind("progress",function(){t.seeking||(a+=l?+new Date-l:0,l=+new Date),r||(r=setTimeout(function(){r=null,c()._trackEvent("Flowplayer heartbeat","Heartbeat","",0,!0)},6e5))}).bind("pause",function(){l=0}),t.bind("shutdown",function(){o.off(window,"unload",u)}),o.on(window,"unload",u)}})},{"../flowplayer":29,"./resolve":19,bean:32,scriptjs:43}],7:[function(t){"use strict";var e=t("../flowplayer"),n=t("../common"),i=t("bean"),o=t("scriptjs");e(function(t,e){function r(){var t,e,n;t=m.applicationId||chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,e=new chrome.cast.SessionRequest(t),n=new chrome.cast.ApiConfig(e,s,a),chrome.cast.initialize(n,l,c)}function s(){console.log("sessionListener")}function a(t){t===chrome.cast.ReceiverAvailability.AVAILABLE&&u()}function l(){}function c(){console.log("onError")}function u(){var t=n.find(".fp-header",e)[0];n.find(".fp-chromecast",t).forEach(n.removeNode),n.find(".fp-chromecast-engine",e).forEach(n.removeNode),p=n.createElement("a",{"class":"fp-chromecast fp-icon",title:"Play on Cast device"}),t.insertBefore(p,n.find(".fp-fullscreen",t)[0]);var i=n.createElement("div",{"class":"fp-chromecast-engine"}),o=n.createElement("p",{"class":"fp-chromecast-engine-status"}),r=n.createElement("p",{"class":"fp-chromecast-engine-icon"});i.appendChild(r),i.appendChild(o);var s=n.find(".fp-engine",e)[0];s?s.parentNode.insertBefore(i,s):n.prepend(n.find(".fp-player",e)[0]||e,i)}function d(){clearInterval(f),f=null,t.release(),n.toggleClass(e,"is-chromecast",!1),n.toggleClass(p,"fp-active",!1)}if(!1!==t.conf.chromecast){o("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),window.__onGCastApiAvailable=function(t){t&&r()};var h,f,p,m=t.conf.chromecast||{};i.on(e,"click",".fp-chromecast",function(i){return i.preventDefault(),h?(t.trigger("pause",[t]),h.stop(),h=null,void d()):(t.playing&&t.pause(),void chrome.cast.requestSession(function(i){function o(i){i.addUpdateListener(function(o){if(h){f=f||setInterval(function(){t.trigger("progress",[t,i.getEstimatedTime()])},500),o?(n.toggleClass(e,"is-chromecast",!0),n.toggleClass(p,"fp-active",!0),t.hijack({pause:function(){i.pause()},resume:function(){i.play()},seek:function(t){var e=new chrome.cast.media.SeekRequest;e.currentTime=t,i.seek(e)}})):(d(),t.trigger("finish",[t]));var r=i.playerState;t.paused&&r===chrome.cast.media.PlayerState.PLAYING&&t.trigger("resume",[t]),t.playing&&r===chrome.cast.media.PlayerState.PAUSED&&t.trigger("pause",[t]),n.toggleClass(e,"is-loading",r===chrome.cast.media.PlayerState.BUFFERING)}})}var r=(h=i).receiver.friendlyName;n.html(n.find(".fp-chromecast-engine-status")[0],"Playing on device "+r);var s=new chrome.cast.media.MediaInfo(t.video.src),a=new chrome.cast.media.LoadRequest(s);h.loadMedia(a,o,function(){})},function(t){console.error("requestSession error",t)}))})}})},{"../common":1,"../flowplayer":29,bean:32,scriptjs:43}],8:[function(t){"use strict";var e=t("../flowplayer"),n=t("../common"),i=t("bean");e(function(t,e){function o(t){e.className=e.className.replace(s," "),t>=0&&n.addClass(e,"cue"+t)}function r(e){var n=e&&!isNaN(e.time)?e.time:e;return 0>n&&(n=t.video.duration+n),.125*Math.round(n/.125)}var s=/ ?cue\d+ ?/,a=!1,l={},c=-.125,u=function(e){var n=t.cuepoints.indexOf(e);isNaN(e)||(e={time:e}),e.index=n,o(n),t.trigger("cuepoint",[t,e])};t.on("progress",function(t,e,n){if(!a)for(var i=r(n);i>c;)l[c+=.125]&&l[c].forEach(u)}).on("unload",o).on("beforeseek",function(t){setTimeout(function(){t.defaultPrevented||(a=!0)})}).on("seek",function(t,e,n){o(),c=r(n||0)-.125,a=!1,!n&&l[0]&&l[0].forEach(u)}).on("ready",function(e,n,i){c=-.125;var o=i.cuepoints||t.conf.cuepoints||[];t.setCuepoints(o)}).on("finish",function(){c=-.125}),t.conf.generate_cuepoints&&t.bind("load",function(){n.find(".fp-cuepoint",e).forEach(n.removeNode)}),t.setCuepoints=function(e){return t.cuepoints=[],l={},e.forEach(t.addCuepoint),t},t.addCuepoint=function(o){t.cuepoints||(t.cuepoints=[]);var s=r(o);if(l[s]||(l[s]=[]),l[s].push(o),t.cuepoints.push(o),t.conf.generate_cuepoints&&!1!==o.visible){var a=t.video.duration,c=n.find(".fp-timeline",e)[0];n.css(c,"overflow","visible");var u=o.time||o;0>u&&(u=a+u);var d=n.createElement("a",{className:"fp-cuepoint fp-cuepoint"+(t.cuepoints.length-1)});n.css(d,"left",u/a*100+"%"),c.appendChild(d),i.on(d,"mousedown",function(e){e.preventDefault(),e.stopPropagation(),t.seek(u)})}return t},t.removeCuepoint=function(e){var n=t.cuepoints.indexOf(e),i=r(e);if(-1!==n){t.cuepoints=t.cuepoints.slice(0,n).concat(t.cuepoints.slice(n+1));var o=l[i].indexOf(e);if(-1!==o)return l[i]=l[i].slice(0,o).concat(l[i].slice(o+1)),t}}})},{"../common":1,"../flowplayer":29,bean:32}],9:[function(t){"use strict";var e=t("../flowplayer"),n=t("bean"),i=t("../common"),o=t("./util/clipboard");e(function(t,e){if(!1!==t.conf.embed&&!1!==t.conf.share){var r=i.find(".fp-share-menu",e)[0],s=i.createElement("a",{"class":"fp-icon fp-embed",title:"Copy to your site"},"Embed");i.append(r,s),t.embedCode=function(){var n=t.conf.embed||{},o=t.video,r=n.width||o.width||i.width(e),s=n.height||o.height||i.height(e),a=t.conf.ratio,l='<iframe src="'+t.shareUrl(!0)+'" allowfullscreen style="border:none;';return n.width||n.height?(isNaN(r)||(r+="px"),isNaN(s)||(s+="px"),l+"width:"+r+";height:"+s+';"></iframe>'):((!a||t.conf.adaptiveRatio)&&(a=s/r),'<div style="position:relative;width:100%;display:inline-block;">'+l+'position:absolute;top:0;left:0;width:100%;height:100%;"></iframe><div style="padding-top:'+100*a+'%;"></div></div>')},n.on(e,"click",".fp-embed",function(){o(t.embedCode(),function(){t.message("The embed code is now on your clipboard",2e3)},function(){t.textarea(t.embedCode(),"Copy the code below to embed your video")})})}})},{"../common":1,"../flowplayer":29,"./util/clipboard":28,bean:32}],10:[function(t,e){"use strict";e.exports=function(t,e){e||(e=document.createElement("div"));var n={},i={},o=function(t,o,r){var s=t.split(".")[0],a=function(l){r&&(e.removeEventListener(s,a),n[t].splice(n[t].indexOf(a),1));var c=[l].concat(i[l.timeStamp+l.type]||[]);o&&o.apply(void 0,c)};e.addEventListener(s,a),n[t]||(n[t]=[]),n[t].push(a)};t.on=t.bind=function(e,n){return e.split(" ").forEach(function(t){o(t,n)}),t},t.one=function(e,n){return e.split(" ").forEach(function(t){o(t,n,!0)}),t};var r=function(t,e){return 0===e.filter(function(e){return-1===t.indexOf(e)}).length};t.off=t.unbind=function(i){return i.split(" ").forEach(function(t){var i=t.split(".").slice(1),o=t.split(".")[0];Object.keys(n).filter(function(t){var e=t.split(".").slice(1);return(!o||0===t.indexOf(o))&&r(e,i)}).forEach(function(t){var i=n[t],o=t.split(".")[0];n[t]=i.filter(function(t){return e.removeEventListener(o,t),!1})})}),t},t.trigger=function(n,o,r){if(n){o=(o||[]).length?o||[]:[o];var s,a=document.createEvent("Event");return s=n.type||n,a.initEvent(s,!1,!0),Object.defineProperty&&(a.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}),i[a.timeStamp+a.type]=o,e.dispatchEvent(a),r?a:t}}},e.exports.EVENTS=["beforeseek","disable","error","finish","fullscreen","fullscreen-exit","load","mute","pause","progress","ready","resume","seek","speed","stop","unload","volume","boot","shutdown"]},{}],11:[function(t){"use strict";var e=t("../flowplayer"),n=t("../common"),i=t("bean");e(function(t,e){var o=t.conf;if(!1!==o.share&&o.facebook){t.facebook=function(){var t,e,n=550,i=420,r=screen.height,s=screen.width,a="scrollbars=yes,resizable=yes,toolbar=no,location=yes",l="string"==typeof o.facebook?o.facebook:window.location.toString();t=Math.round(s/2-n/2),e=0,r>i&&(e=Math.round(r/2-i/2)),window.open("https://www.facebook.com/sharer.php?s=100&p[url]="+encodeURIComponent(l),"sharer",a+",width="+n+",height="+i+",left="+t+",top="+e)};var r=n.find(".fp-share-menu",e)[0],s=n.createElement("a",{"class":"fp-icon fp-facebook"},"Facebook");n.append(r,s),i.on(e,"click",".fp-facebook",function(){t.facebook()})}})},{"../common":1,"../flowplayer":29,bean:32}],12:[function(t){"use strict";var e,n=t("../flowplayer"),i=t("bean"),o=t("../common"),r="fullscreen",s="fullscreen-exit",a=n.support.fullscreen,l=navigator.userAgent.toLowerCase(),c=/(safari)[ \/]([\w.]+)/.exec(l)&&!/(chrome)[ \/]([\w.]+)/.exec(l);i.on(document,"fullscreenchange.ffscr webkitfullscreenchange.ffscr mozfullscreenchange.ffscr MSFullscreenChange.ffscr",function(t){var i=document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.fullscreenElement||document.msFullscreenElement||t.target;if(e||i.parentNode&&i.parentNode.getAttribute("data-flowplayer-instance-id")){var o=e||n(i.parentNode);i&&!e?e=o.trigger(r,[o]):(e.trigger(s,[e]),e=null)}}),n(function(t,n){var i=o.createElement("div",{className:"fp-player"});if(Array.prototype.map.call(n.children,o.identity).forEach(function(t){o.matches(t,".fp-ratio,script")||i.appendChild(t)}),n.appendChild(i),t.conf.fullscreen){var l,u,d,h=window;t.isFullscreen=!1,t.fullscreen=function(e){return t.disabled?void 0:(void 0===e&&(e=!t.isFullscreen),e&&(l=h.scrollY,u=h.scrollX),a?e?["requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].forEach(function(t){return"function"==typeof i[t]?(i[t](Element.ALLOW_KEYBOARD_INPUT),setTimeout(function(){!c||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||i[t]()}),!1):void 0}):["exitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].forEach(function(t){return"function"==typeof document[t]?(document[t](),!1):void 0}):t.trigger(e?r:s,[t]),t)},t.on("mousedown.fs",function(){+new Date-d<150&&t.ready&&t.fullscreen(),d=+new Date}),t.on(r,function(){o.addClass(n,"is-fullscreen"),o.toggleClass(n,"fp-minimal-fullscreen",o.hasClass(n,"fp-minimal")),o.removeClass(n,"fp-minimal"),a||o.css(n,"position","fixed"),t.isFullscreen=!0}).on(s,function(){var e;o.toggleClass(n,"fp-minimal",o.hasClass(n,"fp-minimal-fullscreen")),o.removeClass(n,"fp-minimal-fullscreen"),a||"html5"!==t.engine||(e=n.css("opacity")||"",o.css(n,"opacity",0)),a||o.css(n,"position",""),o.removeClass(n,"is-fullscreen"),a||"html5"!==t.engine||setTimeout(function(){n.css("opacity",e)}),t.isFullscreen=!1,h.scrollTo(u,l)}).on("unload",function(){t.isFullscreen&&t.fullscreen()}),t.on("shutdown",function(){e=null})}})},{"../common":1,"../flowplayer":29,bean:32}],13:[function(t){"use strict";var e,n,i=t("../flowplayer"),o=t("bean"),r="is-help",s=t("../common");o.on(document,"keydown.fp",function(t){var i=e,o=t.ctrlKey||t.metaKey||t.altKey,a=t.which,l=i&&i.conf;if(i&&l.keyboard&&!i.disabled){if(-1!=[63,187,191].indexOf(a))return s.toggleClass(n,r),!1;if(27==a&&s.hasClass(n,r))return s.toggleClass(n,r),!1;if(!o&&i.ready){if(t.preventDefault(),t.shiftKey)return void(39==a?i.speed(!0):37==a&&i.speed(!1));if(58>a&&a>47)return i.seekTo(a-48);switch(a){case 38:case 75:i.volume(i.volumeLevel+.15);break;case 40:case 74:i.volume(i.volumeLevel-.15);break;case 39:case 76:i.seeking=!0,i.seek(!0);break;case 37:case 72:i.seeking=!0,i.seek(!1);break;case 190:i.seekTo();break;case 32:i.toggle();break;case 70:l.fullscreen&&i.fullscreen();break;case 77:i.mute();break;case 81:i.unload()}}}}),i(function(t,a){if(t.conf.keyboard){o.on(a,"mouseenter mouseleave",function(i){(e=t.disabled||"mouseover"!=i.type?0:t)&&(n=a)});var l=i.support.video&&"flash"!==t.conf.engine&&document.createElement("video").playbackRate?"<p><em>shift</em> + <em>&#8592;</em><em>&#8594;</em>slower / faster</p>":"";a.appendChild(s.createElement("div",{className:"fp-help"},'         <a class="fp-close"></a>         <div class="fp-help-section fp-help-basics">            <p><em>space</em>play / pause</p>            <p><em>q</em>unload | stop</p>            <p><em>f</em>fullscreen</p>'+l+'         </div>         <div class="fp-help-section">            <p><em>&#8593;</em><em>&#8595;</em>volume</p>            <p><em>m</em>mute</p>         </div>         <div class="fp-help-section">            <p><em>&#8592;</em><em>&#8594;</em>seek</p>            <p><em>&nbsp;. </em>seek to previous            </p><p><em>1</em><em>2</em>&hellip; <em>6</em> seek to 10%, 20% &hellip; 60% </p>         </div>   ')),o.on(a,"click",".fp-close",function(){s.toggleClass(a,r)}),t.bind("shutdown",function(){n==a&&(n=null)})}})},{"../common":1,"../flowplayer":29,bean:32}],14:[function(t){var e=t("../flowplayer"),n=t("../common"),i=t("bean");e(function(t,e){t.showMenu=function(o,r){var s=n.find(".fp-ui",e)[0];n.toggleClass(o,"fp-active",!0),setTimeout(function(){i.one(document,"click",function(){t.hideMenu(o)})});var a=r;if(r&&r.tagName&&(a={left:n.offset(r).left,rightFallbackOffset:n.width(r),top:n.offset(r).top+n.height(r)}),!a)return n.css(o,"top","auto");a.rightFallbackOffset=a.rightFallbackOffset||0;var l=a.top-n.offset(s).top,c=a.left-n.offset(s).left;n.width(o)+c>n.width(s)&&(c=c-n.width(o)+a.rightFallbackOffset),n.height(o)+l>n.height(s)&&(l-=n.height(o)),n.css(o,{top:l+"px",left:c+"px"})},t.hideMenu=function(t){n.toggleClass(t,"fp-active",!1),n.css(t,{top:"-9999em"})}})},{"../common":1,"../flowplayer":29,bean:32}],15:[function(t){var e=t("../flowplayer"),n=t("../common"),i=t("bean");e(function(t,e){function o(t){var e=n.createElement("div",{className:"fp-message"},t);return a.insertBefore(e,s),setTimeout(function(){n.toggleClass(e,"fp-shown")}),e}function r(t){n.removeNode(t)}var s=n.find(".fp-header",e)[0],a=n.find(".fp-ui",e)[0];t.message=function(t,e){var i=o(t),s=function(){n.toggleClass(i,"fp-shown"),setTimeout(function(){r(i)},500)};return e&&setTimeout(s,e),s},t.textarea=function(t){var e=document.createElement("textarea");e.value=t,e.className="fp-textarea",a.appendChild(e),i.on(document,"click.fptextarea",function(t){return t.target===e?e.select():(t.stopPropagation(),t.preventDefault(),n.removeNode(e),void i.off(document,"click.fptextarea"))})}})},{"../common":1,"../flowplayer":29,bean:32}],16:[function(t){"use strict";var e=t("../flowplayer"),n=/IEMobile/.test(window.navigator.userAgent),i=t("../common"),o=t("bean"),r=t("./ui").format,s=window.navigator.userAgent;(e.support.touch||n)&&e(function(t,a){var l=/Android/.test(s)&&!/Firefox/.test(s)&&!/Opera/.test(s),c=/Silk/.test(s),u=l?parseFloat(/Android\ (\d\.\d)/.exec(s)[1],10):0;if(l&&!n){if(!/Chrome/.test(s)&&4>u){var d=t.load;t.load=function(){var e=d.apply(t,arguments);return t.trigger("ready",[t,t.video]),e}}var h,f=0,p=function(t){h=setInterval(function(){t.video.time=++f,t.trigger("progress",[t,f])},1e3)};t.bind("ready pause unload",function(){h&&(clearInterval(h),h=null)}),t.bind("ready",function(){f=0}),t.bind("resume",function(e,n){return n.live?f?p(n):void t.one("progress",function(t,e,n){0===n&&p(e)}):void 0})}e.support.volume||(i.removeClass(a,"fp-mute"),i.addClass(a,"no-volume")),i.addClass(a,"is-touch"),t.sliders&&t.sliders.timeline&&t.sliders.timeline.disableAnimation();var m=!1;if(o.on(a,"touchmove",function(){m=!0}),o.on(a,"touchend click",function(e){if(!m){var n=i.find("video.fp-engine",a)[0];return n&&(n.muted=!1),t.playing&&!i.hasClass(a,"is-mouseover")?(i.addClass(a,"is-mouseover"),i.removeClass(a,"is-mouseout"),e.preventDefault(),void e.stopPropagation()):void(t.playing||t.splash||!i.hasClass(a,"is-mouseout")||i.hasClass(a,"is-mouseover")||setTimeout(function(){t.disabled||t.playing||t.splash||t.resume()},400))}m=!1}),!e.support.fullscreen&&t.conf.native_fullscreen&&"function"==typeof document.createElement("video").webkitEnterFullScreen){var g=t.fullscreen;t.fullscreen=function(){var e=i.find("video.fp-engine",a)[0];return e?(t.trigger("fullscreen",[t]),o.on(document,"webkitfullscreenchange.nativefullscreen",function(){document.webkitFullscreenElement===e&&(o.off(document,".nativefullscreen"),o.on(document,"webkitfullscreenchange.nativefullscreen",function(){document.webkitFullscreenElement||(o.off(document,".nativefullscreen"),t.trigger("fullscreen-exit",[t]))}))}),e.webkitEnterFullScreen(),void o.one(e,"webkitendfullscreen",function(){o.off(document,"fullscreenchange.nativefullscreen"),t.trigger("fullscreen-exit",[t]),i.prop(e,"controls",!0),i.prop(e,"controls",!1)})):g.apply(t)}}(l||c)&&t.bind("ready",function(){var e=i.find("video.fp-engine",a)[0];o.one(e,"canplay",function(){e.play()}),e.play(),t.bind("progress.dur",function(){if(!t.live&&!t.conf.live){var n=e.duration;1!==n&&(t.video.duration=n,i.find(".fp-duration",a)[0].innerHTML=r(n),t.unbind("progress.dur"))}})})})},{"../common":1,"../flowplayer":29,"./ui":25,bean:32}],17:[function(t){"use strict";var e=t("../flowplayer"),n=t("extend-object"),i=t("bean"),o=t("../common"),r=t("./resolve"),s=new r,a=window.jQuery,l=/^#/;e(function(t,e){function c(){return o.find(p.query,u())}function u(){return l.test(p.query)?void 0:e}function d(){return o.find(p.query+"."+m,u())}function h(){var n=o.find(".fp-playlist",e)[0];if(!n){n=o.createElement("div",{className:"fp-playlist"});var i=o.find(".fp-next,.fp-prev",e);i.length?i[0].parentElement.insertBefore(n,i[0]):o.insertAfter(e,o.find("video",e)[0],n)}n.innerHTML="",t.conf.playlist[0].length&&(t.conf.playlist=t.conf.playlist.map(function(t){if("string"==typeof t){var e=t.split(r.TYPE_RE)[1];return{sources:[{type:"m3u8"===e.toLowerCase()?"application/x-mpegurl":"video/"+e,src:t}]}}return{sources:t.map(function(t){var e={};return Object.keys(t).forEach(function(n){e.type=/mpegurl/i.test(n)?"application/x-mpegurl":"video/"+n,e.src=t[n]}),e})}})),t.conf.playlist.forEach(function(e,i){var r=e.sources[0].src;n.appendChild(o.createElement("a",{href:r,className:t.video.index===i?m:void 0,"data-index":i}))})}function f(e){return"undefined"!=typeof e.index?e.index:"undefined"!=typeof t.video.index?t.video.index:t.conf.startIndex||0}var p=n({active:"is-active",advance:!0,query:".fp-playlist a"},t.conf),m=p.active,g=o.find(".fp-ui",e)[0],v=o.hasClass(e,"fp-custom-playlist")||!!p.customPlaylist;o.toggleClass(e,"fp-custom-playlist",v),o.toggleClass(e,"fp-default-playlist",!v),t.play=function(e){if(void 0===e)return t.resume();if("number"==typeof e&&!t.conf.playlist[e])return t;if("number"!=typeof e)return t.load.apply(null,arguments);var i=n({index:e},t.conf.playlist[e]);return t.off("beforeresume.fromfirst"),e===t.video.index?t.load(i,function(){t.resume()}):(t.load(i,function(){t.video.index=e}),t)},t.next=function(e){e&&e.preventDefault();var n=t.video.index;return-1!=n&&(n=n===t.conf.playlist.length-1?0:n+1,t.play(n)),t},t.prev=function(e){e&&e.preventDefault();var n=t.video.index;return-1!=n&&(n=0===n?t.conf.playlist.length-1:n-1,t.play(n)),t},t.setPlaylist=function(e,n){return t.conf.playlist=e,n||delete t.video.index,h(),t},t.addPlaylistItem=function(e){return delete t.video.is_last,t.setPlaylist(t.conf.playlist.concat([e]),!0)},t.removePlaylistItem=function(e){var n=t.conf.playlist;return t.setPlaylist(n.slice(0,e).concat(n.slice(e+1)))},i.on(e,"click",".fp-next",t.next),i.on(e,"click",".fp-prev",t.prev),p.advance&&t.off("finish.pl").on("finish.pl",function(t,n){if(n.video.loop)return n.seek(0,function(){n.resume()});var i=n.video.index>=0?n.video.index+1:void 0;i<n.conf.playlist.length||p.loop?(i=i===n.conf.playlist.length?0:i,o.removeClass(e,"is-finished"),setTimeout(function(){n.play(i)})):n.conf.playlist.length>1&&(n.one("beforeresume.fromfirst",function(t){t.preventDefault(),n.play(0)}),n.one("seek",function(){n.off("beforeresume.fromfirst")}))});var y=!1;t.conf.playlist.length&&(y=!0,h(),t.conf.clip&&t.conf.clip.sources.length||(t.conf.clip=t.conf.playlist[t.conf.startIndex||0])),c().length&&!y&&(t.conf.playlist=[],delete t.conf.startIndex,c().forEach(function(e){var i=e.href;e.setAttribute("data-index",t.conf.playlist.length);var o=s.resolve(i,t.conf.clip.sources);a&&n(o,a(e).data()),t.conf.playlist.push(o)})),o.find(".fp-prev,.fp-next,.fp-playlist",e).forEach(function(t){g.appendChild(t)}),i.on(l.test(p.query)?document:e,"click",p.query,function(e){e.preventDefault();var n=e.currentTarget,i=Number(n.getAttribute("data-index"));-1!=i&&t.play(i)}),t.on("load",function(n,i,r){if(t.conf.playlist.length){var s=d()[0],a=s&&s.getAttribute("data-index"),l=r.index=f(r),c=o.find(p.query+'[data-index="'+l+'"]',u())[0],h=l==t.conf.playlist.length-1;s&&o.removeClass(s,m),c&&o.addClass(c,m),o.removeClass(e,"video"+a),o.addClass(e,"video"+l),o.toggleClass(e,"last-video",h),r.index=i.video.index=l,r.is_last=i.video.is_last=h}}).on("unload.pl",function(){t.conf.playlist.length&&(d().forEach(function(t){o.toggleClass(t,m)}),t.conf.playlist.forEach(function(t,n){o.removeClass(e,"video"+n)}))}),t.conf.playlist.length&&(t.conf.loop=!1)})},{"../common":1,"../flowplayer":29,"./resolve":19,bean:32,"extend-object":37}],18:[function(t){var e=t("../flowplayer"),n=t("../common"),i=t("bean");e(function(t,e){function o(){n.find(".fp-qsel-menu",e).forEach(n.removeNode),n.find(".fp-qsel",e).forEach(n.removeNode)}function r(t){l.appendChild(n.createElement("strong",{className:"fp-qsel"},"HD"));var e=n.createElement("div",{className:"fp-menu fp-qsel-menu"},"<strong>Quality</strong>");t.forEach(function(t){var n=document.createElement("a"),i="undefined"!=typeof t.value?t.value:t;n.setAttribute("data-quality",i),n.innerHTML=t.label||t,e.appendChild(n)}),a.appendChild(e)}function s(t){n.find(".fp-qsel-menu a",e).forEach(function(e){n.toggleClass(e,"fp-selected",e.getAttribute("data-quality")==t),n.toggleClass(e,"fp-color",e.getAttribute("data-quality")==t)})}var a=n.find(".fp-ui",e)[0],l=n.find(".fp-controls",a)[0];i.on(e,"click",".fp-qsel",function(){var i=n.find(".fp-qsel-menu",e)[0];n.hasClass(i,"fp-active")?t.hideMenu():t.showMenu(i)}),i.on(e,"click",".fp-qsel-menu a",function(e){var n=e.target.getAttribute("data-quality");t.quality(n)}),t.quality=function(e){e=isNaN(Number(e))?e:Number(e),t.trigger("quality",[t,e])},t.on("quality",function(t,e,n){s(n,e.video.qualities)}),t.on("ready",function(t,e,n){o(),!n.qualities||n.qualities.filter(function(t){return"undefined"==typeof t.value||t.value>-1}).length<2||(r(n.qualities,n.quality),s(n.quality,n.qualities))})})},{"../common":1,"../flowplayer":29,bean:32}],19:[function(t,e){"use strict";function n(t){var e=t.attr("src"),n=t.attr("type")||"",i=e.split(o)[1];return n=n.toLowerCase(),r(t.data(),{src:e,suffix:i||n,type:n||i})}function i(t){return/mpegurl/i.test(t)?"application/x-mpegurl":"video/"+t}var o=/\.(\w{3,4})(\?.*)?$/i,r=t("extend-object");e.exports=function(){var t=this;t.sourcesFromVideoTag=function(t,e){var i=[];return e("source",t).each(function(){i.push(n(e(this)))}),!i.length&&t.length&&i.push(n(t)),i},t.resolve=function(t,e){return t?("string"==typeof t&&((t={src:t,sources:[]}).sources=(e||[]).map(function(e){var n=e.src.split(o)[1];return{type:e.type,src:t.src.replace(o,"."+n+"$2")}})),t instanceof Array&&(t={sources:t.map(function(t){return t.type&&t.src?t:Object.keys(t).reduce(function(e,n){return r(e,{type:i(n),src:t[n]})},{})})}),t):{sources:e}}},e.exports.TYPE_RE=o},{"extend-object":37}],20:[function(t){"use strict";var e=t("../flowplayer"),n=t("../common"),i=t("extend-object"),o=t("bean");e(function(t,e){var r=t.conf;if(!1!==r.share){t.shareUrl=function(e){if(e&&r.embed&&r.embed.iframe)return r.embed.iframe;if("string"==typeof t.conf.share)return t.conf.share;var o=encodeURIComponent(t.video.title||(n.find("title")[0]||{}).innerHTML||"Flowplayer video"),s=encodeURIComponent(btoa(JSON.stringify(i({},t.conf,t.extensions)))),a=encodeURIComponent(window.location.toString());return(e?"https://flowplayer.com/e/":"https://flowplayer.com/s/")+"?t="+o+"&c="+s+"&r="+a};var s=n.createElement("div",{className:"fp-menu fp-share-menu"},"<strong>Share</strong>");n.find(".fp-ui",e)[0].appendChild(s);var a=n.find(".fp-share",e)[0]
;o.on(e,"click",".fp-share",function(e){e.preventDefault(),n.hasClass(s,"fp-active")?t.hideMenu():t.showMenu(s,a)})}else n.find(".fp-share",e).forEach(n.removeNode)})},{"../common":1,"../flowplayer":29,bean:32,"extend-object":37}],21:[function(t){"use strict";var e=t("../flowplayer"),n=t("../common"),i=t("bean"),o=t("./subtitles/parser");e.defaults.subtitleParser=o,e(function(t,o){var r,s,a,l;(!e.support.inlineVideo||!e.support.fullscreen&&t.conf.native_fullscreen)&&(t.conf.nativesubtitles=!0);var c=function(){return a=a||n.createElement("strong",{className:"fp-cc"},"CC"),l=l||n.createElement("div",{className:"fp-menu fp-subtitle-menu"},"<strong>Closed Captions</strong>"),n.find("a",l).forEach(n.removeNode),l.appendChild(n.createElement("a",{"data-subtitle-index":-1},"No subtitles")),(t.video.subtitles||[]).forEach(function(t,e){var i=t.srclang||"en",o=t.label||"Default ("+i+")",r=n.createElement("a",{"data-subtitle-index":e},o);l.appendChild(r)}),n.find(".fp-ui",o)[0].appendChild(l),n.find(".fp-controls",o)[0].appendChild(a),a};i.on(o,"click",".fp-cc",function(){n.hasClass(l,"fp-active")?t.hideMenu():t.showMenu(l)}),i.on(o,"click",".fp-subtitle-menu [data-subtitle-index]",function(e){e.preventDefault();var n=e.target.getAttribute("data-subtitle-index");return"-1"===n?t.disableSubtitles():void t.loadSubtitles(n)});var u=function(){s=(s=n.find(".fp-captions",o)[0])||n.appendTo(n.createElement("div",{"class":"fp-captions"}),n.find(".fp-player",o)[0]),Array.prototype.forEach.call(s.children,n.removeNode),c()};t.on("ready",function(e,i,r){if(i.subtitles=[],u(),n.removeClass(o,"has-menu"),t.disableSubtitles(),n.toggleClass(a,"fp-hidden",!r.subtitles||!r.subtitles.length),r.subtitles&&r.subtitles.length){var s=r.subtitles.filter(function(t){return t["default"]})[0];s&&i.loadSubtitles(r.subtitles.indexOf(s))}}),t.bind("cuepoint",function(t,e,i){i.subtitle?(r=i.index,n.html(s,i.subtitle.text),n.addClass(s,"fp-shown")):i.subtitleEnd&&(n.removeClass(s,"fp-shown"),r=i.index)}),t.bind("seek",function(e,i,o){r&&t.cuepoints[r]&&t.cuepoints[r].time>o&&(n.removeClass(s,"fp-shown"),r=null),(t.cuepoints||[]).forEach(function(e,n){var i=e.subtitle;i&&r!=n?o>=e.time&&(!i.endTime||o<=i.endTime)&&t.trigger("cuepoint",[t,e]):e.subtitleEnd&&o>=e.time&&n==r+1&&t.trigger("cuepoint",[t,e])})}),t.on("unload",function(){n.find(".fp-captions",o).forEach(n.removeNode)});var d=function(t){n.toggleClass(n.find("a.fp-selected",l)[0],"fp-selected"),n.toggleClass(n.find('a[data-subtitle-index="'+t+'"]',l)[0],"fp-selected")},h=function(t,e){var i=n.find("video.fp-engine",o)[0].textTracks;i.length&&(null===t?[].forEach.call(i,function(t){t.mode=e}):i[t].mode=e)};t.disableSubtitles=function(){return t.subtitles=[],(t.cuepoints||[]).forEach(function(e){(e.subtitle||e.subtitleEnd)&&t.removeCuepoint(e)}),s&&Array.prototype.forEach.call(s.children,n.removeNode),d(-1),e.support.subtitles&&t.conf.nativesubtitles&&"html5"==t.engine.engineName&&h(null,"disabled"),t},t.loadSubtitles=function(i){t.disableSubtitles();var o=t.video.subtitles[i].src;return o?(d(i),e.support.subtitles&&t.conf.nativesubtitles&&"html5"==t.engine.engineName?void h(i,"showing"):(n.xhrGet(o,function(n){t.conf.subtitleParser(n).forEach(function(n){var i={time:n.startTime,subtitle:n,visible:!1};t.subtitles.push(n),t.addCuepoint(i),t.addCuepoint({time:n.endTime,subtitleEnd:n.title,visible:!1}),0!==n.startTime||t.video.time||t.splash||t.trigger("cuepoint",[t,e.extend({},i,{index:0})]),t.splash&&t.one("ready",function(){t.trigger("cuepoint",[t,i])})})},function(){return t.trigger("error",{code:8,url:o}),!1}),t)):void 0}})},{"../common":1,"../flowplayer":29,"./subtitles/parser":22,bean:32}],22:[function(t,e){e.exports=function(t){function e(t){var e=t.split(":");return 2==e.length&&e.unshift(0),60*e[0]*60+60*e[1]+parseFloat(e[2].replace(",","."))}for(var n,i,o,r=/^(([0-9]{2}:){1,2}[0-9]{2}[,.][0-9]{3}) --\> (([0-9]{2}:){1,2}[0-9]{2}[,.][0-9]{3})(.*)/,s=[],a=0,l=t.split("\n"),c=l.length,u={};c>a;a++)if(i=r.exec(l[a])){for(n=l[a-1],o="<p>"+l[++a]+"</p><br/>";"string"==typeof l[++a]&&l[a].trim()&&a<l.length;)o+="<p>"+l[a]+"</p><br/>";u={title:n,startTime:e(i[1]),endTime:e(i[3]),text:o},s.push(u)}return s}},{}],23:[function(t){"use strict";var e=t("../flowplayer"),n=t("extend-object");!function(){var t=function(t){var e=/iP(ad|hone)(; CPU)? OS (\d+_\d)/.exec(t);return e&&e.length>1?parseFloat(e[e.length-1].replace("_","."),10):0},i=function(){var t=document.createElement("video");return t.loop=!0,t.autoplay=!0,t.preload=!0,t},o={},r=document.documentElement.style,s=navigator.userAgent.toLowerCase(),a=/(chrome)[ \/]([\w.]+)/.exec(s)||/(safari)[ \/]([\w.]+)/.exec(s)||/(webkit)[ \/]([\w.]+)/.exec(s)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(s)||/(msie) ([\w.]+)/.exec(s)||s.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(s)||[];a[1]&&(o[a[1]]=!0,o.version=a[2]||"0");var l=i(),c=navigator.userAgent,u=o.msie||/Trident\/7/.test(c),d=/iPad|MeeGo/.test(c)&&!/CriOS/.test(c),h=/iPad/.test(c)&&/CriOS/.test(c),f=/iP(hone|od)/i.test(c)&&!/iPad/.test(c)&&!/IEMobile/i.test(c),p=/Android/.test(c)&&!/Firefox/.test(c),m=/Android/.test(c)&&/Firefox/.test(c),g=/Silk/.test(c),v=/IEMobile/.test(c),y=v?parseFloat(/Windows\ Phone\ (\d+\.\d+)/.exec(c)[1],10):0,b=v?parseFloat(/IEMobile\/(\d+\.\d+)/.exec(c)[1],10):0,_=d||f?t(c):0,w=p?parseFloat(/Android\ (\d\.\d)/.exec(c)[1],10):0,k=n(e.support,{browser:o,iOS:{iPhone:f,iPad:d||h,version:_,chrome:h},android:!!p&&{firefox:m,version:w},subtitles:!!l.addTextTrack,fullscreen:"boolean"==typeof document.webkitFullscreenEnabled?document.webkitFullscreenEnabled:"function"==typeof document.webkitCancelFullScreen&&!/Mac OS X 10_5.+Version\/5\.0\.\d Safari/.test(c)||document.mozFullScreenEnabled||"function"==typeof document.exitFullscreen||"function"==typeof document.msExitFullscreen,inlineBlock:!(u&&o.version<8),touch:"ontouchstart"in window,dataload:!d&&!f&&!v,flex:"flexWrap"in r||"WebkitFlexWrap"in r||"msFlexWrap"in r,svg:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,zeropreload:!u&&!p,volume:!(d||f||g||h),cachedVideoTag:!(d||f||h||v),firstframe:!(g||v||m||_&&10>_||p&&4.4>w),mutedAutoplay:(f||d||h)&&_>=10||p&&w>4.3,inlineVideo:(!f||_>=10)&&(!v||y>=8.1&&b>=11)&&(!p||w>=3),hlsDuration:!p&&(!o.safari||d||f||h),seekable:!d&&!h});k.autoplay=k.firstframe;try{var C=navigator.plugins["Shockwave Flash"],S=u?new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version"):C.description;u||C[0].enabledPlugin?((S=S.split(/\D+/)).length&&!S[0]&&(S=S.slice(1)),k.flashVideo=S[0]>9||9==S[0]&&S[3]>=115):k.flashVideo=!1}catch(x){}try{k.video=!!l.canPlayType,k.video&&l.canPlayType("video/mp4")}catch(E){k.video=!1}k.animation=function(){for(var t=["","Webkit","Moz","O","ms","Khtml"],e=document.createElement("p"),n=0;n<t.length;n++)if("undefined"!=typeof e.style[t[n]+"AnimationName"])return!0}()}()},{"../flowplayer":29,"extend-object":37}],24:[function(t){"use strict";var e=t("../flowplayer"),n=t("../common"),i=t("bean");e(function(t,e){var o=t.conf;if(!1!==o.share&&!1!==o.twitter){t.tweet=function(){var e,n,i=550,r=420,s=screen.height,a=screen.width,l="scrollbars=yes,resizable=yes,toolbar=no,location=yes",c="string"==typeof o.twitter?o.twitter:t.shareUrl();e=Math.round(a/2-i/2),n=0,s>r&&(n=Math.round(s/2-r/2)),window.open("https://twitter.com/intent/tweet?url="+encodeURIComponent(c),"intent",l+",width="+i+",height="+r+",left="+e+",top="+n)};var r=n.find(".fp-share-menu",e)[0],s=n.createElement("a",{"class":"fp-icon fp-twitter"},"Twitter");n.append(r,s),i.on(e,"click",".fp-twitter",function(){t.tweet()})}})},{"../common":1,"../flowplayer":29,bean:32}],25:[function(t,e){(function(n){"use strict";function i(t){return(t=parseInt(t,10))>=10?t:"0"+t}function o(t,e){t=Math.max(t||0,0),t=e?Math.ceil(t):Math.floor(t);var n=Math.floor(t/3600),o=Math.floor(t/60);return t-=60*o,n>=1?n+":"+i(o-=60*n)+":"+i(t):i(o)+":"+i(t)}var r=t("../flowplayer"),s=t("../common"),a=t("bean"),l=t("./ui/slider"),c=t("./ui/bar-slider"),u=n("PHN2ZyBjbGFzcz0iZnAtcGxheS1yb3VuZGVkLW91dGxpbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDk5Ljg0NCA5OS44NDM0Ij48ZGVmcz48c3R5bGU+LmZwLWNvbG9yLXBsYXl7b3BhY2l0eTowLjY1O30uY29udHJvbGJ1dHRvbntmaWxsOiNmZmY7fTwvc3R5bGU+CjwvZGVmcz4KPHRpdGxlPnBsYXktcm91bmRlZC1vdXRsaW5lPC90aXRsZT48cGF0aCBjbGFzcz0iZnAtY29sb3ItcGxheSIgZD0iTTQ5LjkyMTctLjA3OGE1MCw1MCwwLDEsMCw1MCw1MEE1MC4wNTY0LDUwLjA1NjQsMCwwLDAsNDkuOTIxNy0uMDc4WiIvPjxwYXRoIGNsYXNzPSJjb250cm9sYnV0dG9uIiBkPSJNNDEuMDM1OSw3MS4xOWE1LjA0OTIsNS4wNDkyLDAsMCwxLTIuNTU3NS0uNjY3M2MtMS44MDMxLTEuMDQxLTIuNzk1OC0zLjEyNDgtMi43OTU4LTUuODY2NFYzNS4xODg3YzAtMi43NDI5Ljk5MzMtNC44MjcyLDIuNzk3LTUuODY3NiwxLjgwMjUtMS4wNDIyLDQuMTAzNC0uODYsNi40OC41MTQzTDcwLjQ3ODIsNDQuNTY3MmMyLjM3NTEsMS4zNzExLDMuNjgyNiwzLjI3MjUsMy42ODMyLDUuMzU0NXMtMS4zMDc2LDMuOTg0NS0zLjY4MzIsNS4zNTYyTDQ0Ljk1OTIsNzAuMDExNEE3LjkzODQsNy45Mzg0LDAsMCwxLDQxLjAzNTksNzEuMTlabS4wMDY1LTQwLjEyM2EyLjY3OTQsMi42Nzk0LDAsMCwwLTEuMzU4Mi4zNDEzYy0xLjAyNjMuNTkyNi0xLjU5MTIsMS45MzQ5LTEuNTkxMiwzLjc4VjY0LjY1NjNjMCwxLjg0NDkuNTY0OSwzLjE4NjYsMS41OTA2LDMuNzc5MSwxLjAyODEuNTkzMiwyLjQ3MzMuNDEwOCw0LjA3LS41MTJMNjkuMjczLDUzLjE5MDZjMS41OTgzLS45MjI3LDIuNDc4LTIuMDgzOCwyLjQ3OC0zLjI2ODlzLS44OC0yLjM0NDUtMi40NzgtMy4yNjY2TDQzLjc1NCwzMS45MjI3QTUuNTY4NSw1LjU2ODUsMCwwLDAsNDEuMDQyMywzMS4wNjcxWiIgZmlsdGVyPSJ1cmwoI2YxKSIvPjwvc3ZnPgo=","base64"),d=n("PHN2ZyBjbGFzcz0iZnAtcGxheS1yb3VuZGVkLWZpbGwiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwMCAxMDAiPgogIDxkZWZzPjxzdHlsZT4uYXtmaWxsOiMwMDA7b3BhY2l0eTowLjY1O30uYntmaWxsOiNmZmY7b3BhY2l0eToxLjA7fTwvc3R5bGU+CiAgPC9kZWZzPjx0aXRsZT5wbGF5LXJvdW5kZWQtZmlsbDwvdGl0bGU+CiAgPHBhdGggY2xhc3M9ImZwLWNvbG9yLXBsYXkiIGQ9Ik00OS45MjE3LS4wNzhhNTAsNTAsMCwxLDAsNTAsNTBBNTAuMDU2NCw1MC4wNTY0LDAsMCwwLDQ5LjkyMTctLjA3OFoiLz4KICA8cGF0aCBjbGFzcz0iYiIgZD0iTTM1Ljk0MiwzNS4yMzIzYzAtNC43Mjg5LDMuMzUwNi02LjY2MzcsNy40NDYtNC4yOTcxTDY4LjgzLDQ1LjYyMzVjNC4wOTU2LDIuMzY0LDQuMDk1Niw2LjIzMTksMCw4LjU5NzdMNDMuMzg4LDY4LjkxYy00LjA5NTQsMi4zNjQtNy40NDYuNDMtNy40NDYtNC4yOTc5WiIgZmlsdGVyPSJ1cmwoI2YxKSIvPgogIDwvc3ZnPgogIAo=","base64"),h=n("PHN2ZyBjbGFzcz0iZnAtcGxheS1zaGFycC1maWxsIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4uZnAtY29sb3ItcGxheXtvcGFjaXR5OjAuNjU7fS5jb250cm9sYnV0dG9ue2ZpbGw6I2ZmZjt9PC9zdHlsZT4KICA8L2RlZnM+CiAgPHRpdGxlPnBsYXktc2hhcnAtZmlsbDwvdGl0bGU+CiAgPHBhdGggY2xhc3M9ImZwLWNvbG9yLXBsYXkiIGQ9Ik00OS45MjE3LS4wNzhhNTAsNTAsMCwxLDAsNTAsNTBBNTAuMDU2NCw1MC4wNTY0LDAsMCwwLDQ5LjkyMTctLjA3OFoiLz4KICA8cG9seWdvbiBjbGFzcz0iY29udHJvbGJ1dHRvbiIgcG9pbnRzPSI3My42MDEgNTAgMzcuOTY4IDcwLjU3MyAzNy45NjggMjkuNDI3IDczLjYwMSA1MCIgZmlsdGVyPSJ1cmwoI2YxKSIvPgo8L3N2Zz4K","base64"),f=n("PHN2ZyBjbGFzcz0iZnAtcGxheS1zaGFycC1vdXRsaW5lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5OS44NDQgOTkuODQzNCI+PGRlZnM+PHN0eWxlPi5jb250cm9sYnV0dG9uYmd7b3BhY2l0eTowLjY1O30uY29udHJvbGJ1dHRvbntmaWxsOiNmZmY7fTwvc3R5bGU+CjwvZGVmcz48dGl0bGU+cGxheS1zaGFycC1vdXRsaW5lPC90aXRsZT48cGF0aCBjbGFzcz0iZnAtY29sb3ItcGxheSIgZD0iTTQ5LjkyMTctLjA3OGE1MCw1MCwwLDEsMCw1MCw1MEE1MC4wNTY0LDUwLjA1NjQsMCwwLDAsNDkuOTIxNy0uMDc4WiIvPjxwYXRoIGNsYXNzPSJjb250cm9sYnV0dG9uIiBkPSJNMzYuOTQ0Myw3Mi4yNDczVjI3LjI5MTZMNzUuODc3Niw0OS43N1ptMi4yLTQxLjE0NTVWNjguNDM3MUw3MS40Nzc2LDQ5Ljc3WiIgZmlsdGVyPSJ1cmwoI2YxKSIvPjwvc3ZnPgo=","base64"),p=n("PHN2ZyBjbGFzcz0iZnAtcGF1c2Utcm91bmRlZC1vdXRsaW5lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5OS44NDM0IDk5Ljg0MzQiPjxkZWZzPjxzdHlsZT4uZnAtY29sb3ItcGxheXtvcGFjaXR5OjAuNjU7fS5yZWN0e2ZpbGw6I2ZmZjt9PC9zdHlsZT4KPC9kZWZzPjx0aXRsZT5wYXVzZS1yb3VuZGVkLW91dGxpbmU8L3RpdGxlPjxwYXRoIGNsYXNzPSJmcC1jb2xvci1wbGF5IiBkPSJNNDkuOTIxMi0uMDc4M2E1MCw1MCwwLDEsMCw1MC4wMDA2LDUwQTUwLjA1NjIsNTAuMDU2MiwwLDAsMCw0OS45MjEyLS4wNzgzWiIvPjxnIGNsYXNzPSJjb250cm9sYnV0dG9uIj48cGF0aCBjbGFzcz0icmVjdCIgZD0iTTM5LjAwMzYsNzEuOTcyNmE3LjU2NSw3LjU2NSwwLDAsMS03LjU1Ny03LjU1NnYtMjguOTlhNy41NTY1LDcuNTU2NSwwLDAsMSwxNS4xMTMsMHYyOC45OUE3LjU2NDgsNy41NjQ4LDAsMCwxLDM5LjAwMzYsNzEuOTcyNlptMC00MS45MDRhNS4zNjQ3LDUuMzY0NywwLDAsMC01LjM1OTMsNS4zNTgydjI4Ljk5YTUuMzU4Nyw1LjM1ODcsMCwwLDAsMTAuNzE3NCwwdi0yOC45OUE1LjM2NDUsNS4zNjQ1LDAsMCwwLDM5LjAwMzYsMzAuMDY4NloiIGZpbHRlcj0idXJsKCNmMSkiLz48cGF0aCBjbGFzcz0icmVjdCIgZD0iTTYwLjg0LDcxLjk3MjZhNy41NjQ4LDcuNTY0OCwwLDAsMS03LjU1Ni03LjU1NnYtMjguOTlhNy41NTY1LDcuNTU2NSwwLDAsMSwxNS4xMTMsMHYyOC45OUE3LjU2NSw3LjU2NSwwLDAsMSw2MC44NCw3MS45NzI2Wm0wLTQxLjkwNGE1LjM2NDUsNS4zNjQ1LDAsMCwwLTUuMzU4Miw1LjM1ODJ2MjguOTlhNS4zNTg3LDUuMzU4NywwLDAsMCwxMC43MTc0LDB2LTI4Ljk5QTUuMzY0Nyw1LjM2NDcsMCwwLDAsNjAuODQsMzAuMDY4NloiIGZpbHRlcj0idXJsKCNmMSkiLz48L2c+PC9zdmc+Cg==","base64"),m=n("PHN2ZyBjbGFzcz0iZnAtcGF1c2Utcm91bmRlZC1maWxsIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmZwLWNvbG9yLXBsYXl7b3BhY2l0eTowLjY1O30ucmVjdHtmaWxsOiNmZmY7fTwvc3R5bGU+CjwvZGVmcz48dGl0bGU+cGF1c2Utcm91bmRlZC1maWxsPC90aXRsZT48cGF0aCBjbGFzcz0iZnAtY29sb3ItcGxheSIgZD0iTTQ5LjkyMTctLjA3OGE1MCw1MCwwLDEsMCw1MCw1MEE1MC4wNTY0LDUwLjA1NjQsMCwwLDAsNDkuOTIxNy0uMDc4WiIvPjxnIGNsYXNzPSJjb250cm9sYnV0dG9uIiBmaWx0ZXI9InVybCgjZjEpIj48cmVjdCBjbGFzcz0icmVjdCIgeD0iMzEuODQ0IiB5PSIyOC4xMjMxIiB3aWR0aD0iMTMuNDM2MiIgaGVpZ2h0PSI0My41OTczIiByeD0iNi43MTgxIiByeT0iNi43MTgxIi8+PHJlY3QgY2xhc3M9InJlY3QiIHg9IjU0LjU2MzgiIHk9IjI4LjEyMzEiIHdpZHRoPSIxMy40MzYyIiBoZWlnaHQ9IjQzLjU5NzMiIHJ4PSI2LjcxODEiIHJ5PSI2LjcxODEiLz48L2c+PC9zdmc+Cg==","base64"),g=n("PHN2ZyBjbGFzcz0iZnAtcGF1c2Utc2hhcnAtZmlsbCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PGRlZnM+PHN0eWxlPi5mcC1jb2xvci1wbGF5e29wYWNpdHk6MC42NTt9LnJlY3R7ZmlsbDojZmZmO308L3N0eWxlPgo8L2RlZnM+PHRpdGxlPnBhdXNlLXNoYXJwLWZpbGw8L3RpdGxlPjxwYXRoIGNsYXNzPSJmcC1jb2xvci1wbGF5IiBkPSJNNDkuOTIxNy0uMDc4YTUwLDUwLDAsMSwwLDUwLDUwQTUwLjA1NjQsNTAuMDU2NCwwLDAsMCw0OS45MjE3LS4wNzhaIi8+PGcgY2xhc3M9ImNvbnRyb2xidXR0b24iIGZpbHRlcj0idXJsKCNmMSkiPjxyZWN0IGNsYXNzPSJyZWN0IiB4PSIzMy41IiB5PSIzMC4xMDQyIiB3aWR0aD0iMTIuMjYzNCIgaGVpZ2h0PSIzOS43OTE3Ii8+PHJlY3QgY2xhc3M9InJlY3QiIHg9IjU0LjIzNjYiIHk9IjMwLjEwNDIiIHdpZHRoPSIxMi4yNjM0IiBoZWlnaHQ9IjM5Ljc5MTciLz48L2c+PC9zdmc+Cg==","base64"),v=n("PHN2ZyBjbGFzcz0iZnAtcGF1c2Utc2hhcnAtb3V0bGluZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgOTkuODQzNCA5OS44NDM0Ij48ZGVmcz48c3R5bGU+LmZwLWNvbG9yLXBsYXl7b3BhY2l0eTowLjY1O30ucmVjdHtmaWxsOiNmZmY7fTwvc3R5bGU+CjwvZGVmcz48dGl0bGU+cGF1c2Utc2hhcnAtb3V0bGluZTwvdGl0bGU+PHBhdGggY2xhc3M9ImZwLWNvbG9yLXBsYXkiIGQ9Ik00OS45MjEyLS4wNzgzYTUwLDUwLDAsMSwwLDUwLjAwMDYsNTBBNTAuMDU2Miw1MC4wNTYyLDAsMCwwLDQ5LjkyMTItLjA3ODNaIi8+PGcgY2xhc3M9ImNvbnRyb2xidXR0b24iIGZpbHRlcj0idXJsKCNmMSkiPjxwYXRoIGNsYXNzPSJyZWN0IiBkPSJNNDYuODcwOSw2OS45NTMxSDMzLjEzODVWMjkuODlINDYuODcwOVpNMzUuMTQxNiw2Ny45NWg5LjcyNjJWMzEuODkzNUgzNS4xNDE2WiIvPjxwYXRoIGNsYXNzPSJyZWN0IiBkPSJNNjYuNzA0Nyw2OS45NTMxSDUyLjk3MjJWMjkuODlINjYuNzA0N1pNNTQuOTc1NCw2Ny45NWg5LjcyNjJWMzEuODkzNUg1NC45NzU0WiIvPjwvZz48L3N2Zz4K","base64"),y=n("PHN2ZyBjbGFzcz0iZnAtbG9hZGluZy1yb3VuZGVkLW91dGxpbmUiIHdpZHRoPScxMTJweCcgaGVpZ2h0PScxMTJweCcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgogICAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9Ijc2IiBoZWlnaHQ9Ijc2IiBmaWxsPSJyZ2JhKDAsMCwwLDApIiBjbGFzcz0iYmsiPjwvcmVjdD4KICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjUgMjUpIiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMCwwLDAsLjUpIiBzdHJva2Utd2lkdGg9IjMlIiBjbGFzcz0ic3EiPgogICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJzdHJva2UiIGZyb209InJnYmEoMCwwLDAsMCkiIHRvPSJyZ2JhKDAsMCwwLC41KSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGR1cj0iMS42cyIgYmVnaW49IjAuMHMiIHZhbHVlcz0icmdiYSgwLDAsMCwuNSk7cmdiYSgwLDAsMCwwKTtyZ2JhKDAsMCwwLDApO3JnYmEoMCwwLDAsLjUpO3JnYmEoMCwwLDAsLjUpIiBrZXlUaW1lcz0iMDswLjE7MC4yOzAuNDsxIj48L2FuaW1hdGU+CiAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGFkZGl0aXZlPSJzdW0iIGZyb209IjAuOCIgdG89IjEiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMC4wcyIgZHVyPSIxLjZzIiB2YWx1ZXM9IjE7MC44OzAuODsxOzEiIGtleVRpbWVzPSIwOzAuMTswLjI7MC40OzEiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KICAgIDwvY2lyY2xlPgogICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MCAyNSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgwLDAsMCwuNSkiIHN0cm9rZS13aWR0aD0iMyUiIGNsYXNzPSJzcSI+CiAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InN0cm9rZSIgZnJvbT0icmdiYSgwLDAsMCwwKSIgdG89InJnYmEoMCwwLDAsLjUpIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxLjZzIiBiZWdpbj0iMC40cyIgdmFsdWVzPSJyZ2JhKDAsMCwwLC41KTtyZ2JhKDAsMCwwLDApO3JnYmEoMCwwLDAsMCk7cmdiYSgwLDAsMCwuNSk7cmdiYSgwLDAsMCwuNSkiIGtleVRpbWVzPSIwOzAuMTswLjI7MC40OzEiPjwvYW5pbWF0ZT4KICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgYWRkaXRpdmU9InN1bSIgZnJvbT0iMC44IiB0bz0iMSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjRzIiBkdXI9IjEuNnMiIHZhbHVlcz0iMTswLjg7MC44OzE7MSIga2V5VGltZXM9IjA7MC4xOzAuMjswLjQ7MSI+PC9hbmltYXRlVHJhbnNmb3JtPgogICAgPC9jaXJjbGU+CiAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iMTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUwIDUwKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDAsMCwwLC41KSIgc3Ryb2tlLXdpZHRoPSIzJSIgY2xhc3M9InNxIj4KICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ic3Ryb2tlIiBmcm9tPSJyZ2JhKDAsMCwwLDApIiB0bz0icmdiYSgwLDAsMCwuNSkiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBkdXI9IjEuNnMiIGJlZ2luPSIwLjhzIiB2YWx1ZXM9InJnYmEoMCwwLDAsLjUpO3JnYmEoMCwwLDAsMCk7cmdiYSgwLDAsMCwwKTtyZ2JhKDAsMCwwLC41KTtyZ2JhKDAsMCwwLC41KSIga2V5VGltZXM9IjA7MC4xOzAuMjswLjQ7MSI+PC9hbmltYXRlPgogICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBhZGRpdGl2ZT0ic3VtIiBmcm9tPSIwLjgiIHRvPSIxIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgYmVnaW49IjAuOHMiIGR1cj0iMS42cyIgdmFsdWVzPSIxOzAuODswLjg7MTsxIiBrZXlUaW1lcz0iMDswLjE7MC4yOzAuNDsxIj48L2FuaW1hdGVUcmFuc2Zvcm0+CiAgICA8L2NpcmNsZT4KICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjUgNTApIiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMCwwLDAsLjUpIiBzdHJva2Utd2lkdGg9IjMlIiBjbGFzcz0ic3EiPgogICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJzdHJva2UiIGZyb209InJnYmEoMCwwLDAsMCkiIHRvPSJyZ2JhKDAsMCwwLC41KSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGR1cj0iMS42cyIgYmVnaW49IjEuMnMiIHZhbHVlcz0icmdiYSgwLDAsMCwuNSk7cmdiYSgwLDAsMCwwKTtyZ2JhKDAsMCwwLDApO3JnYmEoMCwwLDAsLjUpO3JnYmEoMCwwLDAsLjUpIiBrZXlUaW1lcz0iMDswLjE7MC4yOzAuNDsxIj48L2FuaW1hdGU+CiAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGFkZGl0aXZlPSJzdW0iIGZyb209IjAuOCIgdG89IjEiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMS4ycyIgZHVyPSIxLjZzIiB2YWx1ZXM9IjE7MC44OzAuODsxOzEiIGtleVRpbWVzPSIwOzAuMTswLjI7MC40OzEiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KICAgIDwvY2lyY2xlPgo8L3N2Zz4K","base64"),b=n("PHN2ZyBjbGFzcz0iZnAtbG9hZGluZy1yb3VuZGVkLWZpbGwiIHdpZHRoPScxMTJweCcgaGVpZ2h0PScxMTJweCcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgogICAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9Ijc2IiBoZWlnaHQ9Ijc2IiBmaWxsPSJyZ2JhKDAsMCwwLDApIiBjbGFzcz0iYmsiPjwvcmVjdD4KICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjUgMjUpIiBmaWxsPSJyZ2JhKDAsMCwwLC41KSIgY2xhc3M9InNxIj4KICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZmlsbCIgZnJvbT0icmdiYSgwLDAsMCwwKSIgdG89InJnYmEoMCwwLDAsLjUpIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxLjZzIiBiZWdpbj0iMC4wcyIgdmFsdWVzPSJyZ2JhKDAsMCwwLC41KTtyZ2JhKDAsMCwwLDApO3JnYmEoMCwwLDAsMCk7cmdiYSgwLDAsMCwuNSk7cmdiYSgwLDAsMCwuNSkiIGtleVRpbWVzPSIwOzAuMTswLjI7MC40OzEiPjwvYW5pbWF0ZT4KICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgYWRkaXRpdmU9InN1bSIgZnJvbT0iMC44IiB0bz0iMSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjBzIiBkdXI9IjEuNnMiIHZhbHVlcz0iMTswLjg7MC44OzE7MSIga2V5VGltZXM9IjA7MC4xOzAuMjswLjQ7MSI+PC9hbmltYXRlVHJhbnNmb3JtPgogICAgPC9jaXJjbGU+CiAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iMTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUwIDI1KSIgZmlsbD0icmdiYSgwLDAsMCwuNSkiIGNsYXNzPSJzcSI+CiAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImZpbGwiIGZyb209InJnYmEoMCwwLDAsMCkiIHRvPSJyZ2JhKDAsMCwwLC41KSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGR1cj0iMS42cyIgYmVnaW49IjAuNHMiIHZhbHVlcz0icmdiYSgwLDAsMCwuNSk7cmdiYSgwLDAsMCwwKTtyZ2JhKDAsMCwwLDApO3JnYmEoMCwwLDAsLjUpO3JnYmEoMCwwLDAsLjUpIiBrZXlUaW1lcz0iMDswLjE7MC4yOzAuNDsxIj48L2FuaW1hdGU+CiAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGFkZGl0aXZlPSJzdW0iIGZyb209IjAuOCIgdG89IjEiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMC40cyIgZHVyPSIxLjZzIiB2YWx1ZXM9IjE7MC44OzAuODsxOzEiIGtleVRpbWVzPSIwOzAuMTswLjI7MC40OzEiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KICAgIDwvY2lyY2xlPgogICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MCA1MCkiIGZpbGw9InJnYmEoMCwwLDAsLjUpIiBjbGFzcz0ic3EiPgogICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJmaWxsIiBmcm9tPSJyZ2JhKDAsMCwwLDApIiB0bz0icmdiYSgwLDAsMCwuNSkiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBkdXI9IjEuNnMiIGJlZ2luPSIwLjhzIiB2YWx1ZXM9InJnYmEoMCwwLDAsLjUpO3JnYmEoMCwwLDAsMCk7cmdiYSgwLDAsMCwwKTtyZ2JhKDAsMCwwLC41KTtyZ2JhKDAsMCwwLC41KSIga2V5VGltZXM9IjA7MC4xOzAuMjswLjQ7MSI+PC9hbmltYXRlPgogICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBhZGRpdGl2ZT0ic3VtIiBmcm9tPSIwLjgiIHRvPSIxIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgYmVnaW49IjAuOHMiIGR1cj0iMS42cyIgdmFsdWVzPSIxOzAuODswLjg7MTsxIiBrZXlUaW1lcz0iMDswLjE7MC4yOzAuNDsxIj48L2FuaW1hdGVUcmFuc2Zvcm0+CiAgICA8L2NpcmNsZT4KICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjUgNTApIiBmaWxsPSJyZ2JhKDAsMCwwLC41KSIgY2xhc3M9InNxIj4KICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZmlsbCIgZnJvbT0icmdiYSgwLDAsMCwwKSIgdG89InJnYmEoMCwwLDAsLjUpIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxLjZzIiBiZWdpbj0iMS4ycyIgdmFsdWVzPSJyZ2JhKDAsMCwwLC41KTtyZ2JhKDAsMCwwLDApO3JnYmEoMCwwLDAsMCk7cmdiYSgwLDAsMCwuNSk7cmdiYSgwLDAsMCwuNSkiIGtleVRpbWVzPSIwOzAuMTswLjI7MC40OzEiPjwvYW5pbWF0ZT4KICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgYWRkaXRpdmU9InN1bSIgZnJvbT0iMC44IiB0bz0iMSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIxLjJzIiBkdXI9IjEuNnMiIHZhbHVlcz0iMTswLjg7MC44OzE7MSIga2V5VGltZXM9IjA7MC4xOzAuMjswLjQ7MSI+PC9hbmltYXRlVHJhbnNmb3JtPgogICAgPC9jaXJjbGU+Cjwvc3ZnPgo=","base64"),_=n("PHN2ZyBjbGFzcz0iZnAtbG9hZGluZy1zaGFycC1maWxsIiB3aWR0aD0nMTEycHgnIGhlaWdodD0nMTEycHgnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIj4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNzYiIGhlaWdodD0iNzYiIGZpbGw9InJnYmEoMCwwLDAsMCkiIGNsYXNzPSJiayI+PC9yZWN0PgogIDxyZWN0IHg9Ii0xMCIgeT0iLTEwIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1IDI1KSIgZmlsbD0icmdiYSgwLDAsMCwuNSkiIGNsYXNzPSJzcSI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJmaWxsIiBmcm9tPSJyZ2JhKDAsMCwwLDApIiB0bz0icmdiYSgwLDAsMCwuNSkiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBkdXI9IjEuNnMiIGJlZ2luPSIwLjBzIiB2YWx1ZXM9InJnYmEoMCwwLDAsLjUpO3JnYmEoMCwwLDAsMCk7cmdiYSgwLDAsMCwwKTtyZ2JhKDAsMCwwLC41KTtyZ2JhKDAsMCwwLC41KSIga2V5VGltZXM9IjA7MC4xOzAuMjswLjQ7MSI+PC9hbmltYXRlPgogICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgYWRkaXRpdmU9InN1bSIgZnJvbT0iMC44IiB0bz0iMSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjBzIiBkdXI9IjEuNnMiIHZhbHVlcz0iMTswLjg7MC44OzE7MSIga2V5VGltZXM9IjA7MC4xOzAuMjswLjQ7MSI+PC9hbmltYXRlVHJhbnNmb3JtPgogIDwvcmVjdD4KICA8cmVjdCB4PSItMTAiIHk9Ii0xMCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MCAyNSkiIGZpbGw9InJnYmEoMCwwLDAsLjUpIiBjbGFzcz0ic3EiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZmlsbCIgZnJvbT0icmdiYSgwLDAsMCwwKSIgdG89InJnYmEoMCwwLDAsLjUpIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxLjZzIiBiZWdpbj0iMC40cyIgdmFsdWVzPSJyZ2JhKDAsMCwwLC41KTtyZ2JhKDAsMCwwLDApO3JnYmEoMCwwLDAsMCk7cmdiYSgwLDAsMCwuNSk7cmdiYSgwLDAsMCwuNSkiIGtleVRpbWVzPSIwOzAuMTswLjI7MC40OzEiPjwvYW5pbWF0ZT4KICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGFkZGl0aXZlPSJzdW0iIGZyb209IjAuOCIgdG89IjEiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMC40cyIgZHVyPSIxLjZzIiB2YWx1ZXM9IjE7MC44OzAuODsxOzEiIGtleVRpbWVzPSIwOzAuMTswLjI7MC40OzEiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KICA8L3JlY3Q+CiAgPHJlY3QgeD0iLTEwIiB5PSItMTAiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAgNTApIiBmaWxsPSJyZ2JhKDAsMCwwLC41KSIgY2xhc3M9InNxIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImZpbGwiIGZyb209InJnYmEoMCwwLDAsMCkiIHRvPSJyZ2JhKDAsMCwwLC41KSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGR1cj0iMS42cyIgYmVnaW49IjAuOHMiIHZhbHVlcz0icmdiYSgwLDAsMCwuNSk7cmdiYSgwLDAsMCwwKTtyZ2JhKDAsMCwwLDApO3JnYmEoMCwwLDAsLjUpO3JnYmEoMCwwLDAsLjUpIiBrZXlUaW1lcz0iMDswLjE7MC4yOzAuNDsxIj48L2FuaW1hdGU+CiAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBhZGRpdGl2ZT0ic3VtIiBmcm9tPSIwLjgiIHRvPSIxIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgYmVnaW49IjAuOHMiIGR1cj0iMS42cyIgdmFsdWVzPSIxOzAuODswLjg7MTsxIiBrZXlUaW1lcz0iMDswLjE7MC4yOzAuNDsxIj48L2FuaW1hdGVUcmFuc2Zvcm0+CiAgPC9yZWN0PgogIDxyZWN0IHg9Ii0xMCIgeT0iLTEwIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1IDUwKSIgZmlsbD0icmdiYSgwLDAsMCwuNSkiIGNsYXNzPSJzcSI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJmaWxsIiBmcm9tPSJyZ2JhKDAsMCwwLDApIiB0bz0icmdiYSgwLDAsMCwuNSkiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBkdXI9IjEuNnMiIGJlZ2luPSIxLjJzIiB2YWx1ZXM9InJnYmEoMCwwLDAsLjUpO3JnYmEoMCwwLDAsMCk7cmdiYSgwLDAsMCwwKTtyZ2JhKDAsMCwwLC41KTtyZ2JhKDAsMCwwLC41KSIga2V5VGltZXM9IjA7MC4xOzAuMjswLjQ7MSI+PC9hbmltYXRlPgogICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgYWRkaXRpdmU9InN1bSIgZnJvbT0iMC44IiB0bz0iMSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIxLjJzIiBkdXI9IjEuNnMiIHZhbHVlcz0iMTswLjg7MC44OzE7MSIga2V5VGltZXM9IjA7MC4xOzAuMjswLjQ7MSI+PC9hbmltYXRlVHJhbnNmb3JtPgogIDwvcmVjdD4KPC9zdmc+Cg==","base64"),w=n("PHN2ZyBjbGFzcz0iZnAtbG9hZGluZy1zaGFycC1vdXRsaW5lIiB3aWR0aD0nMTEycHgnIGhlaWdodD0nMTEycHgnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIj4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNzYiIGhlaWdodD0iNzYiIGZpbGw9InJnYmEoMCwwLDAsMCkiIGNsYXNzPSJiayI+PC9yZWN0PgogIDxyZWN0IHg9Ii05IiB5PSItOSIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNSAyNSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgwLDAsMCwuNSkiIHN0cm9rZS13aWR0aD0iMyUiIGNsYXNzPSJzcSI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJzdHJva2UiIGZyb209InJnYmEoMCwwLDAsMCkiIHRvPSJyZ2JhKDAsMCwwLC41KSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGR1cj0iMS42cyIgYmVnaW49IjAuMHMiIHZhbHVlcz0icmdiYSgwLDAsMCwuNSk7cmdiYSgwLDAsMCwwKTtyZ2JhKDAsMCwwLDApO3JnYmEoMCwwLDAsLjUpO3JnYmEoMCwwLDAsLjUpIiBrZXlUaW1lcz0iMDswLjE7MC4yOzAuNDsxIj48L2FuaW1hdGU+CiAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGFkZGl0aXZlPSJzdW0iIGZyb209IjAuOCIgdG89IjEiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMC4wcyIgZHVyPSIxLjZzIiB2YWx1ZXM9IjE7MC44OzAuODsxOzEiIGtleVRpbWVzPSIwOzAuMTswLjI7MC40OzEiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KICA8L3JlY3Q+CiAgPHJlY3QgeD0iLTkiIHk9Ii05IiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUwIDI1KSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDAsMCwwLC41KSIgc3Ryb2tlLXdpZHRoPSIzJSIgY2xhc3M9InNxIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InN0cm9rZSIgZnJvbT0icmdiYSgwLDAsMCwwKSIgdG89InJnYmEoMCwwLDAsLjUpIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxLjZzIiBiZWdpbj0iMC40cyIgdmFsdWVzPSJyZ2JhKDAsMCwwLC41KTtyZ2JhKDAsMCwwLDApO3JnYmEoMCwwLDAsMCk7cmdiYSgwLDAsMCwuNSk7cmdiYSgwLDAsMCwuNSkiIGtleVRpbWVzPSIwOzAuMTswLjI7MC40OzEiPjwvYW5pbWF0ZT4KICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgYWRkaXRpdmU9InN1bSIgZnJvbT0iMC44IiB0bz0iMSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjRzIiBkdXI9IjEuNnMiIHZhbHVlcz0iMTswLjg7MC44OzE7MSIga2V5VGltZXM9IjA7MC4xOzAuMjswLjQ7MSI+PC9hbmltYXRlVHJhbnNmb3JtPgogIDwvcmVjdD4KICA8cmVjdCB4PSItOSIgeT0iLTkiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAgNTApIiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMCwwLDAsLjUpIiBzdHJva2Utd2lkdGg9IjMlIiBjbGFzcz0ic3EiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ic3Ryb2tlIiBmcm9tPSJyZ2JhKDAsMCwwLDApIiB0bz0icmdiYSgwLDAsMCwuNSkiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBkdXI9IjEuNnMiIGJlZ2luPSIwLjhzIiB2YWx1ZXM9InJnYmEoMCwwLDAsLjUpO3JnYmEoMCwwLDAsMCk7cmdiYSgwLDAsMCwwKTtyZ2JhKDAsMCwwLC41KTtyZ2JhKDAsMCwwLC41KSIga2V5VGltZXM9IjA7MC4xOzAuMjswLjQ7MSI+PC9hbmltYXRlPgogICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBhZGRpdGl2ZT0ic3VtIiBmcm9tPSIwLjgiIHRvPSIxIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgYmVnaW49IjAuOHMiIGR1cj0iMS42cyIgdmFsdWVzPSIxOzAuODswLjg7MTsxIiBrZXlUaW1lcz0iMDswLjE7MC4yOzAuNDsxIj48L2FuaW1hdGVUcmFuc2Zvcm0+CiAgPC9yZWN0PgogIDxyZWN0IHg9Ii05IiB5PSItOSIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNSA1MCkiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgwLDAsMCwuNSkiIHN0cm9rZS13aWR0aD0iMyUiIGNsYXNzPSJzcSI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJzdHJva2UiIGZyb209InJnYmEoMCwwLDAsMCkiIHRvPSJyZ2JhKDAsMCwwLC41KSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGR1cj0iMS42cyIgYmVnaW49IjEuMnMiIHZhbHVlcz0icmdiYSgwLDAsMCwuNSk7cmdiYSgwLDAsMCwwKTtyZ2JhKDAsMCwwLDApO3JnYmEoMCwwLDAsLjUpO3JnYmEoMCwwLDAsLjUpIiBrZXlUaW1lcz0iMDswLjE7MC4yOzAuNDsxIj48L2FuaW1hdGU+CiAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGFkZGl0aXZlPSJzdW0iIGZyb209IjAuOCIgdG89IjEiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMS4ycyIgZHVyPSIxLjZzIiB2YWx1ZXM9IjE7MC44OzAuODsxOzEiIGtleVRpbWVzPSIwOzAuMTswLjI7MC40OzEiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KICA8L3JlY3Q+Cjwvc3ZnPgo=","base64");r(function(t,e){function i(t){return s.find(".fp-"+t,e)[0]}function k(t){s.css(R,"padding-top",100*t+"%"),T.inlineBlock||s.height(s.find("object",e)[0],s.height(e))}function C(t){t?(s.addClass(e,"is-mouseover"),s.removeClass(e,"is-mouseout")):(s.addClass(e,"is-mouseout"),s.removeClass(e,"is-mouseover"))}s.find(".fp-filters").forEach(s.removeNode);try{var S;document.body.appendChild(S=s.createElement("div",{},n("PHN2ZyBjbGFzcz0iZnAtZmlsdGVycyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMCAwIj4KICA8ZGVmcz4KICAgIDxmaWx0ZXIgaWQ9ImYxIiB4PSItMjAlIiB5PSItMjAlIiB3aWR0aD0iMjAwJSIgaGVpZ2h0PSIyMDAlIj4KICAgICAgPGZlT2Zmc2V0IHJlc3VsdD0ib2ZmT3V0IiBpbj0iU291cmNlQWxwaGEiIGR4PSIwIiBkeT0iMCIgLz4KICAgICAgPGZlQ29sb3JNYXRyaXggcmVzdWx0PSJtYXRyaXhPdXQiIGluPSJvZmZPdXQiIHR5cGU9Im1hdHJpeCIKICAgICAgdmFsdWVzPSIwLjMgMCAwIDAgMCAwIDAuMyAwIDAgMCAwIDAgMC4zIDAgMCAwIDAgMCAwLjQgMCIgLz4KICAgICAgPGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgaW49Im1hdHJpeE91dCIgc3RkRGV2aWF0aW9uPSI0IiAvPgogICAgICA8ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJibHVyT3V0IiBtb2RlPSJub3JtYWwiIC8+CiAgICA8L2ZpbHRlcj4KICA8L2RlZnM+Cjwvc3ZnPgo=","base64"))),s.css(S,{width:0,height:0,overflow:"hidden",position:"absolute",margin:0,padding:0})}catch(K){}var x,E=t.conf,T=r.support;s.find(".fp-ratio,.fp-ui",e).forEach(s.removeNode),s.addClass(e,"flowplayer"),e.appendChild(s.createElement("div",{className:"fp-ratio"}));var A=s.createElement("div",{className:"fp-ui"},'         <div class="fp-waiting">           {{ LOADING_SHARP_OUTLINE }}           {{ LOADING_SHARP_FILL }}           {{ LOADING_ROUNDED_FILL }}           {{ LOADING_ROUNDED_OUTLINE }}         </div>         <div class="fp-header">           <a class="fp-share fp-icon"></a>           <a class="fp-fullscreen fp-icon"></a>           <a class="fp-unload fp-icon"></a>         </div>         <p class="fp-speed-flash"></p>         <div class="fp-play fp-visible">           <a class="fp-icon fp-playbtn"></a>           {{ PLAY_ROUNDED_FILL }}           {{ PLAY_ROUNDED_OUTLINE }}           {{ PLAY_SHARP_FILL }}           {{ PLAY_SHARP_OUTLINE }}         </div>         <div class="fp-pause">           <a class="fp-icon fp-playbtn"></a>           {{ PAUSE_SHARP_OUTLINE }}           {{ PAUSE_SHARP_FILL }}           {{ PAUSE_ROUNDED_OUTLINE }}           {{ PAUSE_ROUNDED_FILL }}         </div>         <div class="fp-controls">            <a class="fp-icon fp-playbtn"></a>            <span class="fp-elapsed">00:00</span>            <div class="fp-timeline fp-bar">               <div class="fp-buffer"></div>               <span class="fp-timestamp"></span>               <div class="fp-progress fp-color"></div>            </div>            <span class="fp-duration"></span>            <span class="fp-remaining"></span>            <div class="fp-volume">               <a class="fp-icon fp-volumebtn"></a>               <div class="fp-volumebar fp-bar-slider">                 <em></em><em></em><em></em><em></em><em></em><em></em><em></em>               </div>            </div>            <strong class="fp-speed fp-hidden"></strong>         </div>'.replace("{{ PAUSE_ROUNDED_FILL }}",m).replace("{{ PAUSE_ROUNDED_OUTLINE }}",p).replace("{{ PAUSE_SHARP_FILL }}",g).replace("{{ PAUSE_SHARP_OUTLINE }}",v).replace("{{ PLAY_SHARP_OUTLINE }}",f).replace("{{ PLAY_SHARP_FILL }}",h).replace("{{ PLAY_ROUNDED_OUTLINE }}",u).replace("{{ PLAY_ROUNDED_FILL }}",d).replace("{{ LOADING_ROUNDED_OUTLINE }}",y).replace("{{ LOADING_ROUNDED_FILL }}",b).replace("{{ LOADING_SHARP_FILL }}",_).replace("{{ LOADING_SHARP_OUTLINE }}",w).replace(/url\(#/g,"url("+window.location.href.replace(window.location.hash,"").replace(/\#$/g,"")+"#"));e.appendChild(A);var I=i("buffer"),D=i("waiting"),L=i("elapsed"),R=i("ratio"),P=i("speed-flash"),M=i("duration"),N=i("remaining"),O=i("timestamp"),j=s.css(R,"padding-top"),F=i("play"),$=i("pause"),B=i("timeline"),U=l(B,t.rtl),H=i("fullscreen"),z=i("volumebar"),W=c(z,{rtl:t.rtl
}),Y=s.hasClass(e,"no-toggle");U.disableAnimation(s.hasClass(e,"is-touch")),t.sliders=t.sliders||{},t.sliders.timeline=U,t.sliders.volume=W;var G=[];T.svg||s.html(D,"<p>loading &hellip;</p>"),E.ratio&&k(E.ratio);try{E.fullscreen||s.removeNode(H)}catch(K){s.removeNode(H)}t.on("dvrwindow",function(){U.disable(!1)}),t.on("ready",function(t,n,i){var r=n.video.duration;U.disable(n.disabled||!r),E.adaptiveRatio&&!isNaN(i.height/i.width)&&k(i.height/i.width,!0),s.html([M,N],n.live?"Live":o(r)),s.toggleClass(e,"is-long",r>=3600),W.slide(n.volumeLevel),"flash"===n.engine.engineName?U.disableAnimation(!0,!0):U.disableAnimation(!1),s.find(".fp-title",A).forEach(s.removeNode),i.title&&s.prepend(A,s.createElement("div",{className:"fp-message fp-title"},i.title)),s.toggleClass(e,"has-title",!!i.title)}).on("unload",function(){j||E.splash||s.css(R,"paddingTop",""),U.slide(0),s.addClass(F,"fp-visible")}).on("buffer",function(){var e=t.video,n=e.buffer/e.duration;!e.seekable&&T.seekable&&U.max(t.conf.live?1/0:n),1>n?s.css(I,"width",100*n+"%"):s.css(I,"width","100%")}).on("speed",function(t,e,n){e.video.time&&(s.text(P,n+"x"),s.addClass(P,"fp-shown"),(G=G.filter(function(t){return clearTimeout(t),!1})).push(setTimeout(function(){s.addClass(P,"fp-hilite"),G.push(setTimeout(function(){s.removeClass(P,"fp-hilite"),G.push(setTimeout(function(){s.removeClass(P,"fp-shown")},300))},1e3))})))}).on("buffered",function(){s.css(I,"width","100%"),U.max(1)}).on("progress seek",function(n,i,r){var a=t.video.duration,l=t.video.seekOffset||0,c=((r=r||t.video.time)-l)/(a-l);U.dragging||U.slide(c,t.seeking?0:250),s.toggleClass(e,"is-live-position",a-r<E.livePositionOffset),s.html(L,o(r)),s.html(N,o(a-r,!0))}).on("finish resume seek",function(t){s.toggleClass(e,"is-finished","finish"==t.type)}).on("resume",function(){s.addClass(F,"fp-visible"),setTimeout(function(){s.removeClass(F,"fp-visible")},300)}).on("pause",function(){s.addClass($,"fp-visible"),setTimeout(function(){s.removeClass($,"fp-visible")},300)}).on("stop",function(){s.html(L,o(0)),U.slide(0,100)}).on("finish",function(){s.html(L,o(t.video.duration)),U.slide(1,100),s.removeClass(e,"is-seeking")}).on("beforeseek",function(){}).on("volume",function(){W.slide(t.volumeLevel)}).on("disable",function(){var n=t.disabled;U.disable(n),W.disable(n),s.toggleClass(e,"is-disabled",t.disabled)}).on("mute",function(t,n,i){s.toggleClass(e,"is-muted",i)}).on("error",function(t,n,i){if(s.removeClass(e,"is-loading"),s.removeClass(e,"is-seeking"),s.addClass(e,"is-error"),i){n.error=!0;var o=i.code;(i.message||"").match(/DECODER_ERROR_NOT_SUPPORTED/)&&(o=3);var r=n.message((n.engine&&n.engine.engineName||"html5")+": "+E.errors[o]);s.removeClass(e,"is-mouseover"),n.one("load progress",function(){r()})}}).one("resume ready",function(){var t=s.find("video.fp-engine",e)[0];if(t&&(!s.width(t)||!s.height(t))){var n=e.style.overflow;e.style.overflow="visible",setTimeout(function(){n?e.style.overflow=n:e.style.removeProperty("overflow")})}}),a.on(e,"mouseenter mouseleave",function(n){if(!Y){var i,o="mouseover"==n.type;if(C(o),o){var r=function(){C(!0),i=new Date};t.on("pause.x volume.x",r),a.on(e,"mousemove.x",r),x=setInterval(function(){new Date-i>E.mouseoutTimeout&&(C(!1),i=new Date)},100)}else a.off(e,"mousemove.x"),t.off("pause.x volume.x"),clearInterval(x)}}),a.on(e,"mouseleave",function(){(U.dragging||W.dragging)&&(s.addClass(e,"is-mouseover"),s.removeClass(e,"is-mouseout"))}),a.on(e,"click.player",function(e){return t.disabled?void 0:s.hasClass(e.target,"fp-ui")||s.hasClass(e.target,"fp-engine")||e.flash||s.hasParent(e.target,".fp-play,.fp-pause")?(e.preventDefault&&e.preventDefault(),t.toggle()):void 0}),a.on(e,"mousemove",".fp-timeline",function(e){var n=(e.pageX||e.clientX)-s.offset(B).left,i=n/s.width(B),r=t.video,a=r.duration-(void 0===r.seekOffset?0:r.seekOffset),l=(t.rtl?1-i:i)*a;if(!(0>i)){s.html(O,o(l));var c=n-s.width(O)/2;0>c&&(c=0),c>s.width(B)-s.width(O)&&(c=!1),!1!==c?s.css(O,{left:c+"px",right:"auto"}):s.css(O,{left:"auto",right:"0px"})}}),a.on(e,"contextmenu",function(n){var i=window;if(!s.hasClass(e,"is-flash-disabled")){var o=s.find(".fp-context-menu",e)[0];o&&(n.preventDefault(),t.showMenu(o,{left:n.clientX-i.scrollX,top:n.clientY-i.scrollY}),a.on(e,"click",".fp-context-menu",function(t){t.stopPropagation()}))}}),t.on("flashdisabled",function(n,i,o){var r;s.addClass(e,"is-flash-disabled"),!1!==o&&(r=t.message("Seems something is blocking Adobe Flash from running")),t.one("ready progress",function(){s.removeClass(e,"is-flash-disabled"),r&&r()})}),E.poster&&s.css(e,"background-image","url("+E.poster+")");var q,V=s.css(e,"background-color"),Z="none"!=s.css(e,"background-image")||V&&"rgba(0, 0, 0, 0)"!=V&&"transparent"!=V;if(Z&&!E.splash){E.poster||(E.poster=!0);var X=function(){s.addClass(e,"is-poster"),s.addClass(F,"fp-visible"),t.poster=!0,t.one(E.autoplay?"progress seek":"resume seek",function(){s.removeClass(e,"is-poster"),s.removeClass(F,"fp-visible"),t.poster=!1})};t.on("stop",function(){X()}),t.on("ready",function(t,e,n){n.index||n.autoplay||X()})}if("string"==typeof E.splash&&s.css(e,"background-image","url('"+E.splash+"')"),!Z&&t.forcedSplash&&s.css(e,"background-color","#555"),a.on(e,"click",".fp-toggle, .fp-play, .fp-playbtn",function(){t.disabled||t.toggle()}),a.on(e,"click",".fp-volumebtn",function(){t.mute()}),a.on(e,"click",".fp-fullscreen",function(){t.fullscreen()}),a.on(e,"click",".fp-unload",function(){t.unload()}),a.on(B,"slide",function(e){t.seeking=!0,t.seekTo(10*e)}),a.on(z,"slide",function(e){t.volume(e)}),a.on(e,"click",".fp-duration,.fp-remaining",function(){return t.dvr?t.seekTo(10):void s.toggleClass(e,"is-inverted")}),C(Y),t.on("shutdown",function(){a.off(B),a.off(z),q&&window.cancelAnimationFrame(q)}),"function"==typeof window.requestAnimationFrame){var J=function(){s.toggleClass(e,"is-tiny",e.clientWidth<400),s.toggleClass(e,"is-small",e.clientWidth<600&&e.clientWidth>=400),q=window.requestAnimationFrame(J)};q=window.requestAnimationFrame(J)}}),e.exports.format=o}).call(this,t("buffer").Buffer)},{"../common":1,"../flowplayer":29,"./ui/bar-slider":26,"./ui/slider":27,bean:32,buffer:33}],26:[function(t,e){function n(t,e){function n(e){var n=e.pageX||e.clientX,i=o.offset(t),r=o.width(t);!n&&e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length&&(n=e.originalEvent.touches[0].pageX);var s=n-i.left,a=(s=Math.max(0,Math.min(r,s)))/r;return l&&(a=1-a),a}var r=(e=e||{}).activeClass||"fp-color",s=e.inactiveClass||"fp-grey",a=e.childSelector||"em",l=!!e.rtl,c=!1,u=o.find(a,t).length,d={unload:function(){i.off(t,".barslider")},slide:function(e,n){o.find(a,t).forEach(function(t,n){var i=e>n/u;o.toggleClass(t,r,i),o.toggleClass(t,s,!i)}),n&&i.fire(t,"slide",[e])},disable:function(t){c=t}};return i.on(t,"mousedown.sld touchstart.sld",function(e){e.preventDefault(),c||(d.slide(n(e),!0),i.on(t,"mousemove.sld touchmove.sld",function(t){t.preventDefault(),d.slide(n(t),!0)}),i.one(document,"mouseup.sld touchup.sld",function(){i.off(t,"mousemove.sld touchmove.sld")}))}),d}var i=t("bean"),o=t("../../common");e.exports=n},{"../../common":1,bean:32}],27:[function(t,e){"use strict";var n=t("bean"),i=t("../../common"),o=function(t,e){var n;return function(){n||(t.apply(this,arguments),n=1,setTimeout(function(){n=0},e))}},r=function(t,e){var r,s,a,l,c,u,d,h,f=i.lastChild(t),p=!1,m=function(){s=i.offset(t),a=i.width(t),l=i.height(t),u=c?l:a,h=b(d)},g=function(e){r||e==_.value||d&&!(d>e)||(n.fire(t,"slide",[e]),_.value=e)},v=function(t){var n=t.pageX||t.clientX;!n&&t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches.length&&(n=t.originalEvent.touches[0].pageX);var i=c?t.pageY-s.top:n-s.left,o=(i=Math.max(0,Math.min(h||u,i)))/u;return c&&(o=1-o),e&&(o=1-o),y(o,0,!0)},y=function(t,e){void 0===e&&(e=0),t>1&&(t=1);var n=Math.round(1e3*t)/10+"%";return(!d||d>=t)&&(p?i.removeClass(f,"animated"):(i.addClass(f,"animated"),i.css(f,"transition-duration",(e||0)+"ms")),i.css(f,"width",n)),t},b=function(t){return Math.max(0,Math.min(u,c?(1-t)*l:t*a))},_={max:function(t){d=t},disable:function(t){r=t},slide:function(t,e,n){m(),n&&g(t),y(t,e)},disableAnimation:function(e,n){p=!1!==e,i.toggleClass(t,"no-animation",!!n)}};return m(),n.on(t,"mousedown.sld touchstart",function(e){if(e.preventDefault(),!r){var s=o(g,100);m(),_.dragging=!0,i.addClass(t,"is-dragging"),g(v(e)),n.on(document,"mousemove.sld touchmove.sld",function(t){t.preventDefault(),s(v(t))}),n.one(document,"mouseup touchend",function(){_.dragging=!1,i.removeClass(t,"is-dragging"),n.off(document,"mousemove.sld touchmove.sld")})}}),_};e.exports=r},{"../../common":1,bean:32}],28:[function(t,e){function n(t){var e=document.createElement("textarea");e.value=t,e.style.opacity=0,e.style.position="absolute",document.body.appendChild(e),e.select();var n=document.execCommand("copy");if(document.body.removeChild(e),!n)throw new Error("Unsuccessfull")}e.exports=function(t,e,i){try{n(t),e()}catch(o){i(o)}}},{}],29:[function(t,e){"use strict";function n(t,e,n){e&&e.embed&&(e.embed=i({},v.defaults.embed,e.embed));var s,a,h=t,p=i({},v.defaults,v.conf,e),g={},_=new b;l.addClass(h,"is-loading"),l.toggleClass(h,"no-flex",!v.support.flex),l.toggleClass(h,"no-svg",!v.support.svg);try{g=f?window.localStorage:g}catch(m){}if(p.aspectRatio&&"string"==typeof p.aspectRatio){var w=p.aspectRatio.split(/[:\/]/);p.ratio=w[1]/w[0]}var k=h.currentStyle&&"rtl"===h.currentStyle.direction||window.getComputedStyle&&null!==window.getComputedStyle(h,null)&&"rtl"===window.getComputedStyle(h,null).getPropertyValue("direction");k&&l.addClass(h,"is-rtl");var C={conf:p,currentSpeed:1,volumeLevel:p.muted?0:"undefined"==typeof p.volume?1*g.volume:p.volume,video:{},disabled:!1,finished:!1,loading:!1,muted:"true"==g.muted||p.muted,paused:!1,playing:!1,ready:!1,splash:!1,rtl:k,hijack:function(t){try{C.engine.suspendEngine()}catch(e){}C.hijacked=t},release:function(){try{C.engine.resumeEngine()}catch(t){}C.hijacked=!1},load:function(t,e){if(!C.error&&!C.loading){C.video={},C.finished=!1,t=t||p.clip,t=i({},_.resolve(t,p.clip.sources)),(C.playing||C.engine)&&(t.autoplay=!0);var n=S(t);if(!n)return setTimeout(function(){C.trigger("error",[C,{code:v.support.flashVideo?5:10}])})&&C;if(!n.engineName)throw new Error("engineName property of factory should be exposed");if(C.engine&&n.engineName===C.engine.engineName||(C.ready=!1,C.engine&&(C.engine.unload(),C.conf.autoplay=!0),a=C.engine=n(C,h),C.one("ready",function(){setTimeout(function(){C.muted?C.mute(!0,!0):a.volume(C.volumeLevel)})})),i(t,a.pick(t.sources.filter(function(t){return!t.engine||t.engine===a.engineName}))),t.src)C.trigger("load",[C,t,a],!0).defaultPrevented?C.loading=!1:(C.ready=!1,a.load(t),o(t)&&(e=t),e&&C.one("ready",e));return C}},pause:function(t){return C.hijacked?C.hijacked.pause(t)|C:(!C.ready||C.seeking||C.loading||(a.pause(),C.one("pause",t)),C)},resume:function(){if(!C.trigger("beforeresume",[C],!0).defaultPrevented)return C.hijacked?C.hijacked.resume()|C:(C.ready&&C.paused&&(a.resume(),C.finished&&(C.trigger("resume",[C]),C.finished=!1)),C)},toggle:function(){return C.ready?C.paused?C.resume():C.pause():C.load()},seek:function(t,e){if("boolean"==typeof t){var n=.1*C.video.duration;t=C.video.time+(t?n:-n),t=Math.min(Math.max(t,0),C.video.duration-.1)}if(void 0===t)return C;if(C.hijacked)return C.hijacked.seek(t,e)|C;C.ready&&(s=t,C.trigger("beforeseek",[C,t],!0).defaultPrevented?(C.seeking=!1,l.toggleClass(h,"is-seeking",C.seeking)):(a.seek(t),o(e)&&C.one("seek",e)));return C},seekTo:function(t,e){return void 0===t?C.seek(s,e):void 0!==C.video.seekOffset?C.seek(C.video.seekOffset+.1*(C.video.duration-C.video.seekOffset)*t,e):C.seek(.1*C.video.duration*t,e)},mute:function(t,e){return void 0===t&&(t=!C.muted),e||(g.muted=C.muted=t,g.volume=isNaN(g.volume)?p.volume:g.volume),C.volume(t?0:g.volume,!0),C.trigger("mute",[C,t]),C},volume:function(t,e){return C.ready&&(t=Math.min(Math.max(t,0),1),e||(g.volume=t),a.volume(t)),C},speed:function(t,e){return C.ready&&("boolean"==typeof t&&(t=p.speeds[p.speeds.indexOf(C.currentSpeed)+(t?1:-1)]||C.currentSpeed),a.speed(t),e&&h.one("speed",e)),C},stop:function(){return C.ready&&(C.pause(),!C.live||C.dvr?C.seek(0,function(){C.trigger("stop",[C])}):C.trigger("stop",[C])),C},unload:function(){return p.splash?(C.trigger("unload",[C]),a&&(a.unload(),C.engine=a=0)):C.stop(),C},shutdown:function(){C.unload(),C.trigger("shutdown",[C]),r.off(h),delete u[h.getAttribute("data-flowplayer-instance-id")],h.removeAttribute("data-flowplayer-instance-id")},disable:function(t){return void 0===t&&(t=!C.disabled),t!=C.disabled&&(C.disabled=t,C.trigger("disable",t)),C},registerExtension:function(t,e){t=t||[],e=e||[],"string"==typeof t&&(t=[t]),"string"==typeof e&&(e=[e]),t.forEach(function(t){C.extensions.js.push(t)}),e.forEach(function(t){C.extensions.css.push(t)})}};C.conf=i(C.conf,p),C.extensions={js:[],css:[]},v.extensions.forEach(function(t){C.registerExtension(t[0],t[1])}),c(C);var S=function(t){var e,n=v.engines;if(p.engine){var i=n.filter(function(t){return t.engineName===p.engine})[0];if(i&&t.sources.some(function(t){return(!t.engine||t.engine===i.engineName)&&i.canPlay(t.type,C.conf)}))return i}return p.enginePreference&&(n=v.engines.filter(function(t){return p.enginePreference.indexOf(t.engineName)>-1}).sort(function(t,e){return p.enginePreference.indexOf(t.engineName)-p.enginePreference.indexOf(e.engineName)})),t.sources.some(function(t){var i=n.filter(function(e){return(!t.engine||t.engine===e.engineName)&&e.canPlay(t.type,C.conf)}).shift();return i&&(e=i),!!i}),e};return h.getAttribute("data-flowplayer-instance-id")||(h.setAttribute("data-flowplayer-instance-id",y++),C.on("boot",function(){(p.splash||l.hasClass(h,"is-splash")||!v.support.firstframe)&&(C.forcedSplash=!p.splash&&!l.hasClass(h,"is-splash"),C.splash=p.autoplay=!0,p.splash||(p.splash=!0),l.addClass(h,"is-splash")),p.splash&&l.find("video",h).forEach(l.removeNode),(p.dvr||p.live||l.hasClass(h,"is-live"))&&(C.live=p.live=!0,C.dvr=p.dvr=!!p.dvr||l.hasClass(h,"is-dvr"),l.addClass(h,"is-live"),l.toggleClass(h,"is-dvr",C.dvr)),d.forEach(function(t){t(C,h)}),u.push(C),p.splash?C.unload():C.load(),p.disabled&&C.disable(),C.one("ready",n)}).on("load",function(t,e,n){p.splash&&l.find(".flowplayer.is-ready,.flowplayer.is-loading").forEach(function(t){var e=t.getAttribute("data-flowplayer-instance-id");if(e!==h.getAttribute("data-flowplayer-instance-id")){var n=u[Number(e)];n&&n.conf.splash&&n.unload()}}),l.addClass(h,"is-loading"),e.loading=!0,("undefined"!=typeof n.live||"undefined"!=typeof n.dvr)&&(l.toggleClass(h,"is-live",n.dvr||n.live),l.toggleClass(h,"is-dvr",!!n.dvr),e.live=n.dvr||n.live,e.dvr=!!n.dvr)}).on("ready",function(t,e,n){n.time=0,e.video=n,l.removeClass(h,"is-loading"),e.loading=!1,e.muted?e.mute(!0,!0):e.volume(e.volumeLevel);var i=e.conf.hlsFix&&/mpegurl/i.exec(n.type);l.toggleClass(h,"hls-fix",!!i)}).on("unload",function(){l.removeClass(h,"is-loading"),C.loading=!1}).on("ready unload",function(t){var e="ready"==t.type;l.toggleClass(h,"is-splash",!e),l.toggleClass(h,"is-ready",e),C.ready=e,C.splash=!e}).on("progress",function(t,e,n){e.video.time=n}).on("buffer",function(t,e,n){e.video.buffer=n}).on("speed",function(t,e,n){e.currentSpeed=n}).on("volume",function(t,e,n){e.volumeLevel=Math.round(100*n)/100,e.muted?n&&e.mute(!1):g.volume=n}).on("beforeseek seek",function(t){C.seeking="beforeseek"==t.type,l.toggleClass(h,"is-seeking",C.seeking)}).on("ready pause resume unload finish stop",function(t){C.paused=/pause|finish|unload|stop/.test(t.type),C.paused=C.paused||"ready"===t.type&&!p.autoplay&&!C.playing,C.playing=!C.paused,l.toggleClass(h,"is-paused",C.paused),l.toggleClass(h,"is-playing",C.playing),C.load.ed||C.pause()}).on("finish",function(){C.finished=!0}).on("error",function(){})),C.trigger("boot",[C,h]),C}var i=t("extend-object"),o=t("is-function"),r=t("bean"),s=t("./ext/ui/slider"),a=t("./ext/ui/bar-slider"),l=t("./common"),c=t("./ext/events"),u=[],d=[],h=window.onbeforeunload;window.onbeforeunload=function(t){return u.forEach(function(t){t.conf.splash?t.unload():t.bind("error",function(){l.find(".flowplayer.is-error .fp-message").forEach(l.removeNode)})}),h?h(t):void 0};var f=!1;try{"object"==typeof window.localStorage&&(window.localStorage.flowplayerTestStorage="test",f=!0)}catch(k){}var p=/Safari/.exec(navigator.userAgent)&&!/Chrome/.exec(navigator.userAgent),m=/(\d+\.\d+) Safari/.exec(navigator.userAgent),g=m?Number(m[1]):100,v=e.exports=function(t,e,i){if(o(t))return d.push(t);if("number"==typeof t||void 0===t)return u[t||0];if(t.nodeType){if(null!==t.getAttribute("data-flowplayer-instance-id"))return u[t.getAttribute("data-flowplayer-instance-id")];if(!e)return;return n(t,e,i)}if(t.jquery)return v(t[0],e,i);if("string"==typeof t){var r=l.find(t)[0];return r&&v(r,e,i)}};i(v,{version:"7.1.1",engines:[],extensions:[],conf:{},set:function(t,e){"string"==typeof t?v.conf[t]=e:i(v.conf,t)},registerExtension:function(t,e){v.extensions.push([t,e])},support:{},defaults:{debug:!!f&&!!localStorage.flowplayerDebug,disabled:!1,fullscreen:window==window.top,keyboard:!0,ratio:9/16,adaptiveRatio:!1,rtmp:0,proxy:"best",hlsQualities:!0,splash:!1,live:!1,livePositionOffset:120,swf:"//releases.flowplayer.org/7.1.1/flowplayer.swf",swfHls:"//releases.flowplayer.org/7.1.1/flowplayerhls.swf",speeds:[.25,.5,1,1.5,2],tooltip:!0,mouseoutTimeout:5e3,volume:f?"true"==localStorage.muted?0:isNaN(localStorage.volume)?1:localStorage.volume||1:1,errors:["","Video loading aborted","Network error","Video not properly encoded","Video file not found","Unsupported video","Skin not found","SWF file not found","Subtitles not found","Invalid RTMP URL","Unsupported video format. Try installing Adobe Flash."],errorUrls:["","","","","","","","","","","http://get.adobe.com/flashplayer/"],playlist:[],hlsFix:p&&8>g,disableInline:!1},bean:r,common:l,slider:s,barSlider:a,extend:i});var y=0,b=t("./ext/resolve");if("undefined"!=typeof window.jQuery){var _=window.jQuery;_(function(){"function"==typeof _.fn.flowplayer&&_('.flowplayer:has(video,script[type="application/json"])').flowplayer()});var w=function(t){if(!t.length)return{};var e=t.data()||{},n={};return _.each(["autoplay","loop","preload","poster"],function(i,o){var r=t.attr(o);void 0!==r&&-1!==["autoplay","poster"].indexOf(o)?n[o]=r||!0:void 0!==r&&(e[o]=r||!0)}),e.subtitles=t.find("track").map(function(){var t=_(this);return{src:t.attr("src"),kind:t.attr("kind"),label:t.attr("label"),srclang:t.attr("srclang"),"default":t.prop("default")}}).get(),e.sources=(new b).sourcesFromVideoTag(t,_),i(n,{clip:e})};_.fn.flowplayer=function(t,e){return this.each(function(){"string"==typeof t&&(t={swf:t}),o(t)&&(e=t,t={});var i=_(this),r=i.find('script[type="application/json"]'),s=r.length?JSON.parse(r.text()):w(i.find("video")),a=n(this,_.extend({},t||{},s,i.data()),e);c.EVENTS.forEach(function(t){a.on(t+".jquery",function(t){i.trigger.call(i,t.type,t.detail&&t.detail.args)})}),i.data("flowplayer",a)})}}},{"./common":1,"./ext/events":10,"./ext/resolve":19,"./ext/ui/bar-slider":26,"./ext/ui/slider":27,bean:32,"extend-object":37,"is-function":40}],30:[function(t,e){t("es5-shim");var n=e.exports=t("./flowplayer");t("./ext/support"),t("./engine/embed"),t("./engine/html5"),t("./engine/flash"),t("./ext/ui"),t("./ext/message"),t("./ext/keyboard"),t("./ext/playlist"),t("./ext/cuepoint"),t("./ext/subtitle"),t("./ext/analytics"),t("./ext/share"),t("./ext/facebook"),t("./ext/twitter"),t("./ext/embed"),t("./ext/airplay"),t("./ext/chromecast"),t("./ext/qsel"),t("./ext/menu"),t("./ext/fullscreen"),t("./ext/mobile"),n(function(t,e){function i(t){var e=document.createElement("a");return e.href=t,a.hostname(e.hostname)}var o=function(t,e){-1===t.className.split(" ").indexOf(e)&&(t.className+=" "+e)},r=function(t){return"none"!==window.getComputedStyle(t).display},s=t.conf,a=n.common,l=a.createElement,c=s.swf.indexOf("flowplayer.org")&&s.e&&e.getAttribute("data-origin"),u=c?i(c):a.hostname(),d=(document,s.key);if("file:"==location.protocol&&(u="localhost"),t.load.ed=1,s.hostname=u,s.origin=c||location.href,c&&o(e,"is-embedded"),"string"==typeof d&&(d=d.split(/,\s*/)),d&&"function"==typeof key_check&&key_check(d,u)){if(s.logo){var h=a.find(".fp-player",e)[0],f=s.logo.href||"",p=s.logo.src||s.logo,m=l("a",{className:"fp-logo",href:f});c&&(m.href=m.href||c),s.embed&&s.embed.popup&&(m.target="_blank");var g=l("img",{src:p});m.appendChild(g),(h||e).appendChild(m)}}else{m=l("a",{href:"https://flowplayer.com/hello/?from=player"});e.appendChild(m);var v=l("div",{className:"fp-context-menu fp-menu"},'<strong>&copy; 2017 Flowplayer</strong><a href="https://flowplayer.com/hello/?from=player">About Flowplayer</a><a href="https://flowplayer.com/license">GPL based license</a>'),y=window.location.href.indexOf("localhost");h=a.find(".fp-player",e)[0];7!==y&&(h||e).appendChild(v),t.on("pause resume finish unload ready",function(t,n){var i=-1;if(n.video.src)for(var o=[["org","flowplayer","drive"],["org","flowplayer","my"],["org","flowplayer","cdn"]],s=0;s<o.length&&-1===(i=n.video.src.indexOf("://"+o[s].reverse().join(".")));s++);if(/pause|resume/.test(t.type)&&"flash"!=n.engine.engineName&&4!=i&&5!=i){var a={display:"block",position:"absolute",left:"16px",bottom:"70px",zIndex:99999,width:"100px",height:"20px",backgroundImage:"url("+[".png","logo","/",".net",".cloudfront","d32wqyuo10o653","//"].reverse().join("")+")"};for(var l in a)a.hasOwnProperty(l)&&(m.style[l]=a[l]);n.load.ed=r(m)&&(7===y||v.parentNode==e||v.parentNode==h),n.load.ed||n.pause()}else m.style.display="none"})}})},{"./engine/embed":2,"./engine/flash":3,"./engine/html5":4,"./ext/airplay":5,"./ext/analytics":6,"./ext/chromecast":7,"./ext/cuepoint":8,"./ext/embed":9,"./ext/facebook":11,"./ext/fullscreen":12,"./ext/keyboard":13,"./ext/menu":14,"./ext/message":15,"./ext/mobile":16,"./ext/playlist":17,"./ext/qsel":18,"./ext/share":20,"./ext/subtitle":21,"./ext/support":23,"./ext/twitter":24,"./ext/ui":25,"./flowplayer":29,"es5-shim":36}],31:[function(t,e,n){"use strict";function i(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function o(t){return 3*t.length/4-i(t)}function r(t){var e,n,o,r,s,a=t.length;r=i(t),s=new d(3*a/4-r),n=r>0?a-4:a;var l=0;for(e=0;n>e;e+=4)o=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],s[l++]=o>>16&255,s[l++]=o>>8&255,s[l++]=255&o;return 2===r?(o=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,s[l++]=255&o):1===r&&(o=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,s[l++]=o>>8&255,s[l++]=255&o),s}function s(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function a(t,e,n){for(var i,o=[],r=e;n>r;r+=3)i=(t[r]<<16)+(t[r+1]<<8)+t[r+2],o.push(s(i));return o.join("")}function l(t){for(var e,n=t.length,i=n%3,o="",r=[],s=16383,l=0,u=n-i;u>l;l+=s)r.push(a(t,l,l+s>u?u:l+s));return 1===i?(e=t[n-1],o+=c[e>>2],o+=c[e<<4&63],o+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],o+=c[e>>10],o+=c[e>>4&63],o+=c[e<<2&63],o+="="),r.push(o),r.join("")}n.byteLength=o,n.toByteArray=r,n.fromByteArray=l;for(var c=[],u=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,p=h.length;p>f;++f)c[f]=h[f],u[h.charCodeAt(f)]=f;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}],32:[function(e,n){var i,o,r;i="bean",o=this,r=function(t,e){t=t||"bean",e=e||this;var n,i,o,r,s,a,l,c,u,d,h,f,p,m,g,v,y,b,_,w=window,k=e[t],C=/[^\.]*(?=\..*)\.|.*/,S=/\..*/,x="addEventListener",E="removeEventListener",T=document||{},A=T.documentElement||{},I=A[x],D=I?x:"attachEvent",L={},R=Array.prototype.slice,P=function(t,e){return t.split(e||" ")},M=function(t){return"string"==typeof t},N=function(t){return"function"==typeof t},O=function(t,e,n){for(n=0;n<e.length;n++)e[n]&&(t[e[n]]=1);return t}({},P("click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll "+(I?"show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ":""))),j=(b="compareDocumentPosition"in A?function(t,e){return e.compareDocumentPosition&&16==(16&e.compareDocumentPosition(t))}:"contains"in A?function(t,e){return(e=9===e.nodeType||e===window?A:e)!==t&&e.contains(t)}:function(t,e){for(;t=t.parentNode;)if(t===e)return 1;return 0},{mouseenter:{base:"mouseover",condition:_=function(t){var e=t.relatedTarget;return e?e!==this&&"xul"!==e.prefix&&!/document/.test(this.toString())&&!b(e,this):null==e}},mouseleave:{base:"mouseout",condition:_},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}),F=(a=P("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),l=a.concat(P("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),c=l.concat(P("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),u=a.concat(P("char charCode key keyCode keyIdentifier keyLocation location")),d=a.concat(P("data")),h=a.concat(P("touches targetTouches changedTouches scale rotation")),f=a.concat(P("data origin source")),p=a.concat(P("state")),m=/over|out/,g=[{reg:/key/i,fix:function(t,e){return e.keyCode=t.keyCode||t.which,u}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(t,e,n){return e.rightClick=3===t.which||2===t.button,e.pos={x:0,y:0},t.pageX||t.pageY?(e.clientX=t.pageX,e.clientY=t.pageY):(t.clientX||t.clientY)&&(e.clientX=t.clientX+T.body.scrollLeft+A.scrollLeft,e.clientY=t.clientY+T.body.scrollTop+A.scrollTop),m.test(n)&&(e.relatedTarget=t.relatedTarget||t[("mouseover"==n?"from":"to")+"Element"]),l}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return c}},{reg:/^text/i,fix:function(){return d}},{reg:/^touch|^gesture/i,fix:function(){return h}},{reg:/^message$/i,fix:function(){return f}},{reg:/^popstate$/i,fix:function(){return p}},{reg:/.*/,fix:function(){return a}}],v={},(y=function(t,e,n){if(arguments.length&&(t=t||((e.ownerDocument||e.document||e).parentWindow||w).event,this.originalEvent=t,this.isNative=n,this.isBean=!0,t)){var i,o,r,s,a,l=t.type,c=t.target||t.srcElement;if(this.target=c&&3===c.nodeType?c.parentNode:c,n){if(!(a=v[l]))for(i=0,o=g.length;o>i;i++)if(g[i].reg.test(l)){v[l]=a=g[i].fix;break}for(i=(s=a(t,this,l)).length;i--;)!((r=s[i])in this)&&r in t&&(this[r]=t[r])}}}).prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},y.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},y.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},y.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},y.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},y.prototype.clone=function(t){var e=new y(this,this.element,this.isNative);return e.currentTarget=t,e},y),$=function(t,e){return I||e||t!==T&&t!==w?t:A},B=(r=function(t,e,n,i){var o=function(n,o){return e.apply(t,i?R.call(o,n?0:1).concat(i):o)},r=function(n,i){return e.__beanDel?e.__beanDel.ft(n.target,t):i},s=n?function(t){var e=r(t,this);return n.apply(e,arguments)?(t&&(t.currentTarget=e),o(t,arguments)):void 0}:function(t){return e.__beanDel&&(t=t.clone(r(t))),o(t,arguments)};return s.__beanDel=e.__beanDel,s},(s=function(t,e,n,i,o,s,a){var l,c=j[e];"unload"==e&&(n=Y(G,t,e,n,i)),c&&(c.condition&&(n=r(t,n,c.condition,s)),e=c.base||e),this.isNative=l=O[e]&&!!t[D],this.customType=!I&&!l&&e,this.element=t,this.type=e,this.original=i,this.namespaces=o,this.eventType=I||l?e:"propertychange",this.target=$(t,l),this[D]=!!this.target[D],this.root=a,this.handler=r(t,n,null,s)}).prototype.inNamespaces=function(t){var e,n,i=0;if(!t)return!0;if(!this.namespaces)return!1;for(e=t.length;e--;)for(n=this.namespaces.length;n--;)t[e]==this.namespaces[n]&&i++;return t.length===i},s.prototype.matches=function(t,e,n){return!(this.element!==t||e&&this.original!==e||n&&this.handler!==n)},s),U=(i={},o=function(t,e,n,r,s,a){var l=s?"r":"$";if(e&&"*"!=e){var c,u=0,d=i[l+e],h="*"==t;if(!d)return;for(c=d.length;c>u;u++)if((h||d[u].matches(t,n,r))&&!a(d[u],d,u,e))return}else for(var f in i)f.charAt(0)==l&&o(t,f.substr(1),n,r,s,a)},{has:function(t,e,n,o){var r,s=i[(o?"r":"$")+e];if(s)for(r=s.length;r--;)if(!s[r].root&&s[r].matches(t,n,null))return!0;return!1},get:function(t,e,n,i){var r=[];return o(t,e,n,null,i,function(t){return r.push(t)}),r},put:function(t){var e=!t.root&&!this.has(t.element,t.type,null,!1),n=(t.root?"r":"$")+t.type;return(i[n]||(i[n]=[])).push(t),e},del:function(t){o(t.element,t.type,null,t.handler,t.root,function(t,e,n){return e.splice(n,1),t.removed=!0,0===e.length&&delete i[(t.root?"r":"$")+t.type],!1})},entries:function(){var t,e=[];for(t in i)"$"==t.charAt(0)&&(e=e.concat(i[t]));return e}}),H=function(t){n=arguments.length?t:T.querySelectorAll?function(t,e){return e.querySelectorAll(t)}:function(){throw new Error("Bean: No selector engine installed")}},z=function(t,e){if(I||!e||!t||t.propertyName=="_on"+e){var n=U.get(this,e||t.type,null,!1),i=n.length,o=0;for(t=new F(t,this,!0),e&&(t.type=e);i>o&&!t.isImmediatePropagationStopped();o++)n[o].removed||n[o].handler.call(this,t)}},W=I?function(t,e,n){t[n?x:E](e,z,!1)}:function(t,e,n,i){var o;n?(U.put(o=new B(t,i||e,function(e){z.call(t,e,i)},z,null,null,!0)),i&&null==t["_on"+i]&&(t["_on"+i]=0),o.target.attachEvent("on"+o.eventType,o.handler)):(o=U.get(t,i||e,z,!0)[0])&&(o.target.detachEvent("on"+o.eventType,o.handler),U.del(o))},Y=function(t,e,n,i,o){return function(){i.apply(this,arguments),t(e,n,o)}},G=function(t,e,n,i){var o,r,s=e&&e.replace(S,""),a=U.get(t,s,null,!1),l={};for(o=0,r=a.length;r>o;o++)n&&a[o].original!==n||!a[o].inNamespaces(i)||(U.del(a[o]),!l[a[o].eventType]&&a[o][D]&&(l[a[o].eventType]={t:a[o].eventType,c:a[o].type}));for(o in l)U.has(t,l[o].t,null,!1)||W(t,l[o].t,!1,l[o].c)},q=function(t,e){var i=function(e,i){for(var o,r=M(t)?n(t,i):t;e&&e!==i;e=e.parentNode)for(o=r.length;o--;)if(r[o]===e)return e},o=function(t){var n=i(t.target,this);n&&e.apply(n,arguments)};return o.__beanDel={ft:i,selector:t},o},V=I?function(t,e,n){var i=T.createEvent(t?"HTMLEvents":"UIEvents");i[t?"initEvent":"initUIEvent"](e,!0,!0,w,1),n.dispatchEvent(i)}:function(t,e,n){n=$(n,t),t?n.fireEvent("on"+e,T.createEventObject()):n["_on"+e]++},Z=function(t,e,n){var i,o,r,s,a=M(e);if(a&&e.indexOf(" ")>0){for(s=(e=P(e)).length;s--;)Z(t,e[s],n);return t}if((o=a&&e.replace(S,""))&&j[o]&&(o=j[o].base),!e||a)(r=a&&e.replace(C,""))&&(r=P(r,".")),G(t,o,n,r);else if(N(e))G(t,null,e);else for(i in e)e.hasOwnProperty(i)&&Z(t,i,e[i]);return t},X=function(t,e,i,o){var r,s,a,l,c,u,d;if(void 0!==i||"object"!=typeof e){for(N(i)?(c=R.call(arguments,3),o=r=i):(r=o,c=R.call(arguments,4),o=q(i,r,n)),a=P(e),this===L&&(o=Y(Z,t,e,o,r)),l=a.length;l--;)d=U.put(u=new B(t,a[l].replace(S,""),o,r,P(a[l].replace(C,""),"."),c,!1)),u[D]&&d&&W(t,u.eventType,!0,u.customType);return t}for(s in e)e.hasOwnProperty(s)&&X.call(this,t,s,e[s])},J={on:X,add:function(t,e,n,i){return X.apply(null,M(n)?[t,n,e,i].concat(arguments.length>3?R.call(arguments,5):[]):R.call(arguments))},one:function(){return X.apply(L,arguments)},off:Z,remove:Z,clone:function(t,e,n){for(var i,o,r=U.get(e,n,null,!1),s=r.length,a=0;s>a;a++)r[a].original&&(i=[t,r[a].type],(o=r[a].handler.__beanDel)&&i.push(o.selector),i.push(r[a].original),X.apply(null,i));return t},fire:function(t,e,n){var i,o,r,s,a,l=P(e);for(i=l.length;i--;)if(e=l[i].replace(S,""),(s=l[i].replace(C,""))&&(s=P(s,".")),s||n||!t[D])for(a=U.get(t,e,null,!1),n=[!1].concat(n),o=0,r=a.length;r>o;o++)a[o].inNamespaces(s)&&a[o].handler.apply(t,n);else V(O[e],e,t)
;return t},Event:F,setSelectorEngine:H,noConflict:function(){return e[t]=k,this}};if(w.attachEvent){var K=function(){var t,e=U.entries();for(t in e)e[t].type&&"unload"!==e[t].type&&Z(e[t].element,e[t].type);w.detachEvent("onunload",K),w.CollectGarbage&&w.CollectGarbage()};w.attachEvent("onunload",K)}return H(),J},void 0!==n&&n.exports?n.exports=r():"function"==typeof t&&t.amd?t(r):o[i]=r()},{}],33:[function(t,e,n){(function(e){"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function o(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return a(this,t,e,n)}function a(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,n,i):"string"==typeof e?d(t,e,n):p(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,i){return l(e),0>=e?r(t,e):void 0!==n?"string"==typeof i?r(t,e).fill(n,i):r(t,e).fill(n):r(t,e)}function u(t,e){if(l(e),t=r(t,0>e?0:0|m(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;e>n;++n)t[n]=0;return t}function d(t,e,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|v(e,n),o=(t=r(t,i)).write(e,n);return o!==i&&(t=t.slice(0,o)),t}function h(t,e){var n=e.length<0?0:0|m(e.length);t=r(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function f(t,e,n,i){if(e.byteLength,0>n||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=h(t,e),t}function p(t,e){if(s.isBuffer(e)){var n=0|m(e.length);return 0===(t=r(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||X(e.length)?r(t,0):h(t,e);if("Buffer"===e.type&&Q(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),s.alloc(+t)}function v(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(i)return Y(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){var i=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if((e>>>=0)>=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return L(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function b(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function _(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),0>n&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(0>n){if(!o)return-1;n=0}if("string"==typeof e&&(e=s.from(e,i)),s.isBuffer(e))return 0===e.length?-1:w(t,e,n,i,o);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,i,o){function r(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var s,a=1,l=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,l/=2,c/=2,n/=2}if(o){var u=-1;for(s=n;l>s;s++)if(r(t,s)===r(e,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===c)return u*a}else-1!==u&&(s-=s-u),u=-1}else for(n+c>l&&(n=l-c),s=n;s>=0;s--){for(var d=!0,h=0;c>h;h++)if(r(t,s+h)!==r(e,h)){d=!1;break}if(d)return s}return-1}function k(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var s=0;i>s;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function C(t,e,n,i){return Z(Y(e,t.length-n),t,n,i)}function S(t,e,n,i){return Z(G(e),t,n,i)}function x(t,e,n,i){return S(t,e,n,i)}function E(t,e,n,i){return Z(V(e),t,n,i)}function T(t,e,n,i){return Z(q(e,t.length-n),t,n,i)}function A(t,e,n){return 0===e&&n===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;n>o;){var r,s,a,l,c=t[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(n>=o+d)switch(d){case 1:128>c&&(u=c);break;case 2:128==(192&(r=t[o+1]))&&((l=(31&c)<<6|63&r)>127&&(u=l));break;case 3:r=t[o+1],s=t[o+2],128==(192&r)&&128==(192&s)&&((l=(15&c)<<12|(63&r)<<6|63&s)>2047&&(55296>l||l>57343)&&(u=l));break;case 4:r=t[o+1],s=t[o+2],a=t[o+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&((l=(15&c)<<18|(63&r)<<12|(63&s)<<6|63&a)>65535&&1114112>l&&(u=l))}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),o+=d}return D(i)}function D(t){var e=t.length;if(tt>=e)return String.fromCharCode.apply(String,t);for(var n="",i=0;e>i;)n+=String.fromCharCode.apply(String,t.slice(i,i+=tt));return n}function L(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;n>o;++o)i+=String.fromCharCode(127&t[o]);return i}function R(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;n>o;++o)i+=String.fromCharCode(t[o]);return i}function P(t,e,n){var i=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>i)&&(n=i);for(var o="",r=e;n>r;++r)o+=W(t[r]);return o}function M(t,e,n){for(var i=t.slice(e,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function N(t,e,n){if(t%1!=0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,n,i,o,r){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||r>e)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function j(t,e,n,i){0>e&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-n,2);r>o;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function F(t,e,n,i){0>e&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-n,4);r>o;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function $(t,e,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function B(t,e,n,i,o){return o||$(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,e,n,i,23,4),n+4}function U(t,e,n,i,o){return o||$(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,e,n,i,52,8),n+8}function H(t){if((t=z(t).replace(et,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return 16>t?"0"+t.toString(16):t.toString(16)}function Y(t,e){e=e||1/0;for(var n,i=t.length,o=null,r=[],s=0;i>s;++s){if((n=t.charCodeAt(s))>55295&&57344>n){if(!o){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(56320>n){(e-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,128>n){if((e-=1)<0)break;r.push(n)}else if(2048>n){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function G(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function q(t,e){for(var n,i,o,r=[],s=0;s<t.length&&!((e-=2)<0);++s)i=(n=t.charCodeAt(s))>>8,o=n%256,r.push(o),r.push(i);return r}function V(t){return J.toByteArray(H(t))}function Z(t,e,n,i){for(var o=0;i>o&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function X(t){return t!=t}var J=t("base64-js"),K=t("ieee754"),Q=t("isarray");n.Buffer=s,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:i(),n.kMaxLength=o(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return a(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return c(null,t,e,n)},s.allocUnsafe=function(t){return u(null,t)},s.allocUnsafeSlow=function(t){return u(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,r=Math.min(n,i);r>o;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return i>n?-1:n>i?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=s.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var r=t[n];if(!s.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(i,o),o+=r.length}return i},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;t>e;e+=2)b(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;t>e;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;t>e;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):y.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,i,o){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),0>e||n>t.length||0>i||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var r=o-i,a=n-e,l=Math.min(r,a),c=this.slice(i,o),u=t.slice(e,n),d=0;l>d;++d)if(c[d]!==u[d]){r=c[d],a=u[d];break}return a>r?-1:r>a?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return _(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return _(this,t,e,n,!1)},s.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return k(this,t,e,n);case"utf8":case"utf-8":return C(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;s.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,0>t?0>(t+=i)&&(t=0):t>i&&(t=i),0>e?0>(e+=i)&&(e=0):e>i&&(e=i),t>e&&(e=t),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=s.prototype;else{var o=e-t;n=new s(o,void 0);for(var r=0;o>r;++r)n[r]=this[r+t]}return n},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},s.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=e,o=1,r=this[t+--i];i>0&&(o*=256);)r+=this[t+--i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},s.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),K.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),K.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),K.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),K.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||O(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||O(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);O(this,t,e,n,o-1,-o)}var r=0,s=1,a=0;for(this[e]=255&t;++r<n&&(s*=256);)0>t&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+n},s.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);O(this,t,e,n,o-1,-o)}var r=n-1,s=1,a=0;for(this[e+r]=255&t;--r>=0&&(s*=256);)0>t&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o,r=i-n;if(this===t&&e>n&&i>e)for(o=r-1;o>=0;--o)t[o+e]=this[o+n];else if(1e3>r||!s.TYPED_ARRAY_SUPPORT)for(o=0;r>o;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},s.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var o=t.charCodeAt(0);256>o&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<n)throw new RangeError("Out of range index");if(e>=n)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;n>r;++r)this[r]=t;else{var a=s.isBuffer(t)?t:Y(new s(t,i).toString()),l=a.length;for(r=0;n-e>r;++r)this[r+e]=a[r%l]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":31,ieee754:38,isarray:41}],34:[function(t,e){function n(t){function e(t){var e=u();r(e,t)>-1||(e.push(t),d(e))}function n(t){var e=u(),n=r(e,t);-1!==n&&(e.splice(n,1),d(e))}function s(t){return r(u(),t)>-1}function a(t){return s(t)?(n(t),!1):(e(t),!0)}function l(){return t.className}function c(t){return u()[t]||null}function u(){return i(t.className.split(" "),o)}function d(e){var n=e.length;t.className=e.join(" "),f.length=n;for(var i=0;i<e.length;i++)f[i]=e[i];delete e[n]}var h=t.classList;if(h)return h;var f={add:e,remove:n,contains:s,toggle:a,toString:l,length:0,item:c};return f}function i(t,e){for(var n=[],i=0;i<t.length;i++)e(t[i])&&n.push(t[i]);return n}function o(t){return!!t}var r=t("indexof");e.exports=n},{indexof:39}],35:[function(t,e){function n(t,e,n,i){return(i=(n=window.getComputedStyle)?n(t):t.currentStyle)?i[e.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()})]:void 0}e.exports=n},{}],36:[function(e,n,i){!function(e,o){"use strict";"function"==typeof t&&t.amd?t(o):"object"==typeof i?n.exports=o():e.returnExports=o()}(this,function(){var t,e=Array,n=e.prototype,i=Object,o=i.prototype,r=Function,s=r.prototype,a=String,l=a.prototype,c=Number,u=c.prototype,d=n.slice,h=n.splice,f=n.push,p=n.unshift,m=n.concat,g=n.join,v=s.call,y=s.apply,b=Math.max,_=Math.min,w=o.toString,k="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,C=Function.prototype.toString,S=/^\s*class /,x=function(t){try{var e=C.call(t).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return S.test(e)}catch(o){return!1}},E=function(e){try{return!x(e)&&(C.call(e),!0)}catch(t){return!1}},T="[object Function]",A="[object GeneratorFunction]",I=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(k)return E(t);if(x(t))return!1;var e=w.call(t);return e===T||e===A},D=RegExp.prototype.exec,L=function(e){try{return D.call(e),!0}catch(t){return!1}},R="[object RegExp]";t=function(t){return"object"==typeof t&&(k?L(t):w.call(t)===R)};var P,M=String.prototype.valueOf,N=function(e){try{return M.call(e),!0}catch(t){return!1}},O="[object String]";P=function(t){return"string"==typeof t||"object"==typeof t&&(k?N(t):w.call(t)===O)};var j,F,$=i.defineProperty&&function(){try{var t={};for(var n in i.defineProperty(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(e){return!1}}(),B=(j=o.hasOwnProperty,F=$?function(t,e,n,o){!o&&e in t||i.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,i){!i&&e in t||(t[e]=n)},function(t,e,n){for(var i in e)j.call(e,i)&&F(t,i,e[i],n)}),U=function(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e},H=c.isNaN||function(t){return t!=t},z={ToInteger:function(t){var e=+t;return H(e)?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},ToPrimitive:function(t){var e,n,i;if(U(t))return t;if(n=t.valueOf,I(n)&&(e=n.call(t),U(e)))return e;if(i=t.toString,I(i)&&(e=i.call(t),U(e)))return e;throw new TypeError},ToObject:function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return i(t)},ToUint32:function(t){return t>>>0}},W=function(){};B(s,{bind:function(t){var e=this;if(!I(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n,o=d.call(arguments,1),s=function(){if(this instanceof n){var r=y.call(e,this,m.call(o,d.call(arguments)));return i(r)===r?r:this}return y.call(e,t,m.call(o,d.call(arguments)))},a=b(0,e.length-o.length),l=[],c=0;a>c;c++)f.call(l,"$"+c);return n=r("binder","return function ("+g.call(l,",")+"){ return binder.apply(this, arguments); }")(s),e.prototype&&(W.prototype=e.prototype,n.prototype=new W,W.prototype=null),n}});var Y=v.bind(o.hasOwnProperty),G=v.bind(o.toString),q=v.bind(d),V=y.bind(d),Z=v.bind(l.slice),X=v.bind(l.split),J=v.bind(l.indexOf),K=v.bind(f),Q=v.bind(o.propertyIsEnumerable),tt=v.bind(n.sort),et=e.isArray||function(t){return"[object Array]"===G(t)},nt=1!==[].unshift(0);B(n,{unshift:function(){return p.apply(this,arguments),this.length}},nt),B(e,{isArray:et});var it=i("a"),ot="a"!==it[0]||!(0 in it),rt=function(t){var e=!0,n=!0,o=!1;if(t)try{t.call("foo",function(t,n,i){"object"!=typeof i&&(e=!1)}),t.call([1],function(){"use strict";n="string"==typeof this},"x")}catch(i){o=!0}return!!t&&!o&&e&&n};B(n,{forEach:function(t){var e,n=z.ToObject(this),i=ot&&P(this)?X(this,""):n,o=-1,r=z.ToUint32(i.length);if(arguments.length>1&&(e=arguments[1]),!I(t))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++o<r;)o in i&&(void 0===e?t(i[o],o,n):t.call(e,i[o],o,n))}},!rt(n.forEach)),B(n,{map:function(t){var n,i=z.ToObject(this),o=ot&&P(this)?X(this,""):i,r=z.ToUint32(o.length),s=e(r);if(arguments.length>1&&(n=arguments[1]),!I(t))throw new TypeError("Array.prototype.map callback must be a function");for(var a=0;r>a;a++)a in o&&(s[a]=void 0===n?t(o[a],a,i):t.call(n,o[a],a,i));return s}},!rt(n.map)),B(n,{filter:function(t){var e,n,i=z.ToObject(this),o=ot&&P(this)?X(this,""):i,r=z.ToUint32(o.length),s=[];if(arguments.length>1&&(n=arguments[1]),!I(t))throw new TypeError("Array.prototype.filter callback must be a function");for(var a=0;r>a;a++)a in o&&(e=o[a],(void 0===n?t(e,a,i):t.call(n,e,a,i))&&K(s,e));return s}},!rt(n.filter)),B(n,{every:function(t){var e,n=z.ToObject(this),i=ot&&P(this)?X(this,""):n,o=z.ToUint32(i.length);if(arguments.length>1&&(e=arguments[1]),!I(t))throw new TypeError("Array.prototype.every callback must be a function");for(var r=0;o>r;r++)if(r in i&&!(void 0===e?t(i[r],r,n):t.call(e,i[r],r,n)))return!1;return!0}},!rt(n.every)),B(n,{some:function(t){var e,n=z.ToObject(this),i=ot&&P(this)?X(this,""):n,o=z.ToUint32(i.length);if(arguments.length>1&&(e=arguments[1]),!I(t))throw new TypeError("Array.prototype.some callback must be a function");for(var r=0;o>r;r++)if(r in i&&(void 0===e?t(i[r],r,n):t.call(e,i[r],r,n)))return!0;return!1}},!rt(n.some));var st=!1;n.reduce&&(st="object"==typeof n.reduce.call("es5",function(t,e,n,i){return i})),B(n,{reduce:function(t){var e=z.ToObject(this),n=ot&&P(this)?X(this,""):e,i=z.ToUint32(n.length);if(!I(t))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===i&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,r=0;if(arguments.length>=2)o=arguments[1];else for(;;){if(r in n){o=n[r++];break}if(++r>=i)throw new TypeError("reduce of empty array with no initial value")}for(;i>r;r++)r in n&&(o=t(o,n[r],r,e));return o}},!st);var at=!1;n.reduceRight&&(at="object"==typeof n.reduceRight.call("es5",function(t,e,n,i){return i})),B(n,{reduceRight:function(t){var e=z.ToObject(this),n=ot&&P(this)?X(this,""):e,i=z.ToUint32(n.length);if(!I(t))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===i&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var o,r=i-1;if(arguments.length>=2)o=arguments[1];else for(;;){if(r in n){o=n[r--];break}if(--r<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>r)return o;do{r in n&&(o=t(o,n[r],r,e))}while(r--);return o}},!at);var lt=n.indexOf&&-1!==[0,1].indexOf(1,2);B(n,{indexOf:function(t){var e=ot&&P(this)?X(this,""):z.ToObject(this),n=z.ToUint32(e.length);if(0===n)return-1;var i=0;for(arguments.length>1&&(i=z.ToInteger(arguments[1])),i=i>=0?i:b(0,n+i);n>i;i++)if(i in e&&e[i]===t)return i;return-1}},lt);var ct=n.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);B(n,{lastIndexOf:function(t){var e=ot&&P(this)?X(this,""):z.ToObject(this),n=z.ToUint32(e.length);if(0===n)return-1;var i=n-1;for(arguments.length>1&&(i=_(i,z.ToInteger(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in e&&t===e[i])return i;return-1}},ct);var ut,dt,ht=(dt=(ut=[1,2]).splice(),2===ut.length&&et(dt)&&0===dt.length);B(n,{splice:function(){return 0===arguments.length?[]:h.apply(this,arguments)}},!ht);var ft,pt=(ft={},n.splice.call(ft,0,0,1),1===ft.length);B(n,{splice:function(t,e){if(0===arguments.length)return[];var n=arguments;return this.length=b(z.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof e&&((n=q(arguments)).length<2?K(n,this.length-t):n[1]=z.ToInteger(e)),h.apply(this,n)}},!pt);var mt,gt,vt,yt=((vt=new e(1e5))[8]="x",vt.splice(1,1),7===vt.indexOf("x")),bt=((gt=[])[mt=256]="a",gt.splice(mt+1,0,"b"),"a"===gt[mt]);B(n,{splice:function(t,e){for(var n,i=z.ToObject(this),o=[],r=z.ToUint32(i.length),s=z.ToInteger(t),l=0>s?b(r+s,0):_(s,r),c=_(b(z.ToInteger(e),0),r-l),u=0;c>u;)n=a(l+u),Y(i,n)&&(o[u]=i[n]),u+=1;var d,h=q(arguments,2),f=h.length;if(c>f){u=l;for(var p=r-c;p>u;)n=a(u+c),d=a(u+f),Y(i,n)?i[d]=i[n]:delete i[d],u+=1;u=r;for(var m=r-c+f;u>m;)delete i[u-1],u-=1}else if(f>c)for(u=r-c;u>l;)n=a(u+c-1),d=a(u+f-1),Y(i,n)?i[d]=i[n]:delete i[d],u-=1;u=l;for(var g=0;g<h.length;++g)i[u]=h[g],u+=1;return i.length=r-c+f,o}},!yt||!bt);var _t,wt=n.join;try{_t="1,2,3"!==Array.prototype.join.call("123",",")}catch(Ge){_t=!0}_t&&B(n,{join:function(t){var e=void 0===t?",":t;return wt.call(P(this)?X(this,""):this,e)}},_t);var kt="1,2"!==[1,2].join(void 0);kt&&B(n,{join:function(t){var e=void 0===t?",":t;return wt.call(this,e)}},kt);var Ct,St=function(){for(var t=z.ToObject(this),e=z.ToUint32(t.length),n=0;n<arguments.length;)t[e+n]=arguments[n],n+=1;return t.length=e+n,e+n},xt=(Ct={},1!==Array.prototype.push.call(Ct,void 0)||1!==Ct.length||"undefined"!=typeof Ct[0]||!Y(Ct,0));B(n,{push:function(){return et(this)?f.apply(this,arguments):St.apply(this,arguments)}},xt);var Et,Tt=1!==(Et=[]).push(void 0)||1!==Et.length||"undefined"!=typeof Et[0]||!Y(Et,0);B(n,{push:St},Tt),B(n,{slice:function(){var t=P(this)?X(this,""):this;return V(t,arguments)}},ot);var At=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(I){}return!1}(),It=function(){try{return[1,2].sort(/a/),!1}catch(I){}return!0}(),Dt=function(){try{return[1,2].sort(void 0),!0}catch(I){}return!1}();B(n,{sort:function(t){if(void 0===t)return tt(this);if(!I(t))throw new TypeError("Array.prototype.sort callback must be a function");return tt(this,t)}},At||!Dt||!It);var Lt=!Q({toString:null},"toString"),Rt=Q(function(){},"prototype"),Pt=!Y("x","0"),Mt=function(t){var e=t.constructor;return e&&e.prototype===t},Nt={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},Ot=function(){if("undefined"==typeof window)return!1;for(var e in window)try{!Nt["$"+e]&&Y(window,e)&&null!==window[e]&&"object"==typeof window[e]&&Mt(window[e])}catch(t){return!0}return!1}(),jt=function(e){if("undefined"==typeof window||!Ot)return Mt(e);try{return Mt(e)}catch(t){return!1}},Ft=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],$t=Ft.length,Bt=function(t){return"[object Arguments]"===G(t)},Ut=function(t){return null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&!et(t)&&I(t.callee)},Ht=Bt(arguments)?Bt:Ut;B(i,{keys:function(t){var e=I(t),n=Ht(t),i=null!==t&&"object"==typeof t,o=i&&P(t);if(!i&&!e&&!n)throw new TypeError("Object.keys called on a non-object");var r=[],s=Rt&&e;if(o&&Pt||n)for(var l=0;l<t.length;++l)K(r,a(l));if(!n)for(var c in t)s&&"prototype"===c||!Y(t,c)||K(r,a(c));if(Lt)for(var u=jt(t),d=0;$t>d;d++){var h=Ft[d];u&&"constructor"===h||!Y(t,h)||K(r,h)}return r}});var zt=i.keys&&function(){return 2===i.keys(arguments).length}(1,2),Wt=i.keys&&function(){var t=i.keys(arguments);return 1!==arguments.length||1!==t.length||1!==t[0]}(1),Yt=i.keys;B(i,{keys:function(t){return Yt(Ht(t)?q(t):t)}},!zt||Wt);var Gt,qt,Vt=0!==new Date(-0xc782b5b342b24).getUTCMonth(),Zt=new Date(-0x55d318d56a724),Xt=new Date(14496624e5),Jt="Mon, 01 Jan -45875 11:59:59 GMT"!==Zt.toUTCString();-720>Zt.getTimezoneOffset()?(Gt="Tue Jan 02 -45875"!==Zt.toDateString(),qt=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Xt.toString())):(Gt="Mon Jan 01 -45875"!==Zt.toDateString(),qt=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Xt.toString()))
;var Kt=v.bind(Date.prototype.getFullYear),Qt=v.bind(Date.prototype.getMonth),te=v.bind(Date.prototype.getDate),ee=v.bind(Date.prototype.getUTCFullYear),ne=v.bind(Date.prototype.getUTCMonth),ie=v.bind(Date.prototype.getUTCDate),oe=v.bind(Date.prototype.getUTCDay),re=v.bind(Date.prototype.getUTCHours),se=v.bind(Date.prototype.getUTCMinutes),ae=v.bind(Date.prototype.getUTCSeconds),le=v.bind(Date.prototype.getUTCMilliseconds),ce=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],de=function(t,e){return te(new Date(e,t,0))};B(Date.prototype,{getFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Kt(this);return 0>t&&Qt(this)>11?t+1:t},getMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Kt(this),e=Qt(this);return 0>t&&e>11?0:e},getDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Kt(this),e=Qt(this),n=te(this);return 0>t&&e>11?12===e?n:de(0,t+1)-n+1:n},getUTCFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=ee(this);return 0>t&&ne(this)>11?t+1:t},getUTCMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=ee(this),e=ne(this);return 0>t&&e>11?0:e},getUTCDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=ee(this),e=ne(this),n=ie(this);return 0>t&&e>11?12===e?n:de(0,t+1)-n+1:n}},Vt),B(Date.prototype,{toUTCString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=oe(this),e=ie(this),n=ne(this),i=ee(this),o=re(this),r=se(this),s=ae(this);return ce[t]+", "+(10>e?"0"+e:e)+" "+ue[n]+" "+i+" "+(10>o?"0"+o:o)+":"+(10>r?"0"+r:r)+":"+(10>s?"0"+s:s)+" GMT"}},Vt||Jt),B(Date.prototype,{toDateString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),n=this.getMonth(),i=this.getFullYear();return ce[t]+" "+ue[n]+" "+(10>e?"0"+e:e)+" "+i}},Vt||Gt),(Vt||qt)&&(Date.prototype.toString=function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),n=this.getMonth(),i=this.getFullYear(),o=this.getHours(),r=this.getMinutes(),s=this.getSeconds(),a=this.getTimezoneOffset(),l=Math.floor(Math.abs(a)/60),c=Math.floor(Math.abs(a)%60);return ce[t]+" "+ue[n]+" "+(10>e?"0"+e:e)+" "+i+" "+(10>o?"0"+o:o)+":"+(10>r?"0"+r:r)+":"+(10>s?"0"+s:s)+" GMT"+(a>0?"-":"+")+(10>l?"0"+l:l)+(10>c?"0"+c:c)},$&&i.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var he=-621987552e5,fe="-000001",pe=Date.prototype.toISOString&&-1===new Date(he).toISOString().indexOf(fe),me=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),ge=v.bind(Date.prototype.getTime);B(Date.prototype,{toISOString:function(){if(!isFinite(this)||!isFinite(ge(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var t=ee(this),e=ne(this);t+=Math.floor(e/12);var n=[(e=(e%12+12)%12)+1,ie(this),re(this),se(this),ae(this)];t=(0>t?"-":t>9999?"+":"")+Z("00000"+Math.abs(t),t>=0&&9999>=t?-4:-6);for(var i=0;i<n.length;++i)n[i]=Z("00"+n[i],-2);return t+"-"+q(n,0,2).join("-")+"T"+q(n,2).join(":")+"."+Z("000"+le(this),-3)+"Z"}},pe||me),function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(he).toJSON().indexOf(fe)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(I){return!1}}()||(Date.prototype.toJSON=function(){var t=i(this),e=z.ToPrimitive(t);if("number"==typeof e&&!isFinite(e))return null;var n=t.toISOString;if(!I(n))throw new TypeError("toISOString property is not callable");return n.call(t)});var ve=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),ye=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));if(isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||ye||!ve){var be=Math.pow(2,31)-1,_e=H(new Date(1970,0,1,0,0,0,be+1).getTime());Date=function(t){var e=function(n,i,o,r,s,l,c){var u,d=arguments.length;if(this instanceof t){var h=l,f=c;if(_e&&d>=7&&c>be){var p=Math.floor(c/be)*be,m=Math.floor(p/1e3);h+=m,f-=1e3*m}u=1===d&&a(n)===n?new t(e.parse(n)):d>=7?new t(n,i,o,r,s,h,f):d>=6?new t(n,i,o,r,s,h):d>=5?new t(n,i,o,r,s):d>=4?new t(n,i,o,r):d>=3?new t(n,i,o):d>=2?new t(n,i):d>=1?new t(n instanceof t?+n:n):new t}else u=t.apply(this,arguments);return U(u)||B(u,{constructor:e},!0),u},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),i=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=function(t,e){var n=e>1?1:0;return i[e]+Math.floor((t-1969+n)/4)-Math.floor((t-1901+n)/100)+Math.floor((t-1601+n)/400)+365*(t-1970)},r=function(e){var n=0,i=e;if(_e&&i>be){var o=Math.floor(i/be)*be,r=Math.floor(o/1e3);n+=r,i-=1e3*r}return c(new t(1970,0,1,0,0,n,i))};for(var s in t)Y(t,s)&&(e[s]=t[s]);return B(e,{now:t.now,UTC:t.UTC},!0),e.prototype=t.prototype,B(e.prototype,{constructor:e},!0),B(e,{parse:function(e){var i=n.exec(e);if(i){var s,a=c(i[1]),l=c(i[2]||1)-1,u=c(i[3]||1)-1,d=c(i[4]||0),h=c(i[5]||0),f=c(i[6]||0),p=Math.floor(1e3*c(i[7]||0)),m=Boolean(i[4]&&!i[8]),g="-"===i[9]?1:-1,v=c(i[10]||0),y=c(i[11]||0);return(h>0||f>0||p>0?24:25)>d&&60>h&&60>f&&1e3>p&&l>-1&&12>l&&24>v&&60>y&&u>-1&&u<o(a,l+1)-o(a,l)&&(s=1e3*(60*((s=60*(24*(o(a,l)+u)+d+v*g))+h+y*g)+f)+p,m&&(s=r(s)),s>=-864e13&&864e13>=s)?s:NaN}return t.parse.apply(this,arguments)}}),e}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var we=u.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),ke={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(t,e){for(var n=-1,i=e;++n<ke.size;)i+=t*ke.data[n],ke.data[n]=i%ke.base,i=Math.floor(i/ke.base)},divide:function(t){for(var e=ke.size,n=0;--e>=0;)n+=ke.data[e],ke.data[e]=Math.floor(n/t),n=n%t*ke.base},numToString:function(){for(var t=ke.size,e="";--t>=0;)if(""!==e||0===t||0!==ke.data[t]){var n=a(ke.data[t]);""===e?e=n:e+=Z("0000000",0,7-n.length)+n}return e},pow:function qe(t,e,n){return 0===e?n:e%2==1?qe(t,e-1,n*t):qe(t*t,e/2,n)},log:function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}};B(u,{toFixed:function(t){var e,n,i,o,r,s,l,u;if(e=c(t),0>(e=H(e)?0:Math.floor(e))||e>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=c(this),H(n))return"NaN";if(-1e21>=n||n>=1e21)return a(n);if(i="",0>n&&(i="-",n=-n),o="0",n>1e-21)if(s=0>(r=ke.log(n*ke.pow(2,69,1))-69)?n*ke.pow(2,-r,1):n/ke.pow(2,r,1),s*=4503599627370496,(r=52-r)>0){for(ke.multiply(0,s),l=e;l>=7;)ke.multiply(1e7,0),l-=7;for(ke.multiply(ke.pow(10,l,1),0),l=r-1;l>=23;)ke.divide(1<<23),l-=23;ke.divide(1<<l),ke.multiply(1,1),ke.divide(2),o=ke.numToString()}else ke.multiply(0,s),ke.multiply(1<<-r,0),o=ke.numToString()+Z("0.00000000000000000000",2,2+e);return e>0?o=e>=(u=o.length)?i+Z("0.0000000000000000000",0,e-u+2)+o:i+Z(o,0,u-e)+"."+Z(o,u-e):o=i+o,o}},we);var Ce,Se,xe=function(){try{return"1"===1..toPrecision(void 0)}catch(I){return!0}}(),Ee=u.toPrecision;B(u,{toPrecision:function(t){return void 0===t?Ee.call(this):Ee.call(this,t)}},xe),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(Ce="undefined"==typeof/()??/.exec("")[1],Se=Math.pow(2,32)-1,l.split=function(e,n){var i=String(this);if(void 0===e&&0===n)return[];if(!t(e))return X(this,e,n);var o,r,s,a,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,d=new RegExp(e.source,c+"g");Ce||(o=new RegExp("^"+d.source+"$(?!\\s)",c));var h=void 0===n?Se:z.ToUint32(n);for(r=d.exec(i);r&&!((s=r.index+r[0].length)>u&&(K(l,Z(i,u,r.index)),!Ce&&r.length>1&&r[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)"undefined"==typeof arguments[t]&&(r[t]=void 0)}),r.length>1&&r.index<i.length&&f.apply(l,q(r,1)),a=r[0].length,u=s,l.length>=h));)d.lastIndex===r.index&&d.lastIndex++,r=d.exec(i);return u===i.length?(a||!d.test(""))&&K(l,""):K(l,Z(i,u)),l.length>h?q(l,0,h):l}):"0".split(void 0,0).length&&(l.split=function(t,e){return void 0===t&&0===e?[]:X(this,t,e)});var Te,Ae=l.replace;(Te=[],"x".replace(/x(.)?/g,function(t,e){K(Te,e)}),1===Te.length&&"undefined"==typeof Te[0])||(l.replace=function(e,n){var i=I(n),o=t(e)&&/\)[*?]/.test(e.source);if(i&&o){var r=function(t){var i=arguments.length,o=e.lastIndex;e.lastIndex=0;var r=e.exec(t)||[];return e.lastIndex=o,K(r,arguments[i-2],arguments[i-1]),n.apply(this,r)};return Ae.call(this,e,r)}return Ae.call(this,e,n)});var Ie=l.substr,De="".substr&&"b"!=="0b".substr(-1);B(l,{substr:function(t,e){var n=t;return 0>t&&(n=b(this.length+t,0)),Ie.call(this,n,e)}},De);var Le="\t\n\x0B\f\r \xc2 \xe1\u0161\u20ac\xe1 \u017d\xe2\u20ac\u20ac\xe2\u20ac\x81\xe2\u20ac\u201a\xe2\u20ac\u0192\xe2\u20ac\u201e\xe2\u20ac\u2026\xe2\u20ac\u2020\xe2\u20ac\u2021\xe2\u20ac\u02c6\xe2\u20ac\u2030\xe2\u20ac\u0160\xe2\u20ac\xaf\xe2\x81\u0178\xe3\u20ac\u20ac\u2028\u2029\ufeff",Re="\xe2\u20ac\u2039",Pe="["+Le+"]",Me=new RegExp("^"+Pe+Pe+"*"),Ne=new RegExp(Pe+Pe+"*$"),Oe=l.trim&&(Le.trim()||!Re.trim());B(l,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return a(this).replace(Me,"").replace(Ne,"")}},Oe);var je=v.bind(String.prototype.trim),Fe=l.lastIndexOf&&-1!=="abc\xe3\x81\u201a\xe3\x81\u201e".lastIndexOf("\xe3\x81\u201a\xe3\x81\u201e",2);B(l,{lastIndexOf:function(t){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");for(var e=a(this),n=a(t),i=arguments.length>1?c(arguments[1]):NaN,o=H(i)?1/0:z.ToInteger(i),r=_(b(o,0),e.length),s=n.length,l=r+s;l>0;){l=b(0,l-s);var u=J(Z(e,l,r+s),n);if(-1!==u)return l+u}return-1}},Fe);var $e,Be,Ue,He=l.lastIndexOf;if(B(l,{lastIndexOf:function(){return He.apply(this,arguments)}},1!==l.lastIndexOf.length),(8!==parseInt(Le+"08")||22!==parseInt(Le+"0x16"))&&(parseInt=(Be=parseInt,Ue=/^[\-+]?0[xX]/,function(t,e){var n=je(String(t)),i=c(e)||(Ue.test(n)?16:10);return Be(n,i)})),1/parseFloat("-0")!=-1/0&&(parseFloat=($e=parseFloat,function(t){var e=je(String(t)),n=$e(e);return 0===n&&"-"===Z(e,0,1)?-0:n})),"RangeError: test"!==String(new RangeError("test"))){var ze=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");var t=this.name;void 0===t?t="Error":"string"!=typeof t&&(t=a(t));var e=this.message;return void 0===e?e="":"string"!=typeof e&&(e=a(e)),t?e?t+": "+e:t:e};Error.prototype.toString=ze}if($){var We=function(t,e){if(Q(t,e)){var n=Object.getOwnPropertyDescriptor(t,e);n.configurable&&(n.enumerable=!1,Object.defineProperty(t,e,n))}};We(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),We(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var Ye=function(){var t="/"+this.source+"/";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),t};RegExp.prototype.toString=Ye}})},{}],37:[function(t,e){var n=[],i=n.forEach,o=n.slice;e.exports=function(t){return i.call(o.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t}},{}],38:[function(t,e,n){n.read=function(t,e,n,i,o){var r,s,a=8*o-i-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?o-1:0,h=n?-1:1,f=t[e+d];for(d+=h,r=f&(1<<-u)-1,f>>=-u,u+=a;u>0;r=256*r+t[e+d],d+=h,u-=8);for(s=r&(1<<-u)-1,r>>=-u,u+=i;u>0;s=256*s+t[e+d],d+=h,u-=8);if(0===r)r=1-c;else{if(r===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,i),r-=c}return(f?-1:1)*s*Math.pow(2,r-i)},n.write=function(t,e,n,i,o,r){var s,a,l,c=8*r-o-1,u=(1<<c)-1,d=u>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:r-1,p=i?1:-1,m=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*l-1)*Math.pow(2,o),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;t[n+f]=255&a,f+=p,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[n+f]=255&s,f+=p,s/=256,c-=8);t[n+f-p]|=128*m}},{}],39:[function(t,e){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},{}],40:[function(t,e){function n(t){var e=i.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}e.exports=n;var i=Object.prototype.toString},{}],41:[function(t,e){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],42:[function(e,n,i){(function(e){!function(o){function r(t){throw new RangeError(M[t])}function s(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function a(t,e){var n=t.split("@"),i="";return n.length>1&&(i=n[0]+"@",t=n[1]),i+s((t=t.replace(P,".")).split("."),e).join(".")}function l(t){for(var e,n,i=[],o=0,r=t.length;r>o;)(e=t.charCodeAt(o++))>=55296&&56319>=e&&r>o?56320==(64512&(n=t.charCodeAt(o++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),o--):i.push(e);return i}function c(t){return s(t,function(t){var e="";return t>65535&&(e+=j((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+j(t)}).join("")}function u(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:C}function d(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function h(t,e,n){var i=0;for(t=n?O(t/T):t>>1,t+=O(t/e);t>N*x>>1;i+=C)t=O(t/N);return O(i+(N+1)*t/(t+E))}function f(t){var e,n,i,o,s,a,l,d,f,p,m=[],g=t.length,v=0,y=I,b=A;for(0>(n=t.lastIndexOf(D))&&(n=0),i=0;n>i;++i)t.charCodeAt(i)>=128&&r("not-basic"),m.push(t.charCodeAt(i));for(o=n>0?n+1:0;g>o;){for(s=v,a=1,l=C;o>=g&&r("invalid-input"),((d=u(t.charCodeAt(o++)))>=C||d>O((k-v)/a))&&r("overflow"),v+=d*a,!((f=b>=l?S:l>=b+x?x:l-b)>d);l+=C)a>O(k/(p=C-f))&&r("overflow"),a*=p;b=h(v-s,e=m.length+1,0==s),O(v/e)>k-y&&r("overflow"),y+=O(v/e),v%=e,m.splice(v++,0,y)}return c(m)}function p(t){var e,n,i,o,s,a,c,u,f,p,m,g,v,y,b,_=[];for(g=(t=l(t)).length,e=I,n=0,s=A,a=0;g>a;++a)128>(m=t[a])&&_.push(j(m));for(i=o=_.length,o&&_.push(D);g>i;){for(c=k,a=0;g>a;++a)(m=t[a])>=e&&c>m&&(c=m);for(c-e>O((k-n)/(v=i+1))&&r("overflow"),n+=(c-e)*v,e=c,a=0;g>a;++a)if(e>(m=t[a])&&++n>k&&r("overflow"),m==e){for(u=n,f=C;!((p=s>=f?S:f>=s+x?x:f-s)>u);f+=C)b=u-p,y=C-p,_.push(j(d(p+b%y,0))),u=O(b/y);_.push(j(d(u,0))),s=h(n,v,i==o),n=0,++i}++n,++e}return _.join("")}function m(t){return a(t,function(t){return L.test(t)?f(t.slice(4).toLowerCase()):t})}function g(t){return a(t,function(t){return R.test(t)?"xn--"+p(t):t})}var v="object"==typeof i&&i&&!i.nodeType&&i,y="object"==typeof n&&n&&!n.nodeType&&n,b="object"==typeof e&&e;(b.global===b||b.window===b||b.self===b)&&(o=b);var _,w,k=2147483647,C=36,S=1,x=26,E=38,T=700,A=72,I=128,D="-",L=/^xn--/,R=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=C-S,O=Math.floor,j=String.fromCharCode;if(_={version:"1.4.1",ucs2:{decode:l,encode:c},decode:f,encode:p,toASCII:g,toUnicode:m},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return _});else if(v&&y)if(n.exports==v)y.exports=_;else for(w in _)_.hasOwnProperty(w)&&(v[w]=_[w]);else o.punycode=_}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],43:[function(e,n){!function(e,i){void 0!==n&&n.exports?n.exports=i():"function"==typeof t&&t.amd?t(i):this[e]=i()}("$script",function(){function t(t,e){for(var n=0,i=t.length;i>n;++n)if(!e(t[n]))return l;return 1}function e(e,n){t(e,function(t){return!n(t)})}function n(r,s,a){function l(t){return t.call?t():h[t]}function u(){if(!--y)for(var n in h[v]=1,g&&g(),p)t(n.split("|"),l)&&!e(p[n],l)&&(p[n]=[])}r=r[c]?r:[r];var d=s&&s.call,g=d?s:a,v=d?r.join(""):s,y=r.length;return setTimeout(function(){e(r,function t(e,n){return null===e?u():(n||/^https?:\/\//.test(e)||!o||(e=-1===e.indexOf(".js")?o+e+".js":o+e),m[e]?(v&&(f[v]=1),2==m[e]?u():setTimeout(function(){t(e,!0)},0)):(m[e]=1,v&&(f[v]=1),void i(e,u)))})},0),n}function i(t,e){var n,i=s.createElement("script");i.onload=i.onerror=i[d]=function(){i[u]&&!/^c|loade/.test(i[u])||n||(i.onload=i[d]=null,n=1,m[t]=2,e())},i.async=1,i.src=r?t+(-1===t.indexOf("?")?"?":"&")+r:t,a.insertBefore(i,a.lastChild)}var o,r,s=document,a=s.getElementsByTagName("head")[0],l=!1,c="push",u="readyState",d="onreadystatechange",h={},f={},p={},m={};return n.get=i,n.order=function(t,e,i){!function o(r){r=t.shift(),t.length?n(r,o):n(r,e,i)}()},n.path=function(t){o=t},n.urlArgs=function(t){r=t},n.ready=function(i,o,r){var s,a=[];return!e(i=i[c]?i:[i],function(t){h[t]||a[c](t)})&&t(i,function(t){return h[t]})?o():(s=i.join("|"),p[s]=p[s]||[],p[s][c](o),r&&r(a)),n},n.done=function(t){n([null],t)},n})},{}]},{},[30])(30)}),function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(5)},function(t,e,n){!function(){"use strict";var e=function(t,e){var i,o="hlsjs",r=e.common,s=e.extend,a=e.support,l=a.browser,c=l.safari&&a.dataload,u=a.android&&!a.android.firefox||!a.firstframe&&a.dataload&&!l.mozilla,d=e.version,h=0===d.indexOf("6."),f=window,p=f.MediaSource||f.WebKitMediaSource,m=f.performance,g=function(t){return t.toLowerCase().indexOf("mpegurl")>-1},v=function(t){var e=t.clip&&t.clip.hlsQualities||t.hlsQualities;return a.inlineVideo&&(!0===e||e&&e.length)},y=function(t){var e=r.findDirect("video",t)[0]||r.find(".fp-player>video",t)[0];e&&(r.find("source",e).forEach(function(t){t.removeAttribute("src")}),e.removeAttribute("src"),e.load(),r.removeNode(e))},b=n(3),_=new b.TextDecoder("utf-8"),w=function(t){var e="";try{e=_.decode(t)}catch(n){try{_=new b.TextDecoder("utf-16be"),e=_.decode(t)}catch(n){try{_=new b.TextDecoder("utf-16le"),e=_.decode(t)}catch(t){}}}return e},k=function(t,e,n){e.title=e.title||n+"";var i={time:e.startTime,subtitle:e,visible:!1};t.subtitles.push(e),t.addCuepoint(i),t.addCuepoint({time:e.endTime,subtitleEnd:e.title,visible:!1}),0!==e.startTime||t.video.time||t.splash||t.trigger("cuepoint",[t,i]),t.splash&&t.one("ready."+o,function(){t.trigger("cuepoint",[t,i])})},C=function(n,l){var f,b,_,C,S,x,E,T,A,I,D=e.bean,L="is-seeking",R="is-poster",P=function(t,e,i){if(t.debug&&console.log("recovery."+o,"<-",e),r.removeClass(l,"is-paused"),r.addClass(l,L),i)b.startLoad();else{var s=m.now();!C||s-C>3e3?(C=m.now(),b.recoverMediaError()):(!S||s-S>3e3)&&(S=m.now(),b.swapAudioCodec(),b.recoverMediaError())}_>0&&(_-=1),D.one(f,"seeked."+o,function(){f.paused&&(r.removeClass(l,R),n.poster=!1,f.play()),r.removeClass(l,L)})},M=function(t,e,i){var o={code:t};return t>2&&(o.video=s(n.video,{src:e,url:i||e})),o},N=function(){D.one(f,"timeupdate."+o,function(){r.addClass(l,R),n.poster=!0})},O=function(){h&&n.poster&&D.one(f,"timeupdate."+o,function(){r.removeClass(l,R),n.poster=!1})},j=0,F=function(t){if(E&&E.length>1){var e=b.audioTracks,n=e.filter(function(n){var i=b.levels[t].attrs;return n.autoselect&&i&&n.groupId===i.AUDIO&&n.name===e[b.audioTrack].name}),i=n.length&&n[0].id;void 0!==i&&i!==b.audioTrack&&(b.audioTrack=i)}},$=function(t){r.find(".fp-audio",l)[0].innerHTML=t.lang||t.name,r.find(".fp-audio-menu a",l).forEach(function(e){var n=e.getAttribute("data-audio")===t.name;r.toggleClass(e,"fp-selected",n),r.toggleClass(e,"fp-color",n)})},B=function(){r.find(".fp-audio-menu",l).forEach(r.removeNode),r.find(".fp-audio",l).forEach(r.removeNode)},U=function(t){var e=r.find(".fp-subtitle-menu",l)[0];r.toggleClass(r.find("a.fp-selected",e)[0],"fp-selected"),r.toggleClass(r.find('a[data-subtitle-index="'+t+'"]',e)[0],"fp-selected")},H=function(t,e){var i=w(t.payload),o=t.frag.trackId;i&&(I[o]||(I[o]=[]),(i=e.subtitleParser(i)).forEach(function(t){if(t.text&&(I[o].push(t),n.ready&&(k(n,t,I[o].length),n.live))){var e=n.video.seekOffset;I[o]=I[o].filter(function(t){return t.endTime>=e}),n.subtitles=n.subtitles.filter(function(t){return t.endTime>=e}),n.cuepoints.forEach(function(t){t.subtitle&&t.time<e&&n.removeCuepoint(t)})}}))},z=function(){[].forEach.call(f.textTracks,function(t){"subtitles"===t.kind&&(t.mode="hidden")})},W=function(t,e){var i=t.subtitleTracks;e.subtitles&&i.length&&a.inlineVideo&&!h&&(i=i.filter(function(t){return t.groupId===i[0].groupId}),n.video.subtitles=i.map(function(t){var e={kind:"subtitles",id:t.id,srclang:t.lang,label:t.name,"default":t["default"]};return r.append(f,r.createElement("track",e)),e}),n.on("ready."+o,function(t,e){var n,i=b.subtitleTracks;i&&i.length&&(A?r.addClass(f,"native-subtitles"):z(),i.map(function(t,e){t["default"]&&(b.subtitleTrack=e)}),(n=b.subtitleTrack)>-1?(!A&&I[n]&&I[n].forEach(function(t,n){k(e,t,n+1)}),U(n)):U(-1))}),D.on(l,"click."+o,".fp-subtitle-menu [data-subtitle-index]",function(t){t.preventDefault();var e=t.target.getAttribute("data-subtitle-index");return n.disableSubtitles(),b.subtitleTrack=e,e<0?void z():(U(e),void(!A&&I[e]&&I[e].forEach(function(t,e){k(n,t,e+1)})))}))},Y=function(t){E=[],T=[],t.levels.forEach(function(t){var e=t.attrs&&t.attrs.AUDIO,n=t.audioCodec;e&&E.indexOf(e)<0&&(!n||p.isTypeSupported("audio/mp4;codecs="+n))&&E.push(e)}),E.length&&(T=t.audioTracks.filter(function(t){return t.groupId===E[0]})),!a.inlineVideo||h||T.length<2||(D.on(l,"click."+o,".fp-audio",function(){var t=r.find(".fp-audio-menu",l)[0];r.hasClass(t,"fp-active")?n.hideMenu():n.showMenu(t)}),D.on(l,"click."+o,".fp-audio-menu a",function(t){var e=t.target.getAttribute("data-audio"),n=b.audioTracks,i=n[b.audioTrack].groupId,o=n.filter(function(t){return t.groupId===i&&(t.name===e||t.lang===e)})[0];b.audioTrack=o.id,$(o)}),n.on("ready."+o,function(){if(B(),b&&T&&!(T.length<2)){var t=r.find(".fp-ui",l)[0],e=r.find(".fp-controls",t)[0],n=b.audioTracks[b.audioTrack],i=r.createElement("div",{className:"fp-menu fp-audio-menu",css:{width:"auto"}},"<strong>Audio</strong>");T.forEach(function(t){i.appendChild(r.createElement("a",{"data-audio":t.name},t.name))}),t.appendChild(i),e.appendChild(r.createElement("strong",{className:"fp-audio"},n)),$(n)}}))},G="active",q=function(t){return t?n.qualities.indexOf(t)<0&&(t="abr"):t=n.quality,t.toLowerCase().replace(/\ /g,"")},V=function(){var t=n.qualities;t&&(r.removeClass(l,"quality-abr"),t.forEach(function(t){r.removeClass(l,"quality-"+q(t))}))},Z=function(){h&&(delete n.hlsQualities,V(),r.find(".fp-quality-selector",l).forEach(r.removeNode))},X=function(){return n.hlsQualities[n.qualities.indexOf(n.quality)+1]},J=-1,K=function(t,e,i){var s,a,c,u=i.levels,d=function(t){return isNaN(Number(t))?t.level:t};if(Z(),t&&!(u.length<2)){if("drive"===t){switch(u.length){case 4:s=[1,2,3];break;case 5:s=[1,2,3,4];break;case 6:s=[1,3,4,5];break;case 7:s=[1,3,5,6];break;case 8:s=[1,3,6,7];break;default:if(u.length<3||u[0].height&&u[2].height&&u[0].height===u[2].height)return;s=[1,2]}s.unshift(-1)}else switch(typeof t){case"object":s=t.map(d);break;case"string":s=t.split(/\s*,\s*/).map(Number);break;default:(s=u.map(function(t,e){return e})).unshift(-1)}if(h&&s.indexOf(-1)<0&&s.unshift(-1),a=(s=s.filter(function(t){if(t>-1&&t<u.length){var e=u[t];return!e.videoCodec||e.videoCodec&&p.isTypeSupported("video/mp4;codecs="+e.videoCodec)}return-1===t})).map(function(e,n){var i=u[e],o="object"==typeof t?t.filter(function(t){return d(t)===e})[0]:e,r="Level "+(n+1);return e<0?r=o.label||"Auto":o.label?r=o.label:(i.width&&i.height&&(r=Math.min(i.width,i.height)+"p"),"drive"!==t&&i.bitrate&&(r+=" ("+Math.round(i.bitrate/1e3)+"k)")),h?r:{value:e,label:r}}),!h)return n.video.qualities=a,J>-1||s.indexOf(-1)<0?(b.loadLevel=s.indexOf(J)<0?s[0]:J,b.config.startLevel=b.loadLevel,n.video.quality=b.loadLevel):n.video.quality=-1,void(J=n.video.quality);n.hlsQualities=s,n.qualities=a.slice(1),c=r.createElement("ul",{"class":"fp-quality-selector"}),r.find(".fp-ui",l)[0].appendChild(c),!n.quality||a.indexOf(n.quality)<1?n.quality="abr":(b.loadLevel=X(),b.config.startLevel=b.loadLevel),a.forEach(function(t){c.appendChild(r.createElement("li",{"data-quality":q(t)},t))}),r.addClass(l,"quality-"+q()),D.on(l,"click."+o,".fp-quality-selector li",function(t){var i=t.currentTarget,s=r.find(".fp-quality-selector li",l),a=e.smoothSwitching,c=f.paused;r.hasClass(i,G)||(c||a||D.one(f,"pause."+o,function(){r.removeClass(l,"is-paused")}),s.forEach(function(t,e){var o=t===i;o&&(n.quality=e>0?n.qualities[e-1]:"abr",a&&!n.poster?b.nextLevel=X():b.currentLevel=X(),r.addClass(i,G),c&&f.play()),r.toggleClass(t,G,o)}),V(),r.addClass(l,"quality-"+q()))})}},Q={engineName:o,pick:function(t){var e=t.filter(function(t){return g(t.type)})[0];return"string"==typeof e.src&&(e.src=r.createAbsoluteUrl(e.src)),e},load:function(e){var d=n.conf,p={ended:"finish",loadeddata:c?0:"ready",canplaythrough:c?"ready":0,pause:"pause",play:"resume",progress:"buffer",ratechange:"speed",seeked:"seek",timeupdate:"progress",volumechange:"volume",error:"error"},m=t.Events,g=!!e.autoplay||!!d.autoplay,k=e.hlsQualities||d.hlsQualities,x=s(i,d.hlsjs,e.hlsjs),E=s({},x);if(!1===e.hlsQualities&&(k=!1),A=x.subtitles&&a.subtitles&&d.nativesubtitles,b?(b.destroy(),r.find("track",f).forEach(r.removeNode),r.removeClass(f,"native-subtitles"),(n.video.src&&e.src!==n.video.src||e.index)&&r.attr(f,"autoplay","autoplay")):(y(l),f=r.createElement("video",{"class":"fp-engine "+o+"-engine",autoplay:!!g&&"autoplay",volume:n.volumeLevel}),a.mutedAutoplay&&g&&(f.muted=!0),Object.keys(p).forEach(function(t){var e,i=p[t],a=t+"."+o;D.on(f,a,function(t){d.debug&&i.indexOf("progress")<0&&console.log(a,"->",i,t.originalEvent);var o,c,u,p=f.currentTime,m=f.seekable,g=n.video,v=n.dvr?g.seekOffset:n.live?b.liveSyncPosition:0,y=f.buffered,_=[],w=g.src,k=n.quality;switch(i){case"ready":e=s(g,{duration:f.duration,seekable:m.length&&m.end(null),width:f.videoWidth,height:f.videoHeight,url:w});break;case"resume":O(),x.bufferWhilePaused||b.startLoad(p),p<v&&(f.currentTime=v);break;case"seek":O(),!x.bufferWhilePaused&&f.paused&&b.stopLoad(),e=p;break;case"pause":x.bufferWhilePaused||b.stopLoad();break;case"progress":e=p;break;case"speed":e=f.playbackRate;break;case"volume":e=f.volume;break;case"buffer":for(o=0;o<y.length;o+=1)_.push(y.end(o));e=_.filter(function(t){return t>=p}).sort()[0],g.buffer=e;break;case"finish":x.bufferWhilePaused&&b.autoLevelEnabled&&(g.loop||d.playlist.length<2||!1===d.advance)&&(b.nextLoadLevel=j);break;case"error":if(u=f.error&&f.error.code,x.recoverMediaError&&(3===u||!u)||x.recoverNetworkError&&2===u||x.recover&&(2===u||3===u))return t.preventDefault(),void P(d,i,2===u);e=M(u,w)}n.trigger(i,[n,e]),h&&"ready"===i&&k&&(c="abr"===k?0:n.qualities.indexOf(k)+1,r.addClass(r.find(".fp-quality-selector li",l)[c],G))})}),n.on("error."+o,function(){b&&n.engine.unload()}).on("beforeseek."+o,function(t,e,n){void 0===n?t.preventDefault():!x.bufferWhilePaused&&e.paused&&b.startLoad(n)}),h?d.poster&&(n.on("stop."+o,N),!n.live||g||n.video.autoplay||D.one(f,"seeked."+o,N)):n.on("quality."+o,function(t,e,n){x.smoothSwitching?b.nextLevel=n:b.currentLevel=n,J=n}),r.prepend(r.find(".fp-player",l)[0],f)),n.video=e,j=0,Object.keys(x).forEach(function(e){t.DefaultConfig.hasOwnProperty(e)||delete E[e];var n=x[e];switch(e){case"adaptOnStartOnly":n&&(E.startLevel=-1);break;case"autoLevelCapping":!1===n&&(n=-1),E[e]=n;break;case"startLevel":switch(n){case"auto":n=-1;break;case"firstLevel":n=void 0}E[e]=n;break;case"recover":x.recoverMediaError=!1,x.recoverNetworkError=!1,_=n;break;case"strict":n&&(x.recoverMediaError=!1,x.recoverNetworkError=!1,_=0)}}),b=new t(E),n.engine[o]=b,C=null,S=null,n.disableSubtitles(),I={},Object.keys(m).forEach(function(e){var i=m[e],a=x.listeners,c=a&&a.indexOf(i)>-1;b.on(i,function(i,a){var u,p={},m=t.ErrorTypes,g=t.ErrorDetails,y=n.video,C=y.src;switch(e){case"MANIFEST_PARSED":!v(d)||!h&&n.pluginQualitySelectorEnabled?h&&delete n.quality:K(k,x,a);break;case"MANIFEST_LOADED":Y(a);break;case"SUBTITLE_TRACKS_UPDATED":W(a,x);break;case"MEDIA_ATTACHED":b.loadSource(C);break;case"FRAG_LOADED":"subtitle"===a.frag.type&&x.subtitles&&!A&&H(a,d),x.bufferWhilePaused&&!n.live&&b.autoLevelEnabled&&b.nextLoadLevel>j&&(j=b.nextLoadLevel);break;case"SUBTITLE_TRACK_SWITCH":A&&[].forEach.call(f.textTracks,function(t){t.mode=b.subtitleTracks[a.id].lang===t.language&&"subtitles"===t.kind?"showing":"hidden"});break;case"FRAG_PARSING_METADATA":if(h)return;a.samples.forEach(function(t){var e;e=function(){if(!(f.currentTime<t.dts)){D.off(f,"timeupdate."+o,e);var i=w(t.unit||t.data);n.trigger("metadata",[n,{key:i.substr(10,4),data:i}])}},D.on(f,"timeupdate."+o,e)});break;case"LEVEL_UPDATED":n.live&&(s(y,{seekOffset:a.details.fragments[0].start+b.config.nudgeOffset,duration:b.liveSyncPosition}),n.dvr&&n.playing&&n.trigger("dvrwindow",[n,{start:y.seekOffset,end:b.liveSyncPosition}]));break;case"LEVEL_SWITCHED":x.audioABR&&n.one("buffer."+o,function(t,e,n){n>e.video.time&&F(a.level)});break;case"BUFFER_APPENDED":r.removeClass(l,L);break;case"ERROR":if(a.fatal||x.strict){switch(a.type){case m.NETWORK_ERROR:x.recoverNetworkError||_?P(d,a.type,!0):a.frag&&a.frag.url?(p.url=a.frag.url,u=2):u=4;break;case m.MEDIA_ERROR:x.recoverMediaError||_?P(d,a.type):u=3;break;default:u=5}void 0!==u&&(p=M(u,C,a.url),n.trigger("error",[n,p]))}else a.details!==g.FRAG_LOOP_LOADING_ERROR&&a.details!==g.BUFFER_STALLED_ERROR||r.addClass(l,L)}c&&n.trigger(i,[n,a])})}),x.adaptOnStartOnly&&D.one(f,"timeupdate."+o,function(){b.loadLevel=b.loadLevel}),b.attachMedia(f),u&&g&&f.paused){var T=f.play();void 0!==T&&T["catch"](function(){n.unload(),h||n.message("Please click the play button",3e3)})}},resume:function(){f.play()},pause:function(){f.pause()},seek:function(t){f.currentTime=t},volume:function(t){f&&(f.volume=t)},speed:function(t){f.playbackRate=t,n.trigger("speed",[n,t])},unload:function(){if(b){var t="."+o;n.disableSubtitles(),b.destroy(),b=0,Z(),B(),n.off(t),D.off(l,t),D.off(f,t),r.removeNode(f),f=0}}};return!/^6\.0\.[0-3]$/.test(d)||n.conf.splash||n.conf.poster||n.conf.autoplay||(x=r.css(l,"backgroundColor"),("none"!==r.css(l,"backgroundImage")||x&&"rgba(0, 0, 0, 0)"!==x&&"transparent"!==x)&&(n.conf.poster=!0)),Q};t.isSupported()&&0!==d.indexOf("5.")&&(C.engineName=o,C.canPlay=function(t,e){return!1!==e[o]&&!1!==e.clip[o]&&(i=s({bufferWhilePaused:!0,smoothSwitching:!0,recoverMediaError:!0},e[o],e.clip[o]),g(t)&&(!c||i.safari))},e(function(t,e){var n=t.conf;h?t.pluginQualitySelectorEnabled=v(n)&&C.canPlay("application/x-mpegurl",n):!a.mutedAutoplay||n.splash||n.autoplay||"7.1.0"!==d&&"7.0.0"!==d||(t.splash=!0,n.splash="string"!=typeof n.poster||n.poster,n.poster=void 0,n.autoplay=!0,y(e))}),e.engines.unshift(C))};"object"==typeof t&&t.exports?t.exports=e.bind(void 0,n(2)):window.Hls&&window.flowplayer&&e(window.Hls,window.flowplayer)}()},function(t){var e;e=function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="../dist/",e(e.s=7)}([function(t,e,n){"use strict";function i(){}function o(t,e){return"["+t+"] > "+e}function r(t){var e=self.console[t];return e?function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];i[0]&&(i[0]=o(t,i[0])),e.apply(self.console,i)}:i}function s(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach(function(e){c[e]=t[e]?t[e].bind(t):r(e)})}n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l={trace:i,debug:i,log:i,warn:i,info:i,error:i},c=l,u=function(t){if(!0===t||"object"===(void 0===t?"undefined":a(t))){s(t,"debug","log","info","warn","error");try{c.log()}catch(t){c=l}}else c=l},d=l},function(t,e){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",
MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var i={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},o={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(){n(this,t)}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,n){for(var i=n,o=0;t.isHeader(e,n);){o+=10,o+=t._readSize(e,n+6),t.isFooter(e,n+10)&&(o+=10),n+=o}if(o>0)return e.subarray(i,i+o)},t._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,(n|=(127&t[e+2])<<7)|127&t[e+3]},t.getTimeStamp=function(e){for(var n=t.getID3Frames(e),i=0;i<n.length;i++){var o=n[i];if(t.isTimeStampFrame(o))return t._readTimeStamp(o)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var n=String.fromCharCode(e[0],e[1],e[2],e[3]),i=t._readSize(e,4),o=10;return{type:n,size:i,data:e.subarray(o,o+i)}},t.getID3Frames=function(e){for(var n=0,i=[];t.isHeader(e,n);){for(var o=t._readSize(e,n+6),r=(n+=10)+o;n+8<r;){var s=t._getFrameData(e.subarray(n)),a=t._decodeFrame(s);a&&i.push(a),n+=s.size+10}t.isFooter(e,n)&&(n+=10)}return i},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,n&&(i+=47721858.84),Math.round(i)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var n=t._utf8ArrayToStr(e.data),i=new Uint8Array(e.data.subarray(n.length+1));return{key:e.type,info:n,data:i.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var n=1,i=t._utf8ArrayToStr(e.data.subarray(n));n+=i.length+1;var o=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:o}}var r=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:r}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var n=1,i=t._utf8ArrayToStr(e.data.subarray(n));n+=i.length+1;var o=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:o}}var r=t._utf8ArrayToStr(e.data);return{key:e.type,data:r}},t._utf8ArrayToStr=function(t){for(var e=void 0,n=void 0,i="",o=0,r=t.length;o<r;){var s=t[o++];switch(s>>4){case 0:return i;case 1:case 2:case 3:case 4:case 5:case 6:case 7:i+=String.fromCharCode(s);break;case 12:case 13:e=t[o++],i+=String.fromCharCode((31&s)<<6|63&e);break;case 14:e=t[o++],n=t[o++],i+=String.fromCharCode((15&s)<<12|(63&e)<<6|(63&n)<<0)}}return i},t}();e.a=i},function(t){function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}t.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},e.prototype.emit=function(t){var e,i,s,a,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(r(i=this._events[t]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(o(i))for(a=Array.prototype.slice.call(arguments,1),s=(c=i.slice()).length,l=0;l<s;l++)c[l].apply(this,a);return!0},e.prototype.addListener=function(t,i){var s;if(!n(i))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(i.listener)?i.listener:i),this._events[t]?o(this._events[t])?this._events[t].push(i):this._events[t]=[this._events[t],i]:this._events[t]=i,o(this._events[t])&&!this._events[t].warned&&((s=r(this._maxListeners)?e.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,e){function i(){this.removeListener(t,i),o||(o=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var o=!1;return i.listener=e,this.on(t,i),this},e.prototype.removeListener=function(t,e){var i,r,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(i=this._events[t]).length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(i)){for(a=s;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){r=a;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},e.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},e.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},e.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},e.listenerCount=function(t,e){return t.listenerCount(e)}},function(t){var e,n,i,o,r;e=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/;?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,r={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var o=this.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");return o.path=r.normalizePath(o.path),r.buildURLFromParts(o)}var s=this.parseURL(e);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return i.alwaysNormalize?(s.path=r.normalizePath(s.path),r.buildURLFromParts(s)):e;var a=this.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=n.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var c={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(c.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var u=a.path,d=u.substring(0,u.lastIndexOf("/")+1)+s.path;c.path=r.normalizePath(d)}else c.path=a.path,s.params||(c.params=a.params,s.query||(c.query=a.query));return null===c.path&&(c.path=i.alwaysNormalize?r.normalizePath(s.path):s.path),r.buildURLFromParts(c)},parseURL:function(t){var n=e.exec(t);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=r},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e,n,i){var o,r,s,a,l,c=navigator.userAgent.toLowerCase(),u=i,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return o=1+((192&e[n+2])>>>6),(r=(60&e[n+2])>>>2)>d.length-1?void t.trigger(Event.ERROR,{type:I.b.MEDIA_ERROR,details:I.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+r}):(a=(1&e[n+2])<<2,a|=(192&e[n+3])>>>6,P.b.log("manifest codec:"+i+",ADTS data:type:"+o+",sampleingIndex:"+r+"["+d[r]+"Hz],channelConfig:"+a),/firefox/i.test(c)?r>=6?(o=5,l=new Array(4),s=r-3):(o=2,l=new Array(2),s=r):-1!==c.indexOf("android")?(o=2,l=new Array(2),s=r):(o=5,l=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&r>=6?s=r-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(r>=6&&1===a||/vivaldi/i.test(c))||!i&&1===a)&&(o=2,l=new Array(2)),s=r)),l[0]=o<<3,l[0]|=(14&r)>>1,l[1]|=(1&r)<<7,l[1]|=a<<3,5===o&&(l[1]|=(14&s)>>1,l[2]=(1&s)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:d[r],channelCount:a,codec:"mp4a.40."+o,manifestCodec:u})}function l(t,e){return 255===t[e]&&240==(246&t[e+1])}function c(t,e){return 1&t[e+1]?7:9}function u(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function d(t,e){return!!(e+1<t.length&&l(t,e))}function h(t,e){if(e+1<t.length&&l(t,e)){var n=c(t,e);e+5<t.length&&(n=u(t,e));var i=e+n;if(i===t.length||i+1<t.length&&l(t,i))return!0}return!1}function f(t,e,n,i,o){if(!t.samplerate){var r=a(e,n,i,o);t.config=r.config,t.samplerate=r.samplerate,t.channelCount=r.channelCount,t.codec=r.codec,t.manifestCodec=r.manifestCodec,P.b.log("parsed codec:"+t.codec+",rate:"+r.samplerate+",nb channel:"+r.channelCount)}}function p(t){return 9216e4/t}function m(t,e,n,i,o){var r,s,a=t.length;if(r=c(t,e),s=u(t,e),(s-=r)>0&&e+r+s<=a)return{headerLength:r,frameLength:s,stamp:n+i*o}}function g(t,e,n,i,o){var r=m(e,n,i,o,p(t.samplerate));if(r){var s=r.stamp,a=r.headerLength,l=r.frameLength,c={unit:e.subarray(n+a,n+a+l),pts:s,dts:s};return t.samples.push(c),t.len+=l,{sample:c,length:l+a}}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var A=n(1),I=n(2),D=function(){function t(e,n){i(this,t),this.subtle=e,this.aesIV=n}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),L=function(){function t(e,n){o(this,t),this.subtle=e,this.key=n}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),R=function(){function t(){r(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),i=0;i<4;i++)n[i]=e.getUint32(4*i);return n},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,i=n[0],o=n[1],r=n[2],s=n[3],a=this.invSubMix,l=a[0],c=a[1],u=a[2],d=a[3],h=new Uint32Array(256),f=0,p=0,m=0;for(m=0;m<256;m++)h[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,t[f]=g,e[g]=f;var v=h[f],y=h[v],b=h[y],_=257*h[g]^16843008*g;i[f]=_<<24|_>>>8,o[f]=_<<16|_>>>16,r[f]=_<<8|_>>>24,s[f]=_,_=16843009*b^65537*y^257*v^16843008*f,l[g]=_<<24|_>>>8,c[g]=_<<16|_>>>16,u[g]=_<<8|_>>>24,d[g]=_,f?(f=v^h[h[h[b^v]]],p^=h[h[p]]):f=p=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,i=0;i<e.length&&n;)n=e[i]===this.key[i],i++;if(!n){this.key=e;var o=this.keySize=e.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);var r=this.ksRows=4*(o+6+1),s=void 0,a=void 0,l=this.keySchedule=new Uint32Array(r),c=this.invKeySchedule=new Uint32Array(r),u=this.sBox,d=this.rcon,h=this.invSubMix,f=h[0],p=h[1],m=h[2],g=h[3],v=void 0,y=void 0;for(s=0;s<r;s++)s<o?v=l[s]=e[s]:(y=v,s%o==0?(y=u[(y=y<<8|y>>>24)>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y],y^=d[s/o|0]<<24):o>6&&s%o==4&&(y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y]),l[s]=v=(l[s-o]^y)>>>0);for(a=0;a<r;a++)s=r-a,y=3&a?l[s]:l[s-4],c[a]=a<4||s<=4?y:f[u[y>>>24]]^p[u[y>>>16&255]]^m[u[y>>>8&255]]^g[u[255&y]],c[a]=c[a]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,n){for(var i,o,r=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,l=this.invSubMix,c=l[0],u=l[1],d=l[2],h=l[3],f=this.uint8ArrayToUint32Array_(n),p=f[0],m=f[1],g=f[2],v=f[3],y=new Int32Array(t),b=new Int32Array(y.length),_=void 0,w=void 0,k=void 0,C=void 0,S=void 0,x=void 0,E=void 0,T=void 0,A=void 0,I=void 0,D=void 0,L=void 0,R=this.networkToHostOrderSwap;e<y.length;){for(A=R(y[e]),I=R(y[e+1]),D=R(y[e+2]),L=R(y[e+3]),S=A^s[0],x=L^s[1],E=D^s[2],T=I^s[3],i=4,o=1;o<r;o++)_=c[S>>>24]^u[x>>16&255]^d[E>>8&255]^h[255&T]^s[i],w=c[x>>>24]^u[E>>16&255]^d[T>>8&255]^h[255&S]^s[i+1],k=c[E>>>24]^u[T>>16&255]^d[S>>8&255]^h[255&x]^s[i+2],C=c[T>>>24]^u[S>>16&255]^d[x>>8&255]^h[255&E]^s[i+3],S=_,x=w,E=k,T=C,i+=4;_=a[S>>>24]<<24^a[x>>16&255]<<16^a[E>>8&255]<<8^a[255&T]^s[i],w=a[x>>>24]<<24^a[E>>16&255]<<16^a[T>>8&255]<<8^a[255&S]^s[i+1],k=a[E>>>24]<<24^a[T>>16&255]<<16^a[S>>8&255]<<8^a[255&x]^s[i+2],C=a[T>>>24]<<24^a[S>>16&255]<<16^a[x>>8&255]<<8^a[255&E]^s[i+3],i+=3,b[e]=R(_^p),b[e+1]=R(C^m),b[e+2]=R(k^g),b[e+3]=R(w^v),p=A,m=I,g=D,v=L,e+=4}return b.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),P=n(0),M=function(){function t(e,n){s(this,t),this.observer=e,this.config=n,this.logEnabled=!0;try{var i=crypto||self.crypto;this.subtle=i.subtle||i.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,n,i){var o=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(P.b.log("JS AES decrypt"),this.logEnabled=!1);var r=this.decryptor;r||(this.decryptor=r=new R),r.expandKey(e),i(r.decrypt(t,0,n))}else{this.logEnabled&&(P.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var s=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new L(s,e)),this.fastAesKey.expandKey().then(function(r){new D(s,n).decrypt(t,r)["catch"](function(r){o.onWebCryptoError(r,t,e,n,i)}).then(function(t){i(t)})})["catch"](function(r){o.onWebCryptoError(r,t,e,n,i)})}},t.prototype.onWebCryptoError=function(t,e,n,i,o){this.config.enableSoftwareAES?(P.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,i,o)):(P.b.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:I.b.MEDIA_ERROR,details:I.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}(),N=n(3),O=function(){function t(e,n,i){v(this,t),this.observer=e,this.config=i,this.remuxer=n}return t.prototype.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e,n,i=N.a.getID3Data(t,0);if(i&&void 0!==N.a.getTimeStamp(i))for(e=i.length,n=Math.min(t.length-1,e+100);e<n;e++)if(h(t,e))return P.b.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,e,n,i){for(var o=this._audioTrack,r=N.a.getID3Data(t,0),s=90*N.a.getTimeStamp(r),a=0,l=s,c=t.length,u=r.length,h=[{pts:l,dts:l,data:r}];u<c-1;)if(d(t,u)&&u+5<c){f(o,this.observer,t,u,o.manifestCodec);var p=g(o,t,u,s,a);if(!p){P.b.log("Unable to parse AAC frame");break}u+=p.length,l=p.sample.pts,a++}else N.a.isHeader(t,u)?(r=N.a.getID3Data(t,u),h.push({pts:l,dts:l,data:r}),u+=r.length):u++;this.remuxer.remux(o,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},e,n,i)},t.prototype.destroy=function(){},t}(),j=Math.pow(2,32)-1,F=function(){function t(e,n){y(this,t),this.observer=e,this.remuxer=n}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,n,i,o){if(e&&e.byteLength){var r=this.initData=t.parseInitSegment(e),s={};r.audio&&r.video?s.audiovideo={container:"video/mp4",codec:n+","+i,initSegment:o?e:null}:(r.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:o?e:null}),r.video&&(s.video={container:"video/mp4",codec:i,initSegment:o?e:null})),this.observer.trigger(A.a.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),i&&(this.videoCodec=i)},t.probe=function(e){if(e.length>=8){var n=t.bin2str(e.subarray(4,8));return["moof","ftyp","styp"].indexOf(n)>=0}return!1},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},t.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},t.findBox=function(e,n){var i,o,r,s,a,l,c,u=[];if(e.data?(l=e.start,s=e.end,e=e.data):(l=0,s=e.byteLength),!n.length)return null;for(i=l;i<s;)o=t.readUint32(e,i),r=t.bin2str(e.subarray(i+4,i+8)),c=o>1?i+o:s,r===n[0]&&(1===n.length?u.push({data:e,start:i+8,end:c}):(a=t.findBox({data:e,start:i+8,end:c},n.slice(1))).length&&(u=u.concat(a))),i=c;return u},t.parseInitSegment=function(e){var n=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var i=t.findBox(e,["tkhd"])[0];if(i){var o=i.data[i.start],r=0===o?12:20,s=t.readUint32(i,r),a=t.findBox(e,["mdia","mdhd"])[0];if(a){r=0===(o=a.data[a.start])?12:20;var l=t.readUint32(a,r),c=t.findBox(e,["mdia","hdlr"])[0];if(c){var u={soun:"audio",vide:"video"}[t.bin2str(c.data.subarray(c.start+8,c.start+12))];u&&(n[s]={timescale:l,type:u},n[u]={timescale:l,id:s})}}}}),n},t.getStartDTS=function(e,n){var i,o,r;return i=t.findBox(n,["moof","traf"]),o=[].concat.apply([],i.map(function(n){return t.findBox(n,["tfhd"]).map(function(i){var o,r;return o=t.readUint32(i,4),r=e[o].timescale||9e4,t.findBox(n,["tfdt"]).map(function(e){var n,i;return n=e.data[e.start],i=t.readUint32(e,4),1===n&&(i*=Math.pow(2,32),i+=t.readUint32(e,8)),i})[0]/r})})),r=Math.min.apply(null,o),isFinite(r)?r:0},t.offsetStartDTS=function(e,n,i){t.findBox(n,["moof","traf"]).map(function(n){return t.findBox(n,["tfhd"]).map(function(o){var r=t.readUint32(o,4),s=e[r].timescale||9e4;t.findBox(n,["tfdt"]).map(function(e){var n=e.data[e.start],o=t.readUint32(e,4);if(0===n)t.writeUint32(e,4,o-i*s);else{o*=Math.pow(2,32),o+=t.readUint32(e,8),o-=i*s;var r=Math.floor(o/(j+1)),a=Math.floor(o%(j+1));t.writeUint32(e,4,r),t.writeUint32(e,8,a)}})})})},t.prototype.append=function(e,n,i,o){var r=this.initData;r||(this.resetInitSegment(e,this.audioCodec,this.videoCodec),r=this.initData);var s=void 0,a=this.initPTS;if(void 0===a){var l=t.getStartDTS(r,e);this.initPTS=a=l-n,this.observer.trigger(A.a.INIT_PTS_FOUND,{initPTS:a})}t.offsetStartDTS(r,e,a),s=t.getStartDTS(r,e),this.remuxer.remux(r.audio,r.video,null,null,s,i,o,e)},t.prototype.destroy=function(){},t}(),$={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],appendFrame:function(t,e,n,i,o){if(!(n+24>e.length)){var r=this.parseHeader(e,n);if(r&&n+r.frameLength<=e.length){var s=i+o*(10368e4/r.sampleRate),a={unit:e.subarray(n,n+r.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=r.channelCount,t.samplerate=r.sampleRate,t.samples.push(a),t.len+=r.frameLength,{sample:a,length:r.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,i=t[e+1]>>1&3,o=t[e+2]>>4&15,r=t[e+2]>>2&3,s=!!(2&t[e+2]);if(1!==n&&0!==o&&15!==o&&3!==r){var a=3===n?3-i:3===i?3:4,l=1e3*$.BitratesMap[14*a+o-1],c=3===n?0:2===n?1:2,u=$.SamplingRateMap[3*c+r],d=s?1:0;return{sampleRate:u,channelCount:t[e+3]>>6==3?1:2,frameLength:3===i?(3===n?12:6)*l/u+d<<2:(3===n?144:72)*l/u+d|0}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=4,i=this.parseHeader(t,e),o=n;i&&i.frameLength&&(o=i.frameLength);var r=e+o;if(r===t.length||r+1<t.length&&this.isHeaderPattern(t,r))return!0}return!1}},B=$,U=function(){function t(e){b(this,t),this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,i=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");i.set(t.subarray(n,n+o)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o},t.prototype.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&P.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n},t.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e,n=8,i=8;for(e=0;e<t;e++)0!==i&&(i=(n+this.readEG()+256)%256),n=0===i?n:i},t.prototype.readSPS=function(){var t,e,n,i,o,r,s,a=0,l=0,c=0,u=0,d=this.readUByte.bind(this),h=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),m=this.skipBits.bind(this),g=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),t=d(),h(5),m(3),d(),v(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=f();if(3===b&&m(1),v(),v(),m(1),p())for(r=3!==b?8:12,s=0;s<r;s++)p()&&y(s<6?16:64)}v();var _=f();if(0===_)f();else if(1===_)for(m(1),g(),g(),e=f(),s=0;s<e;s++)g();v(),m(1),n=f(),i=f(),0===(o=h(1))&&m(1),m(1),p()&&(a=f(),l=f(),c=f(),u=f());var w=[1,1];if(p()&&p())switch(d()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(n+1)-2*a-2*l),height:(2-o)*(i+1)*16-(o?2:4)*(c+u),pixelRatio:w}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),H=function(){function t(e,n,i,o){_(this,t),this.decryptdata=i,this.discardEPB=o,this.decrypter=new M(e,n)}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,n,i){var o=t[e].unit,r=o.subarray(16,o.length-o.length%16),s=r.buffer.slice(r.byteOffset,r.byteOffset+r.length),a=this;this.decryptBuffer(s,function(r){r=new Uint8Array(r),o.set(r,16),i||a.decryptAacSamples(t,e+1,n)})},t.prototype.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,i),!i)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),i=0,o=32;o<=t.length-16;o+=160,i+=16)n.set(t.subarray(o,o+16),i);return n},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,i=32;i<=t.length-16;i+=160,n+=16)t.set(e.subarray(n,n+16),i);return t},t.prototype.decryptAvcSample=function(t,e,n,i,o,r){var s=this.discardEPB(o.data),a=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(a.buffer,function(a){o.data=l.getAvcDecryptedUnit(s,a),r||l.decryptAvcSamples(t,e,n+1,i)})},t.prototype.decryptAvcSamples=function(t,e,n,i){for(;;e++,n=0){if(e>=t.length)return void i();for(var o=t[e].units;!(n>=o.length);n++){var r=o[n];if(!(r.length<=48||1!==r.type&&5!==r.type)){var s=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,i,r,s),!s)return}}}},t}(),z=function(){function t(e,n,i,o){w(this,t),this.observer=e,this.config=i,this.typeSupported=o,this.remuxer=n,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new H(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(t){return t.length>=564&&71===t[0]&&71===t[188]&&71===t[376]},t.prototype.resetInitSegment=function(t,e,n,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,inputTimeScale:9e4,duration:i,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=e,this.videoCodec=n,this._duration=i},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(t,e,n,i){var o,r,s,a,l,c=t.length,u=!1;this.contiguous=n;var d=this.pmtParsed,h=this._avcTrack,f=this._audioTrack,p=this._id3Track,m=h.id,g=f.id,v=p.id,y=this._pmtId,b=h.pesData,_=f.pesData,w=p.pesData,k=this._parsePAT,C=this._parsePMT,S=this._parsePES,x=this._parseAVCPES.bind(this),E=this._parseAACPES.bind(this),T=this._parseMPEGPES.bind(this),D=this._parseID3PES.bind(this);for(c-=c%188,o=0;o<c;o+=188)if(71===t[o]){if(r=!!(64&t[o+1]),s=((31&t[o+1])<<8)+t[o+2],(48&t[o+3])>>4>1){if((a=o+5+t[o+4])===o+188)continue}else a=o+4;switch(s){case m:r&&(b&&(l=S(b))&&x(l,!1),b={data:[],size:0}),b&&(b.data.push(t.subarray(a,o+188)),b.size+=o+188-a);break;case g:r&&(_&&(l=S(_))&&(f.isAAC?E(l):T(l)),_={data:[],size:0}),_&&(_.data.push(t.subarray(a,o+188)),_.size+=o+188-a);break;case v:r&&(w&&(l=S(w))&&D(l),w={data:[],size:0}),w&&(w.data.push(t.subarray(a,o+188)),w.size+=o+188-a);break;case 0:r&&(a+=t[a]+1),y=this._pmtId=k(t,a);break;case y:r&&(a+=t[a]+1);var L=C(t,a,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(m=L.avc)>0&&(h.id=m),(g=L.audio)>0&&(f.id=g,f.isAAC=L.isAAC),(v=L.id3)>0&&(p.id=v),u&&!d&&(P.b.log("reparse from beginning"),u=!1,o=-188),d=this.pmtParsed=!0;break;case 17:case 8191:break;default:u=!0}}else this.observer.trigger(A.a.ERROR,{type:I.b.MEDIA_ERROR,details:I.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});b&&(l=S(b))?(x(l,!0),h.pesData=null):h.pesData=b,_&&(l=S(_))?(f.isAAC?E(l):T(l),f.pesData=null):(_&&_.size&&P.b.log("last AAC PES packet truncated,might overlap between fragments"),f.pesData=_),w&&(l=S(w))?(D(l),p.pesData=null):p.pesData=w,null==this.sampleAes?this.remuxer.remux(f,h,p,this._txtTrack,e,n,i):this.decryptAndRemux(f,h,p,this._txtTrack,e,n,i)},t.prototype.decryptAndRemux=function(t,e,n,i,o,r,s){if(t.samples&&t.isAAC){var a=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){
a.decryptAndRemuxAvc(t,e,n,i,o,r,s)})}else this.decryptAndRemuxAvc(t,e,n,i,o,r,s)},t.prototype.decryptAndRemuxAvc=function(t,e,n,i,o,r,s){if(e.samples){var a=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){a.remuxer.remux(t,e,n,i,o,r,s)})}else this.remuxer.remux(t,e,n,i,o,r,s)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,n,i){var o,r,s={audio:-1,avc:-1,id3:-1,isAAC:!0};for(o=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<o;){switch(r=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!i){P.b.log("unkown stream type:"+t[e]);break}case 15:-1===s.audio&&(s.audio=r);break;case 21:-1===s.id3&&(s.id3=r);break;case 219:if(!i){P.b.log("unkown stream type:"+t[e]);break}case 27:-1===s.avc&&(s.avc=r);break;case 3:case 4:n?-1===s.audio&&(s.audio=r,s.isAAC=!1):P.b.log("MPEG audio found, not supported in this browser for now");break;case 36:P.b.warn("HEVC stream type found, not supported for now");break;default:P.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return s},t.prototype._parsePES=function(t){var e,n,i,o,r,s,a,l,c=0,u=t.data;if(!t||0===t.size)return null;for(;u[0].length<19&&u.length>1;){var d=new Uint8Array(u[0].length+u[1].length);d.set(u[0]),d.set(u[1],u[0].length),u[0]=d,u.splice(1,1)}if(1===((e=u[0])[0]<<16)+(e[1]<<8)+e[2]){if((i=(e[4]<<8)+e[5])&&i>t.size-6)return null;192&(n=e[7])&&((s=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2)>4294967295&&(s-=8589934592),64&n?((a=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>4294967295&&(a-=8589934592),s-a>54e5&&(P.b.warn(Math.round((s-a)/9e4)+"s delta between PTS and DTS, align them"),s=a)):a=s),l=(o=e[8])+9,t.size-=l,r=new Uint8Array(t.size);for(var h=0,f=u.length;h<f;h++){var p=(e=u[h]).byteLength;if(l){if(l>p){l-=p;continue}e=e.subarray(l),p-=l,l=0}r.set(e,c),c+=p}return i&&(i-=o+3),{data:r,pts:s,dts:a,len:i}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,i=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(i||this.contiguous)?(t.id=i,n.push(t)):e.dropped++}t.debug.length&&P.b.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var n,i,o,r=this,s=this._avcTrack,a=this._parseAVCNALu(t.data),l=!1,c=this.avcSample,u=!1,d=this.pushAccesUnit.bind(this),h=function(t,e,n,i){return{key:t,pts:e,dts:n,units:[],debug:i}};t.data=null,c&&a.length&&(d(c,s),c=this.avcSample=h(!1,t.pts,t.dts,"")),a.forEach(function(e){switch(e.type){case 1:i=!0,l&&c&&(c.debug+="NDR "),c.frame=!0;var a=e.data;if(u&&a.length>4){var f=new U(a).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(c.key=!0)}break;case 5:i=!0,c||(c=r.avcSample=h(!0,t.pts,t.dts,"")),l&&(c.debug+="IDR "),c.key=!0,c.frame=!0;break;case 6:i=!0,l&&c&&(c.debug+="SEI "),(n=new U(r.discardEPB(e.data))).readUByte();for(var p=0,m=0,g=!1,v=0;!g&&n.bytesAvailable>1;){p=0;do{p+=v=n.readUByte()}while(255===v);m=0;do{m+=v=n.readUByte()}while(255===v);if(4===p&&0!==n.bytesAvailable){if(g=!0,181===n.readUByte())if(49===n.readUShort())if(1195456820===n.readUInt())if(3===n.readUByte()){var y=n.readUByte(),b=31&y,_=[y,n.readUByte()];for(o=0;o<b;o++)_.push(n.readUByte()),_.push(n.readUByte()),_.push(n.readUByte());r._insertSampleInOrder(r._txtTrack.samples,{type:3,pts:t.pts,bytes:_})}}else if(m<n.bytesAvailable)for(o=0;o<m;o++)n.readUByte()}break;case 7:if(i=!0,u=!0,l&&c&&(c.debug+="SPS "),!s.sps){var w=(n=new U(e.data)).readSPS();s.width=w.width,s.height=w.height,s.pixelRatio=w.pixelRatio,s.sps=[e.data],s.duration=r._duration;var k=e.data.subarray(1,4),C="avc1.";for(o=0;o<3;o++){var S=k[o].toString(16);S.length<2&&(S="0"+S),C+=S}s.codec=C}break;case 8:i=!0,l&&c&&(c.debug+="PPS "),s.pps||(s.pps=[e.data]);break;case 9:i=!1,c&&d(c,s),c=r.avcSample=h(!1,t.pts,t.dts,l?"AUD ":"");break;case 12:i=!1;break;default:i=!1,c&&(c.debug+="unknown NAL "+e.type+" ")}c&&i&&c.units.push(e)}),e&&c&&(d(c,s),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var i=n-1;i>=0;i--)if(e.pts<t[i].pts){t.splice(i,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t=this.avcSample,e=void 0;if(!t||0===t.units.length){var n=this._avcTrack.samples;t=n[n.length-1]}if(t){var i=t.units;e=i[i.length-1]}return e},t.prototype._parseAVCNALu=function(t){var e,n,i,o,r=0,s=t.byteLength,a=this._avcTrack,l=a.naluState||0,c=l,u=[],d=-1;for(-1===l&&(d=0,o=31&t[0],l=0,r=1);r<s;)if(e=t[r++],l)if(1!==l)if(e)if(1===e){if(d>=0)i={data:t.subarray(d,r-l-1),type:o},u.push(i);else{var h=this._getLastNalUnit();if(h&&(c&&r<=4-c&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-c)),(n=r-l-1)>0)){var f=new Uint8Array(h.data.byteLength+n);f.set(h.data,0),f.set(t.subarray(0,n),h.data.byteLength),h.data=f}}r<s?(d=r,o=31&t[r],l=0):l=-1}else l=0;else l=3;else l=e?0:2;else l=e?0:1;if(d>=0&&l>=0&&(i={data:t.subarray(d,s),type:o,state:l},u.push(i)),0===u.length){var p=this._getLastNalUnit();if(p){var m=new Uint8Array(p.data.byteLength+t.byteLength);m.set(p.data,0),m.set(t,p.data.byteLength),p.data=m}}return a.naluState=l,u},t.prototype.discardEPB=function(t){for(var e,n,i=t.byteLength,o=[],r=1;r<i-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(o.push(r+2),r+=2):r++;if(0===o.length)return t;e=i-o.length,n=new Uint8Array(e);var s=0;for(r=0;r<e;s++,r++)s===o[0]&&(s++,o.shift()),n[r]=t[s];return n},t.prototype._parseAACPES=function(t){var e,n,i,o,r,s,a,l=this._audioTrack,c=t.data,u=t.pts,h=0,m=this.aacOverFlow,v=this.aacLastPTS;if(m){var y=new Uint8Array(m.byteLength+c.byteLength);y.set(m,0),y.set(c,m.byteLength),c=y}for(i=h,r=c.length;i<r-1&&!d(c,i);i++);if(i&&(i<r-1?(s="AAC PES did not start with ADTS header,offset:"+i,a=!1):(s="no ADTS header found in AAC PES",a=!0),P.b.warn("parsing error:"+s),this.observer.trigger(A.a.ERROR,{type:I.b.MEDIA_ERROR,details:I.a.FRAG_PARSING_ERROR,fatal:a,reason:s}),a))return;if(f(l,this.observer,c,i,this.audioCodec),n=0,e=p(l.samplerate),m&&v){var b=v+e;Math.abs(b-u)>1&&(P.b.log("AAC: align PTS for overlapping frames by "+Math.round((b-u)/90)),u=b)}for(;i<r;)if(d(c,i)&&i+5<r){var _=g(l,c,i,u,n);if(!_)break;i+=_.length,o=_.sample.pts,n++}else i++;m=i<r?c.subarray(i,r):null,this.aacOverFlow=m,this.aacLastPTS=o},t.prototype._parseMPEGPES=function(t){for(var e=t.data,n=e.length,i=0,o=0,r=t.pts;o<n;)if(B.isHeader(e,o)){var s=B.appendFrame(this._audioTrack,e,o,r,i);if(!s)break;o+=s.length,i++}else o++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}(),W=function(){function t(e,n,i){k(this,t),this.observer=e,this.config=i,this.remuxer=n}return t.prototype.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e,n,i=N.a.getID3Data(t,0);if(i&&void 0!==N.a.getTimeStamp(i))for(e=i.length,n=Math.min(t.length-1,e+100);e<n;e++)if(B.probe(t,e))return P.b.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,n,i){for(var o=N.a.getID3Data(t,0),r=90*N.a.getTimeStamp(o),s=o.length,a=t.length,l=0,c=0,u=this._audioTrack,d=[{pts:r,dts:r,data:o}];s<a;)if(B.isHeader(t,s)){var h=B.appendFrame(u,t,s,r,l);if(!h)break;s+=h.length,c=h.sample.pts,l++}else N.a.isHeader(t,s)?(o=N.a.getID3Data(t,s),d.push({pts:c,dts:c,data:o}),s+=o.length):s++;this.remuxer.remux(u,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},e,n,i)},t.prototype.destroy=function(){},t}(),Y=function(){function t(){C(this,t)}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}(),G=Math.pow(2,32)-1,q=function(){function t(){S(this,t)}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:i};var o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=r,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,s,l,s,a),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,o))},t.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),i=8,o=n.length,r=o;o--;)i+=n[o].byteLength;for((e=new Uint8Array(i))[0]=i>>24&255,e[1]=i>>16&255,e[2]=i>>8&255,e[3]=255&i,e.set(t,4),o=0,i=8;o<r;o++)e.set(n[o],i),i+=n[o].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,n){n*=e;var i=Math.floor(n/(G+1)),o=Math.floor(n%(G+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,n,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,n))},t.moov=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,n){n*=e;var i=Math.floor(n/(G+1)),o=Math.floor(n%(G+1)),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,r)},t.sdtp=function(e){var n,i,o=e.samples||[],r=new Uint8Array(4+o.length);for(i=0;i<o.length;i++)n=o[i].flags,r[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,r)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var n,i,o,r=[],s=[];for(n=0;n<e.sps.length;n++)o=(i=e.sps[n]).byteLength,r.push(o>>>8&255),r.push(255&o),r=r.concat(Array.prototype.slice.call(i));for(n=0;n<e.pps.length;n++)o=(i=e.pps[n]).byteLength,s.push(o>>>8&255),s.push(255&o),s=s.concat(Array.prototype.slice.call(i));var a=t.box(t.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(s))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var n=e.id,i=e.duration*e.timescale,o=e.width,r=e.height,s=Math.floor(i/(G+1)),a=Math.floor(i%(G+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,r>>8&255,255&r,0,0]))},t.traf=function(e,n){var i=t.sdtp(e),o=e.id,r=Math.floor(n/(G+1)),s=Math.floor(n%(G+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,s>>24,s>>16&255,s>>8&255,255&s])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,n){var i,o,r,s,a,l,c=e.samples||[],u=c.length,d=12+16*u,h=new Uint8Array(d);for(n+=8+d,h.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),i=0;i<u;i++)r=(o=c[i]).duration,s=o.size,a=o.flags,l=o.cts,h.set([r>>>24&255,r>>>16&255,r>>>8&255,255&r,s>>>24&255,s>>>16&255,s>>>8&255,255&s,a.isLeading<<2|a.dependsOn,a.isDependedOn<<6|a.hasRedundancy<<4|a.paddingValue<<1|a.isNonSync,61440&a.degradPrio,15&a.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return t.box(t.types.trun,h)},t.initSegment=function(e){t.types||t.init();var n,i=t.moov(e);return(n=new Uint8Array(t.FTYP.byteLength+i.byteLength)).set(t.FTYP),n.set(i,t.FTYP.byteLength),n},t}(),V=1e4,Z=function(){function t(e,n,i,o){x(this,t),this.observer=e,this.config=n,this.typeSupported=i;var r=navigator.userAgent;this.isSafari=o&&o.indexOf("Apple")>-1&&r&&!r.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,n,i,o,r,s){if(this.ISGenerated||this.generateIS(t,e,o),this.ISGenerated)if(t.samples.length){t.timescale||(P.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,o));var a=this.remuxAudio(t,o,r,s);if(e.samples.length){var l=void 0;a&&(l=a.endPTS-a.startPTS),e.timescale||(P.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,o)),this.remuxVideo(e,o,r,l,s)}}else{var c=void 0;e.samples.length&&(c=this.remuxVideo(e,o,r,s)),c&&t.codec&&this.remuxEmptyAudio(t,o,r,c)}n.samples.length&&this.remuxID3(n,o),i.samples.length&&this.remuxText(i,o),this.observer.trigger(A.a.FRAG_PARSED)},t.prototype.generateIS=function(t,e,n){var i,o,r=this.observer,s=t.samples,a=e.samples,l=this.typeSupported,c="audio/mp4",u={},d={tracks:u},h=void 0===this._initPTS;if(h&&(i=o=1/0),t.config&&s.length&&(t.timescale=t.samplerate,P.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(l.mpeg?(c="audio/mpeg",t.codec=""):l.mp3&&(t.codec="mp3")),u.audio={container:c,codec:t.codec,initSegment:!t.isAAC&&l.mpeg?new Uint8Array:q.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(i=o=s[0].pts-t.inputTimeScale*n)),e.sps&&e.pps&&a.length){var f=e.inputTimeScale;e.timescale=f,u.video={container:"video/mp4",codec:e.codec,initSegment:q.initSegment([e]),metadata:{width:e.width,height:e.height}},h&&(i=Math.min(i,a[0].pts-f*n),o=Math.min(o,a[0].dts-f*n),this.observer.trigger(A.a.INIT_PTS_FOUND,{initPTS:i}))}Object.keys(u).length?(r.trigger(A.a.FRAG_PARSING_INIT_SEGMENT,d),this.ISGenerated=!0,h&&(this._initPTS=i,this._initDTS=o)):r.trigger(A.a.ERROR,{type:I.b.MEDIA_ERROR,details:I.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,n,i,o){var r,s,a,l,c,u,d,h=8,f=t.timescale,p=t.samples,m=[],g=p.length,v=this._PTSNormalize,y=this._initDTS,b=this.nextAvcDts,_=this.isSafari;_&&(n|=p.length&&b&&(o&&Math.abs(e-b/f)<.1||Math.abs(p[0].pts-b-y)<f/5)),n||(b=e*f),p.forEach(function(t){t.pts=v(t.pts-y,b),t.dts=v(t.dts-y,b)}),p.sort(function(t,e){var n=t.dts-e.dts,i=t.pts-e.pts;return n||(i||t.id-e.id)});var w=p.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0);if(w<0){P.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(w/90)+" ms to overcome this issue");for(var k=0;k<p.length;k++)p[k].dts+=w}var C=p[0];c=Math.max(C.dts,0),l=Math.max(C.pts,0);var S=Math.round((c-b)/90);n&&S&&(S>1?P.b.log("AVC:"+S+" ms hole between fragments detected,filling it"):S<-1&&P.b.log("AVC:"+-S+" ms overlapping between fragments detected"),c=b,p[0].dts=c,l=Math.max(l-S,b),p[0].pts=l,P.b.log("Video/PTS/DTS adjusted: "+Math.round(l/90)+"/"+Math.round(c/90)+",delta:"+S+" ms")),C=p[p.length-1],d=Math.max(C.dts,0),u=Math.max(C.pts,0,d),_&&(r=Math.round((d-c)/(p.length-1)));for(var x=0,E=0,T=0;T<g;T++){for(var D=p[T],L=D.units,R=L.length,M=0,N=0;N<R;N++)M+=L[N].data.length;E+=M,x+=R,D.length=M,D.dts=_?c+T*r:Math.max(D.dts,c),D.pts=Math.max(D.pts,D.dts)}var O=E+4*x+8;try{s=new Uint8Array(O)}catch(t){return void this.observer.trigger(A.a.ERROR,{type:I.b.MUX_ERROR,details:I.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:O,reason:"fail allocating video mdat "+O})}var j=new DataView(s.buffer);j.setUint32(0,O),s.set(q.types.mdat,4);for(var F=0;F<g;F++){for(var $=p[F],B=$.units,U=0,H=void 0,z=0,W=B.length;z<W;z++){var Y=B[z],G=Y.data,V=Y.data.byteLength;j.setUint32(h,V),h+=4,s.set(G,h),h+=V,U+=4+V}if(_)H=Math.max(0,r*Math.round(($.pts-$.dts)/r));else{if(F<g-1)r=p[F+1].dts-$.dts;else{var Z=this.config,X=$.dts-p[F>0?F-1:F].dts;if(Z.stretchShortVideoTrack){var J=Z.maxBufferHole,K=Z.maxSeekHole,Q=Math.floor(Math.min(J,K)*f),tt=(i?l+i*f:this.nextAudioPts)-$.pts;tt>Q?((r=tt-X)<0&&(r=X),P.b.log("It is approximately "+tt/90+" ms to the next segment; using duration "+r/90+" ms for the last video frame.")):r=X}else r=X}H=Math.round($.pts-$.dts)}m.push({size:U,duration:r,cts:H,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:$.key?2:1,isNonSync:$.key?0:1}})}this.nextAvcDts=d+r;var et=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,m.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var nt=m[0].flags;nt.dependsOn=2,nt.isNonSync=0}t.samples=m,a=q.moof(t.sequenceNumber++,c,t),t.samples=[];var it={data1:a,data2:s,startPTS:l/f,endPTS:(u+r)/f,startDTS:c/f,endDTS:this.nextAvcDts/f,type:"video",nb:m.length,dropped:et};return this.observer.trigger(A.a.FRAG_PARSING_DATA,it),it},t.prototype.remuxAudio=function(t,e,n,i){var o,r,s,a,l,c,u,d=t.inputTimeScale,h=d/t.timescale,f=(t.isAAC?1024:1152)*h,p=this._PTSNormalize,m=this._initDTS,g=!t.isAAC&&this.typeSupported.mpeg,v=t.samples,y=[],b=this.nextAudioPts;if((n|=v.length&&b&&(i&&Math.abs(e-b/d)<.1||Math.abs(v[0].pts-b-m)<20*f))||(b=e*d),v.forEach(function(t){t.pts=t.dts=p(t.pts-m,b)}),v.sort(function(t,e){return t.pts-e.pts}),i&&t.isAAC)for(var _=0,w=b;_<v.length;){var k,C=v[_];k=C.pts-w;var S=Math.abs(1e3*k/d);if(k<=-f)P.b.warn("Dropping 1 audio frame @ "+(w/d).toFixed(3)+"s due to "+S+" ms overlap."),v.splice(_,1),t.len-=C.unit.length;else if(k>=f&&S<V&&w){var x=Math.round(k/f);P.b.warn("Injecting "+x+" audio frame @ "+(w/d).toFixed(3)+"s due to "+Math.round(1e3*k/d)+" ms gap.");for(var E=0;E<x;E++){var T=Math.max(w,0);(s=Y.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(P.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),s=C.unit.subarray()),v.splice(_,0,{unit:s,pts:T,dts:T}),t.len+=s.length,w+=f,_++}C.pts=C.dts=w,w+=f,_++}else Math.abs(k),C.pts=C.dts=w,w+=f,_++}for(var D=0,L=v.length;D<L;D++){var R=v[D],M=R.unit,N=R.pts;if(void 0!==u)r.duration=Math.round((N-u)/h);else{var O=Math.round(1e3*(N-b)/d),j=0;if(n&&t.isAAC&&O){if(O>0&&O<V)j=Math.round((N-b)/f),P.b.log(O+" ms hole between AAC samples detected,filling it"),j>0&&((s=Y.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s=M.subarray()),t.len+=j*s.length);else if(O<-12){P.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(b/d).toFixed(3)+"s/"+(N/d).toFixed(3)+"s/"+-O+"ms"),t.len-=M.byteLength;continue}N=b}if(c=Math.max(0,N),!(t.len>0))return;var F=g?t.len:t.len+8;o=g?0:8;try{a=new Uint8Array(F)}catch(t){return void this.observer.trigger(A.a.ERROR,{type:I.b.MUX_ERROR,details:I.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating audio mdat "+F})}if(!g)new DataView(a.buffer).setUint32(0,F),a.set(q.types.mdat,4);for(var $=0;$<j;$++)(s=Y.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(P.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),s=M.subarray()),a.set(s,o),o+=s.byteLength,r={size:s.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},y.push(r)}a.set(M,o);var B=M.byteLength;o+=B,r={size:B,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},y.push(r),u=N}var U=0,H=y.length;if(H>=2&&(U=y[H-2].duration,r.duration=U),H){this.nextAudioPts=b=u+h*U,t.len=0,t.samples=y,l=g?new Uint8Array:q.moof(t.sequenceNumber++,c/h,t),t.samples=[];var z=c/d,W=b/d,G={data1:l,data2:a,startPTS:z,endPTS:W,startDTS:z,endDTS:W,type:"audio",nb:H};return this.observer.trigger(A.a.FRAG_PARSING_DATA,G),G}return null},t.prototype.remuxEmptyAudio=function(t,e,n,i){var o=t.inputTimeScale,r=o/(t.samplerate?t.samplerate:o),s=this.nextAudioPts,a=(void 0!==s?s:i.startDTS*o)+this._initDTS,l=i.endDTS*o+this._initDTS,c=r*1024,u=Math.ceil((l-a)/c),d=Y.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(P.b.warn("remux empty Audio"),d){for(var h=[],f=0;f<u;f++){var p=a+f*c;h.push({unit:d,pts:p,dts:p}),t.len+=d.length}t.samples=h,this.remuxAudio(t,e,n)}else P.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.prototype.remuxID3=function(t,e){var n,i=t.samples.length,o=t.inputTimeScale,r=this._initPTS,s=this._initDTS;if(i){for(var a=0;a<i;a++)(n=t.samples[a]).pts=(n.pts-r)/o,n.dts=(n.dts-s)/o;this.observer.trigger(A.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[],e=e},t.prototype.remuxText=function(t,e){t.samples.sort(function(t,e){return t.pts-e.pts});var n,i=t.samples.length,o=t.inputTimeScale,r=this._initPTS;if(i){for(var s=0;s<i;s++)(n=t.samples[s]).pts=(n.pts-r)/o;this.observer.trigger(A.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[],e=e},t.prototype._PTSNormalize=function(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t},t}(),X=function(){function t(e){E(this,t),this.observer=e}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,n,i,o,r,s,a){var l=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),l.trigger(A.a.FRAG_PARSING_DATA,{data1:a,startPTS:o,startDTS:o,type:c,nb:1,dropped:0}),l.trigger(A.a.FRAG_PARSED)},t}(),J=function(){function t(e,n,i,o){T(this,t),this.observer=e,this.typeSupported=n,this.config=i,this.vendor=o}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,n,i,o,r,s,a,l,c,u,d){if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var h=this.decrypter;null==h&&(h=this.decrypter=new M(this.observer,this.config));var f,p=this;try{f=performance.now()}catch(t){f=Date.now()}h.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var h;try{h=performance.now()}catch(t){h=Date.now()}p.observer.trigger(A.a.FRAG_DECRYPTED,{stats:{tstart:f,tdecrypt:h}}),p.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),i,o,r,s,a,l,c,u,d)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),i,o,r,s,a,l,c,u,d)},t.prototype.pushDecrypted=function(t,e,n,i,o,r,s,a,l,c,u,d){var h=this.demuxer;if(!h||s&&!this.probe(t)){for(var f=this.observer,p=this.typeSupported,m=this.config,g=[{demux:O,remux:Z},{demux:W,remux:Z},{demux:z,remux:Z},{demux:F,remux:X}],v=0,y=g.length;v<y;v++){var b=g[v],_=b.demux.probe;if(_(t)){var w=this.remuxer=new b.remux(f,m,p,this.vendor);h=new b.demux(f,w,m,p),this.probe=_;break}}if(!h)return void f.trigger(A.a.ERROR,{type:I.b.MEDIA_ERROR,details:I.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=h}var k=this.remuxer;(s||a)&&(h.resetInitSegment(n,i,o,c),k.resetInitSegment()),s&&(h.resetTimeStamp(d),k.resetTimeStamp(d)),"function"==typeof h.setDecryptData&&h.setDecryptData(e),h.append(t,r,l,u)},t}();e.a=J},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){var n=Nt[e];return!!n&&!0===n[t.slice(0,4)]}function s(t){return MediaSource.isTypeSupported('video/mp4;codecs="'+t+'"')}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e,n){var i=t[e],o=t[n],r=o.startPTS;isNaN(r)?o.start=n>e?i.start+i.duration:Math.max(i.start-o.duration,0):n>e?(i.duration=r-i.start,i.duration<0&&It.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(o.duration=i.start-r,o.duration<0&&It.b.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!"))}function y(t,e,n,i,o,r){if(!isNaN(e.startPTS)){var s=Math.abs(e.startPTS-n);isNaN(e.deltaPTS)?e.deltaPTS=s:e.deltaPTS=Math.max(s,e.deltaPTS),n=Math.min(n,e.startPTS),i=Math.max(i,e.endPTS),o=Math.min(o,e.startDTS),r=Math.max(r,e.endDTS)}var a=n-e.start;e.start=e.startPTS=n,e.endPTS=i,e.startDTS=o,e.endDTS=r,e.duration=i-n;var l,c,u,d=e.sn;if(!t||d<t.startSN||d>t.endSN)return 0;for(l=d-t.startSN,(c=t.fragments)[l]=e,u=l;u>0;u--)v(c,u,u-1);for(u=l;u<c.length-1;u++)v(c,u,u+1);return t.PTSKnown=!0,a}function b(t,e){var n,i=Math.max(t.startSN,e.startSN)-e.startSN,o=Math.min(t.endSN,e.endSN)-e.startSN,r=e.startSN-t.startSN,s=t.fragments,a=e.fragments,l=0;if(o<i)e.PTSKnown=!1;else{for(var c=i;c<=o;c++){var u=s[r+c],d=a[c];d&&u&&(l=u.cc-d.cc,isNaN(u.startPTS)||(d.start=d.startPTS=u.startPTS,d.endPTS=u.endPTS,d.duration=u.duration,d.backtracked=u.backtracked,d.dropped=u.dropped,n=d))}if(l)for(It.b.log("discontinuity sliding from playlist, take drift into account"),c=0;c<a.length;c++)a[c].cc+=l;if(n)y(e,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(r>=0&&r<s.length){var h=s[r].start;for(c=0;c<a.length;c++)a[c].start+=h}e.PTSKnown=t.PTSKnown}}function _(t,e){for(var n=null,i=0;i<t.length;i+=1){var o=t[i];if(o&&o.cc===e){n=o;break}}return n}function w(t,e){return Gt.search(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}function k(t,e,n){var i=!1;return e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC)&&(i=!0),i}function C(t,e){var n=t.fragments,i=e.fragments;if(i.length&&n.length){var o=_(n,i[0].cc);return!o||o&&!o.startPTS?void It.b.log("No frag in previous level to align on"):o}It.b.log("No fragments to align")}function S(t,e){t&&(e.fragments.forEach(function(e,n){e&&(e.duration=t.duration,e.end=e.endPTS=t.endPTS+e.duration*n,e.start=e.startPTS=t.startPTS+e.start)}),e.PTSKnown=!0)}function x(t,e,n){k(t,e,n)&&(It.b.log("Adjusting PTS using last level due to CC increase within current level"),S(C(e.details,n),n))}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function A(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function L(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function M(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,
enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function $(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function H(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function K(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function nt(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Ce,this.regionList=[]}function it(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function ot(){this.values=Object.create(null)}function rt(t,e,n,i){var o=i?t.split(i):[t];for(var r in o)if("string"==typeof o[r]){var s=o[r].split(n);if(2===s.length)e(s[0],s[1])}}function st(t,e,n){function i(){var e=it(t);if(null===e)throw new Error("Malformed timestamp: "+s);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(t,e){var i=new ot;rt(t,function(t,e){switch(t){case"region":for(var o=n.length-1;o>=0;o--)if(n[o].id===e){i.set(t,n[o].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var r=e.split(","),s=r[0];i.integer(t,s),i.percent(t,s)&&i.set("snapToLines",!1),i.alt(t,s,["auto"]),2===r.length&&i.alt("lineAlign",r[1],["start",xe,"end"]);break;case"position":r=e.split(","),i.percent(t,r[0]),2===r.length&&i.alt("positionAlign",r[1],["start",xe,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",xe,"end","left","right"])}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");var o=i.get("line","auto");"auto"===o&&-1===Se.line&&(o=-1),e.line=o,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",xe);var r=i.get("position","auto");"auto"===r&&50===Se.position&&(r="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=r}function r(){t=t.replace(/^\s+/,"")}var s=t;if(r(),e.startTime=i(),r(),"-->"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+s);t=t.substr(3),r(),e.endTime=i(),r(),o(t,e)}function at(t){return t.replace(/<br(?: \/)?>/gi,"\n")}function lt(t,e,n,i){for(var o,r,s,a,l,c=window.VTTCue||window.TextTrackCue,u=0;u<i.rows.length;u++)if(s=!0,a=0,l="",!(o=i.rows[u]).isEmpty()){for(var d=0;d<o.chars.length;d++)o.chars[d].uchar.match(/\s/)&&s?a++:(l+=o.chars[d].uchar,s=!1);o.cueStartTime=e,e===n&&(n+=1e-4),r=new c(e,n,at(l.trim())),a>=16?a--:a++,navigator.userAgent.match(/Firefox\//)?r.line=u+1:r.line=u>7?u-2:u+1,r.align="left",r.position=Math.max(0,Math.min(100,a/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(r)}}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ht(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ft(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}function pt(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function mt(t,e,n,i){return Math.min(e,i)-Math.max(t,n)}function gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function yt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function bt(t){for(var e=[],n=0;n<t.length;n++)"subtitles"===t[n].kind&&e.push(t[n]);return e}function _t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function kt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var St={};n.d(St,"newCue",function(){return lt});var xt=n(5),Et=n.n(xt),Tt=n(1),At=n(2),It=n(0),Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt=function(){function t(e){i(this,t),this.hls=e,this.onEvent=this.onEvent.bind(this);for(var n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];this.handledEvents=o,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.unregisterListeners()},t.prototype.isEventHandler=function(){return"object"===Dt(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if("hlsEventGeneric"===t)throw new Error("Forbidden event name: "+t);this.hls.on(t,this.onEvent)},this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){var n=function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)};try{n.call(this,t,e).call()}catch(e){It.b.error("internal error happened while processing "+t+":"+e.message),this.hls.trigger(Tt.a.ERROR,{type:At.b.OTHER_ERROR,details:At.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}(),Rt=/^(\d+)x(\d+)$/,Pt=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,Mt=function(){function t(e){for(var n in o(this,t),"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(n)&&(this[n]=e[n])}return t.prototype.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)n[i]=parseInt(e.slice(2*i,2*i+2),16);return n}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},t.prototype.enumeratedString=function(t){return this[t]},t.prototype.decimalResolution=function(t){var e=Rt.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,n={};for(Pt.lastIndex=0;null!==(e=Pt.exec(t));){var i=e[2],o='"';0===i.indexOf(o)&&i.lastIndexOf(o)===i.length-1&&(i=i.slice(1,-1)),n[e[1]]=i}return n},t}(),Nt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}},Ot=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),jt=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,Ft=/#EXT-X-MEDIA:(.*)/g,$t=new RegExp([/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),Bt=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,Ut=function(){function t(){c(this,t),this.method=null,this.key=null,this.iv=null,this._uri=null}return Ot(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Et.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),t}(),Ht=function(){function t(){c(this,t),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return t.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},t.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var n=t;return t&&t.method&&t.uri&&!t.iv&&((n=new Ut).method=t.method,n.baseuri=t.baseuri,n.reluri=t.reluri,n.iv=this.createInitializationVector(e)),n},t.prototype.cloneObj=function(t){return JSON.parse(JSON.stringify(t))},Ot(t,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Et.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var t=this._byteRange=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var n=this.lastByteRangeEndOffset;t[0]=n||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),t}(),zt=function(t){function e(n){c(this,e);var i=a(this,t.call(this,n,Tt.a.MANIFEST_LOADING,Tt.a.LEVEL_LOADING,Tt.a.AUDIO_TRACK_LOADING,Tt.a.SUBTITLE_TRACK_LOADING));return i.loaders={},i}return l(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},Lt.prototype.destroy.call(this)},e.prototype.onManifestLoading=function(t){this.load(t.url,{type:"manifest"})},e.prototype.onLevelLoading=function(t){this.load(t.url,{type:"level",level:t.level,id:t.id})},e.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:"audioTrack",id:t.id})},e.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:"subtitleTrack",id:t.id})},e.prototype.load=function(t,e){var n=this.loaders[e.type];if(n){var i=n.context;if(i&&i.url===t)return void It.b.trace("playlist request ongoing");It.b.warn("abort previous loader for type:"+e.type),n.abort()}var o=this.hls.config,r=void 0,s=void 0,a=void 0,l=void 0;"manifest"===e.type?(r=o.manifestLoadingMaxRetry,s=o.manifestLoadingTimeOut,a=o.manifestLoadingRetryDelay,l=o.manifestLoadingMaxRetryTimeout):(r=o.levelLoadingMaxRetry,s=o.levelLoadingTimeOut,a=o.levelLoadingRetryDelay,l=o.levelLoadingMaxRetryTimeout,It.b.log("loading playlist for "+e.type+" "+(e.level||e.id))),n=this.loaders[e.type]=e.loader="undefined"!=typeof o.pLoader?new o.pLoader(o):new o.loader(o),e.url=t,e.responseType="";var c=void 0,u=void 0;c={timeout:s,maxRetry:r,retryDelay:a,maxRetryDelay:l},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(e,c,u)},e.prototype.resolve=function(t,e){return Et.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},e.prototype.parseMasterPlaylist=function(t,e){function n(t,e){["video","audio"].forEach(function(n){var i=t.filter(function(t){return r(t,n)});if(i.length){var o=i.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[n+"Codec"]=o.length>0?o[0]:i[0],t=t.filter(function(t){return-1===i.indexOf(t)})}}),e.unknownCodecs=t}var i=[],o=void 0;for(jt.lastIndex=0;null!=(o=jt.exec(t));){var s={},a=s.attrs=new Mt(o[1]);s.url=this.resolve(o[2],e);var l=a.decimalResolution("RESOLUTION");l&&(s.width=l.width,s.height=l.height),s.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),s.name=a.NAME,n([].concat((a.CODECS||"").split(/[ ,]+/)),s),s.videoCodec&&-1!==s.videoCodec.indexOf("avc1")&&(s.videoCodec=this.avc1toavcoti(s.videoCodec)),i.push(s)}return i},e.prototype.parseMasterPlaylistMedia=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=void 0,r=[],s=0;for(Ft.lastIndex=0;null!=(o=Ft.exec(t));){var a={},l=new Mt(o[1]);l.TYPE===n&&(a.groupId=l["GROUP-ID"],a.name=l.NAME,a.type=n,a["default"]="YES"===l.DEFAULT,a.autoselect="YES"===l.AUTOSELECT,a.forced="YES"===l.FORCED,l.URI&&(a.url=this.resolve(l.URI,e)),a.lang=l.LANGUAGE,a.name||(a.name=a.lang),i&&(a.audioCodec=i),a.id=s++,r.push(a))}return r},e.prototype.avc1toavcoti=function(t){var e,n=t.split(".");return n.length>2?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},e.prototype.parseLevelPlaylist=function(t,e,n,i){var o,r,s=0,a=0,l={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},c=new Ut,u=0,d=null,h=new Ht;for($t.lastIndex=0;null!==(o=$t.exec(t));){var f=o[1];if(f){h.duration=parseFloat(f);var p=(" "+o[2]).slice(1);h.title=p||null,h.tagList.push(p?["INF",f,p]:["INF",f])}else if(o[3]){if(!isNaN(h.duration)){var m=s++;h.type=i,h.start=a,h.levelkey=c,h.sn=m,h.level=n,h.cc=u,h.baseurl=e,h.relurl=(" "+o[3]).slice(1),l.fragments.push(h),d=h,a+=h.duration,h=new Ht}}else if(o[4]){if(h.rawByteRange=(" "+o[4]).slice(1),d){var g=d.byteRangeEndOffset;g&&(h.lastByteRangeEndOffset=g)}}else if(o[5])h.rawProgramDateTime=(" "+o[5]).slice(1),h.tagList.push(["PROGRAM-DATE-TIME",h.rawProgramDateTime]),void 0===l.programDateTime&&(l.programDateTime=new Date(new Date(Date.parse(o[5]))-1e3*a));else{for(o=o[0].match(Bt),r=1;r<o.length&&void 0===o[r];r++);var v=(" "+o[r+1]).slice(1),y=(" "+o[r+2]).slice(1);switch(o[r]){case"#":h.tagList.push(y?[v,y]:[v]);break;case"PLAYLIST-TYPE":l.type=v.toUpperCase();break;case"MEDIA-SEQUENCE":s=l.startSN=parseInt(v);break;case"TARGETDURATION":l.targetduration=parseFloat(v);break;case"VERSION":l.version=parseInt(v);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":u++,h.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":u=parseInt(v);break;case"KEY":var b=new Mt(v),_=b.enumeratedString("METHOD"),w=b.URI,k=b.hexadecimalInteger("IV");_&&(c=new Ut,w&&["AES-128","SAMPLE-AES"].indexOf(_)>=0&&(c.method=_,c.baseuri=e,c.reluri=w,c.key=null,c.iv=k));break;case"START":var C=new Mt(v).decimalFloatingPoint("TIME-OFFSET");isNaN(C)||(l.startTimeOffset=C);break;case"MAP":var S=new Mt(v);h.relurl=S.URI,h.rawByteRange=S.BYTERANGE,h.baseurl=e,h.level=n,h.type=i,h.sn="initSegment",l.initSegment=h,h=new Ht;break;default:It.b.warn("line parsed but not handled: "+o)}}}return(h=d)&&!h.relurl&&(l.fragments.pop(),a-=h.duration),l.totalduration=a,l.averagetargetduration=a/l.fragments.length,l.endSN=s-1,l.startCC=l.fragments[0]?l.fragments[0].cc:0,l.endCC=u,l},e.prototype.loadsuccess=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=t.data,r=t.url,s=n.type,a=n.id,l=n.level,c=this.hls;if(this.loaders[s]=void 0,void 0!==r&&0!==r.indexOf("data:")||(r=n.url),e.tload=performance.now(),0===o.indexOf("#EXTM3U"))if(o.indexOf("#EXTINF:")>0){var u="audioTrack"!==s&&"subtitleTrack"!==s,d=isNaN(l)?isNaN(a)?0:a:l,h=this.parseLevelPlaylist(o,r,d,"audioTrack"===s?"audio":"subtitleTrack"===s?"subtitle":"main");h.tload=e.tload,"manifest"===s&&c.trigger(Tt.a.MANIFEST_LOADED,{levels:[{url:r,details:h}],audioTracks:[],url:r,stats:e,networkDetails:i}),e.tparsed=performance.now(),h.targetduration?u?c.trigger(Tt.a.LEVEL_LOADED,{details:h,level:l||0,id:a||0,stats:e,networkDetails:i}):"audioTrack"===s?c.trigger(Tt.a.AUDIO_TRACK_LOADED,{details:h,id:a,stats:e,networkDetails:i}):"subtitleTrack"===s&&c.trigger(Tt.a.SUBTITLE_TRACK_LOADED,{details:h,id:a,stats:e,networkDetails:i}):c.trigger(Tt.a.ERROR,{type:At.b.NETWORK_ERROR,details:At.a.MANIFEST_PARSING_ERROR,fatal:!0,url:r,reason:"invalid targetduration",networkDetails:i})}else{var f=this.parseMasterPlaylist(o,r);if(f.length){var p=this.parseMasterPlaylistMedia(o,r,"AUDIO",f[0].audioCodec),m=this.parseMasterPlaylistMedia(o,r,"SUBTITLES");if(p.length){var g=!1;p.forEach(function(t){t.url||(g=!0)}),!1===g&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(It.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main"}))}c.trigger(Tt.a.MANIFEST_LOADED,{levels:f,audioTracks:p,subtitles:m,url:r,stats:e,networkDetails:i})}else c.trigger(Tt.a.ERROR,{type:At.b.NETWORK_ERROR,details:At.a.MANIFEST_PARSING_ERROR,fatal:!0,url:r,reason:"no level found in manifest",networkDetails:i})}else c.trigger(Tt.a.ERROR,{type:At.b.NETWORK_ERROR,details:At.a.MANIFEST_PARSING_ERROR,fatal:!0,url:r,reason:"no EXTM3U delimiter",networkDetails:i})},e.prototype.loaderror=function(t,e){var n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.loader;switch(e.type){case"manifest":n=At.a.MANIFEST_LOAD_ERROR,i=!0;break;case"level":n=At.a.LEVEL_LOAD_ERROR,i=!1;break;case"audioTrack":n=At.a.AUDIO_TRACK_LOAD_ERROR,i=!1}r&&(r.abort(),this.loaders[e.type]=void 0),this.hls.trigger(Tt.a.ERROR,{type:At.b.NETWORK_ERROR,details:n,fatal:i,url:r.url,loader:r,response:t,context:e,networkDetails:o})},e.prototype.loadtimeout=function(t,e){var n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.loader;switch(e.type){case"manifest":n=At.a.MANIFEST_LOAD_TIMEOUT,i=!0;break;case"level":n=At.a.LEVEL_LOAD_TIMEOUT,i=!1;break;case"audioTrack":n=At.a.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}r&&(r.abort(),this.loaders[e.type]=void 0),this.hls.trigger(Tt.a.ERROR,{type:At.b.NETWORK_ERROR,details:n,fatal:i,url:r.url,loader:r,context:e,networkDetails:o})},e}(Lt),Wt=function(t){function e(n){u(this,e);var i=d(this,t.call(this,n,Tt.a.FRAG_LOADING));return i.loaders={},i}return h(e,t),e.prototype.destroy=function(){var t=this.loaders;for(var e in t){var n=t[e];n&&n.destroy()}this.loaders={},Lt.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag,n=e.type,i=this.loaders[n],o=this.hls.config;e.loaded=0,i&&(It.b.warn("abort previous fragment loader for type:"+n),i.abort()),i=this.loaders[n]=e.loader="undefined"!=typeof o.fLoader?new o.fLoader(o):new o.loader(o);var r=void 0,s=void 0,a=void 0;r={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var l=e.byteRangeStartOffset,c=e.byteRangeEndOffset;isNaN(l)||isNaN(c)||(r.rangeStart=l,r.rangeEnd=c),s={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout},a={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},i.load(r,s,a)},e.prototype.loadsuccess=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=t.data,r=n.frag;r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(Tt.a.FRAG_LOADED,{payload:o,frag:r,stats:e,networkDetails:i})},e.prototype.loaderror=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Tt.a.ERROR,{type:At.b.NETWORK_ERROR,details:At.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},e.prototype.loadtimeout=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Tt.a.ERROR,{type:At.b.NETWORK_ERROR,details:At.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},e.prototype.loadprogress=function(t,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e.frag;i.loaded=t.loaded,this.hls.trigger(Tt.a.FRAG_LOAD_PROGRESS,{frag:i,stats:t,networkDetails:n})},e}(Lt),Yt=function(t){function e(n){f(this,e);var i=p(this,t.call(this,n,Tt.a.KEY_LOADING));return i.loaders={},i.decryptkey=null,i.decrypturl=null,i}return m(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},Lt.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,n=e.type,i=this.loaders[n],o=e.decryptdata,r=o.uri;if(r!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;i&&(It.b.warn("abort previous key loader for type:"+n),i.abort()),e.loader=this.loaders[n]=new s.loader(s),this.decrypturl=r,this.decryptkey=null;var a=void 0,l=void 0,c=void 0;a={url:r,frag:e,responseType:"arraybuffer"},l={timeout:s.fragLoadingTimeOut,maxRetry:s.fragLoadingMaxRetry,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(a,l,c)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(Tt.a.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,n){var i=n.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(t.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(Tt.a.KEY_LOADED,{frag:i})},e.prototype.loaderror=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Tt.a.ERROR,{type:At.b.NETWORK_ERROR,details:At.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},e.prototype.loadtimeout=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Tt.a.ERROR,{type:At.b.NETWORK_ERROR,details:At.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}(Lt),Gt={search:function(t,e){for(var n=0,i=t.length-1,o=null,r=null;n<=i;){var s=e(r=t[o=(n+i)/2|0]);if(s>0)n=o+1;else{if(!(s<0))return r;i=o-1}}return null}},qt={isBuffered:function(t,e){if(t)for(var n=t.buffered,i=0;i<n.length;i++)if(e>=n.start(i)&&e<=n.end(i))return!0;return!1},bufferInfo:function(t,e,n){if(t){var i,o=t.buffered,r=[];for(i=0;i<o.length;i++)r.push({start:o.start(i),end:o.end(i)});return this.bufferedInfo(r,e,n)}return{len:0,start:e,end:e,nextStart:void 0}},bufferedInfo:function(t,e,n){var i,o,r,s,a,l=[];for(t.sort(function(t,e){var n=t.start-e.start;return n||e.end-t.end}),a=0;a<t.length;a++){var c=l.length;if(c){var u=l[c-1].end;t[a].start-u<n?t[a].end>u&&(l[c-1].end=t[a].end):l.push(t[a])}else l.push(t[a])}for(a=0,i=0,o=r=e;a<l.length;a++){var d=l[a].start,h=l[a].end;if(e+n>=d&&e<h)o=d,i=(r=h)-e;else if(e+n<d){s=d;break}}return{len:i,start:o,end:r,nextStart:s}}},Vt=n(6),Zt=n(4),Xt=n.n(Zt),Jt=n(8),Kt=n.n(Jt),Qt=function(){function t(e,n){g(this,t),this.hls=e,this.id=n;var i=this.observer=new Xt.a,o=e.config;i.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];i.emit.apply(i,[t,t].concat(n))},i.off=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];i.removeListener.apply(i,[t].concat(n))};var r=function(t,n){(n=n||{}).frag=this.frag,n.id=this.id,e.trigger(t,n)}.bind(this);i.on(Tt.a.FRAG_DECRYPTED,r),i.on(Tt.a.FRAG_PARSING_INIT_SEGMENT,r),i.on(Tt.a.FRAG_PARSING_DATA,r),i.on(Tt.a.FRAG_PARSED,r),i.on(Tt.a.ERROR,r),i.on(Tt.a.FRAG_PARSING_METADATA,r),i.on(Tt.a.FRAG_PARSING_USERDATA,r),i.on(Tt.a.INIT_PTS_FOUND,r);var s={mp4:MediaSource.isTypeSupported("video/mp4"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')},a=navigator.vendor;if(o.enableWorker&&"undefined"!=typeof Worker){It.b.log("demuxing in webworker");var l=void 0;try{l=this.w=Kt()(9),this.onwmsg=this.onWorkerMessage.bind(this),l.addEventListener("message",this.onwmsg),l.onerror=function(t){e.trigger(Tt.a.ERROR,{type:At.b.OTHER_ERROR,details:At.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},l.postMessage({cmd:"init",typeSupported:s,vendor:a,id:n,config:JSON.stringify(o)})}catch(t){It.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),l&&URL.revokeObjectURL(l.objectURL),this.demuxer=new Vt.a(i,s,o,a),this.w=void 0}}else this.demuxer=new Vt.a(i,s,o,a)}return t.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,e,n,i,o,r,s,a){var l=this.w,c=isNaN(o.startDTS)?o.start:o.startDTS,u=o.decryptdata,d=this.frag,h=!(d&&o.cc===d.cc),f=!(d&&o.level===d.level),p=d&&o.sn===d.sn+1,m=!f&&p;if(h&&It.b.log(this.id+":discontinuity detected"),f&&It.b.log(this.id+":switch detected"),this.frag=o,l)l.postMessage({cmd:"demux",data:t,decryptdata:u,initSegment:e,audioCodec:n,videoCodec:i,timeOffset:c,discontinuity:h,trackSwitch:f,contiguous:m,duration:r,accurateTimeOffset:s,defaultInitPTS:a},[t]);else{var g=this.demuxer;g&&g.push(t,u,e,n,i,c,h,f,m,r,s,a)}},t.prototype.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case Tt.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},t}(),te={toString:function(t){for(var e="",n=t.length,i=0;i<n;i++)e+="["+t.start(i).toFixed(3)+","+t.end(i).toFixed(3)+"]";return e}},ee=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ne={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},ie=function(t){function e(n){E(this,e);var i=T(this,t.call(this,n,Tt.a.MEDIA_ATTACHED,Tt.a.MEDIA_DETACHING,Tt.a.MANIFEST_LOADING,Tt.a.MANIFEST_PARSED,Tt.a.LEVEL_LOADED,Tt.a.KEY_LOADED,Tt.a.FRAG_LOADED,Tt.a.FRAG_LOAD_EMERGENCY_ABORTED,Tt.a.FRAG_PARSING_INIT_SEGMENT,Tt.a.FRAG_PARSING_DATA,Tt.a.FRAG_PARSED,Tt.a.ERROR,Tt.a.AUDIO_TRACK_SWITCHING,Tt.a.AUDIO_TRACK_SWITCHED,Tt.a.BUFFER_CREATED,Tt.a.BUFFER_APPENDED,Tt.a.BUFFER_FLUSHED));return i.config=n.config,i.audioCodecSwap=!1,i.ticks=0,i._state=ne.STOPPED,i.ontick=i.tick.bind(i),i}return A(e,t),e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Lt.prototype.destroy.call(this),this.state=ne.STOPPED},e.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=n.startLevel;-1===i&&(i=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(It.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=ne.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=ne.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ne.STOPPED,this.forceStartLoad=!1},e.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){switch(this.state){case ne.ERROR:break;case ne.BUFFER_FLUSHING:this.fragLoadError=0;break;case ne.IDLE:this._doTickIdle();break;case ne.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=ne.IDLE);break;case ne.FRAG_LOADING_WAITING_RETRY:var e=performance.now(),n=this.retryDate;(!n||e>=n||this.media&&this.media.seeking)&&(It.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=ne.IDLE);break;case ne.ERROR:case ne.STOPPED:case ne.FRAG_LOADING:case ne.PARSING:case ne.PARSED:case ne.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},e.prototype._doTickIdle=function(){
var t=this.hls,e=t.config,n=this.media;if(void 0===this.levelLastLoaded||n||!this.startFragRequested&&e.startFragPrefetch){var i=void 0;i=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var o=t.nextLoadLevel,r=this.levels[o];if(r){var s=r.bitrate,a=void 0;a=s?Math.max(8*e.maxBufferSize/s,e.maxBufferLength):e.maxBufferLength,a=Math.min(a,e.maxMaxBufferLength);var l=qt.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,i,e.maxBufferHole),c=l.len;if(!(c>=a)){It.b.trace("buffer length of "+c.toFixed(3)+" is below max of "+a.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=o;var u=r.details;if(void 0===u||u.live&&this.levelLastLoaded!==o)return void(this.state=ne.WAITING_LEVEL);var d=this.fragPrevious;if(!u.live&&d&&d.sn===u.endSN&&c&&!l.nextStart)if(Math.min(n.duration,d.start+d.duration)-Math.max(l.end,d.start)<=Math.max(.2,d.duration)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(Tt.a.BUFFER_EOS,h),void(this.state=ne.ENDED)}this._fetchPayloadOrEos(i,l,u)}}}},e.prototype._fetchPayloadOrEos=function(t,e,n){var i=this.fragPrevious,o=this.level,r=n.fragments,s=r.length;if(0!==s){var a=r[0].start,l=r[s-1].start+r[s-1].duration,c=e.end,u=void 0;if(n.initSegment&&!n.initSegment.data)u=n.initSegment;else if(n.live){var d=this.config.initialLiveManifestSize;if(s<d)return void It.b.warn("Can not start playback of a level, reason: not enough fragments "+s+" < "+d);if(null===(u=this._ensureFragmentAtLivePoint(n,c,a,l,i,r,s)))return}else c<a&&(u=r[0]);u||(u=this._findFragment(a,i,s,r,c,l,n)),u&&this._loadFragmentOrKey(u,o,n,t,c)}},e.prototype._ensureFragmentAtLivePoint=function(t,e,n,i,o,r,s){var a=this.hls.config,l=this.media,c=void 0,u=void 0!==a.liveMaxLatencyDuration?a.liveMaxLatencyDuration:a.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(n-a.maxFragLookUpTolerance,i-u)){var d=this.liveSyncPosition=this.computeLivePosition(n,t);It.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),e=d,l&&l.readyState&&l.duration>d&&(l.currentTime=d),this.nextLoadPosition=d}if(t.PTSKnown&&e>i&&l&&l.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(o){var h=o.sn+1;if(h>=t.startSN&&h<=t.endSN){var f=r[h-t.startSN];o.cc===f.cc&&(c=f,It.b.log("live playlist, switching playlist, load frag with next SN: "+c.sn))}c||(c=Gt.search(r,function(t){return o.cc-t.cc}))&&It.b.log("live playlist, switching playlist, load frag with same CC: "+c.sn)}c||(c=r[Math.min(s-1,Math.round(s/2))],It.b.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))}return c},e.prototype._findFragment=function(t,e,n,i,o,r,s){var a=this.hls.config,l=void 0,c=void 0,u=a.maxFragLookUpTolerance,d=e?i[e.sn-i[0].sn+1]:void 0,h=function(t){var e=Math.min(u,t.duration);return t.start+t.duration-e<=o?1:t.start-e>o&&t.start?-1:0};if(o<r?(o>r-u&&(u=0),c=d&&!h(d)?d:Gt.search(i,h)):c=i[n-1],c){var f=(l=c).sn-s.startSN,p=e&&l.level===e.level,m=i[f-1],g=i[f+1];if(e&&l.sn===e.sn)if(p&&!l.backtracked)if(l.sn<s.endSN){var v=e.deltaPTS;v&&v>a.maxBufferHole&&e.dropped&&f?(l=m,It.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),e.loadCounter--):(l=g,It.b.log("SN just loaded, load next one: "+l.sn))}else l=null;else l.backtracked&&(g&&g.backtracked?(It.b.warn("Already backtracked from fragment "+g.sn+", will not backtrack to fragment "+l.sn+". Loading fragment "+g.sn),l=g):(It.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,m?(m.loadCounter&&m.loadCounter--,(l=m).backtracked=!0):f&&(l=null)))}return l},e.prototype._loadFragmentOrKey=function(t,e,n,i,o){var r=this.hls,s=r.config;if(!t.decryptdata||null==t.decryptdata.uri||null!=t.decryptdata.key){if(It.b.log("Loading "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e+", currentTime:"+i.toFixed(3)+",bufferEnd:"+o.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;var a=s.fragLoadingLoopThreshold;if(t.loadCounter>a&&Math.abs(this.fragLoadIdx-t.loadIdx)<a)return void r.trigger(Tt.a.ERROR,{type:At.b.MEDIA_ERROR,details:At.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t})}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,t.autoLevel=r.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.fragCurrent=t,this.startFragRequested=!0,isNaN(t.sn)||t.bitrateTest||(this.nextLoadPosition=t.start+t.duration),r.trigger(Tt.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new Qt(r,"main")),void(this.state=ne.FRAG_LOADING)}It.b.log("Loading key for "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e),this.state=ne.KEY_LOADING,r.trigger(Tt.a.KEY_LOADING,{frag:t})},e.prototype.getBufferedFrag=function(t){return Gt.search(this._bufferedFrags,function(e){return t<e.startPTS?-1:t>e.endPTS?1:0})},e.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},e.prototype._checkFragmentChanged=function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=e),qt.isBuffered(n,e)?t=this.getBufferedFrag(e):qt.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var i=t;if(i!==this.fragPlaying){this.hls.trigger(Tt.a.FRAG_CHANGED,{frag:i});var o=i.level;this.fragPlaying&&this.fragPlaying.level===o||this.hls.trigger(Tt.a.LEVEL_SWITCHED,{level:o}),this.fragPlaying=i}}},e.prototype.immediateLevelSwitch=function(){if(It.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,e=void 0;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},e.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,qt.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},e.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e=void 0,n=void 0,i=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,(n=this.getBufferedFrag(t.currentTime))&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),t.paused)e=0;else{var o=this.hls.nextLoadLevel,r=this.levels[o],s=this.fragLastKbps;e=s&&this.fragCurrent?this.fragCurrent.duration*r.bitrate/(1e3*s)+1:0}if((i=this.getBufferedFrag(t.currentTime+e))&&(i=this.followingBufferedFrag(i))){var a=this.fragCurrent;a&&a.loader&&a.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,Number.POSITIVE_INFINITY)}}},e.prototype.flushMainBuffer=function(t,e){this.state=ne.BUFFER_FLUSHING;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(Tt.a.BUFFER_FLUSHING,n)},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(It.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0,t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){var t=this.media,e=t?t.currentTime:void 0,n=this.config;isNaN(e)||It.b.log("media seeking to "+e.toFixed(3));var i=this.mediaBuffer?this.mediaBuffer:t,o=qt.bufferInfo(i,e,this.config.maxBufferHole);if(this.state===ne.FRAG_LOADING){var r=this.fragCurrent;if(0===o.len&&r){var s=n.maxFragLookUpTolerance,a=r.start-s,l=r.start+r.duration+s;e<a||e>l?(r.loader&&(It.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=ne.IDLE):It.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===ne.ENDED&&(0===o.len&&(this.fragPrevious=0),this.state=ne.IDLE);t&&(this.lastCurrentTime=e),this.state!==ne.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()},e.prototype.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;isNaN(e)||It.b.log("media seeked to "+e.toFixed(3)),this.tick()},e.prototype.onMediaEnded=function(){It.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestLoading=function(){It.b.log("trigger BUFFER_RESET"),this.hls.trigger(Tt.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestParsed=function(t){var e,n=!1,i=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=n&&i,this.audioCodecSwitch&&It.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var o=this.config;(o.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(o.startPosition)},e.prototype.onLevelLoaded=function(t){var e=t.details,n=t.level,i=this.levels[this.levelLastLoaded],o=this.levels[n],r=e.totalduration,s=0;if(It.b.log("level "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+r),e.live){var a=o.details;a&&e.fragments.length>0?(b(a,e),s=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,a),e.PTSKnown?It.b.log("live playlist sliding:"+s.toFixed(3)):(It.b.log("live playlist - outdated PTS, unknown sliding"),x(this.fragPrevious,i,e))):(It.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,x(this.fragPrevious,i,e))}else e.PTSKnown=!1;if(o.details=e,this.levelLastLoaded=n,this.hls.trigger(Tt.a.LEVEL_UPDATED,{details:e,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=e.startTimeOffset;isNaN(l)?e.live?(this.startPosition=this.computeLivePosition(s,e),It.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(l<0&&(It.b.log("negative start time offset "+l+", count from end of last fragment"),l=s+r+l),It.b.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===ne.WAITING_LEVEL&&(this.state=ne.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===ne.KEY_LOADING&&(this.state=ne.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===ne.FRAG_LOADING&&e&&"main"===n.type&&n.level===e.level&&n.sn===e.sn){var i=t.stats,o=this.levels[e.level],r=o.details;if(It.b.log("Loaded  "+e.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+e.level),this.bitrateTest=!1,this.stats=i,!0===n.bitrateTest&&this.hls.nextLoadLevel)this.state=ne.IDLE,this.startFragRequested=!1,i.tparsed=i.tbuffered=performance.now(),this.hls.trigger(Tt.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.tick();else if("initSegment"===n.sn)this.state=ne.IDLE,i.tparsed=i.tbuffered=performance.now(),r.initSegment.data=t.payload,this.hls.trigger(Tt.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.tick();else{this.state=ne.PARSING;var s=r.totalduration,a=e.level,l=e.sn,c=this.config.defaultAudioCodec||o.audioCodec;this.audioCodecSwap&&(It.b.log("swapping playlist audio codec"),void 0===c&&(c=this.lastAudioCodec),c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,It.b.log("Parsing "+l+" of ["+r.startSN+" ,"+r.endSN+"],level "+a+", cc "+e.cc);var u=this.demuxer;u||(u=this.demuxer=new Qt(this.hls,"main"));var d=this.media,h=!(d&&d.seeking)&&(r.PTSKnown||!r.live),f=r.initSegment?r.initSegment.data:[];u.push(t.payload,f,c,o.videoCodec,e,s,h,void 0)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===ne.PARSING){var i,o,r=t.tracks;if(r.audio&&this.altAudio&&delete r.audio,o=r.audio){var s=this.levels[this.level].audioCodec,a=navigator.userAgent.toLowerCase();s&&this.audioCodecSwap&&(It.b.log("swapping playlist audio codec"),s=-1!==s.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==o.metadata.channelCount&&-1===a.indexOf("firefox")&&(s="mp4a.40.5"),-1!==a.indexOf("android")&&"audio/mpeg"!==o.container&&(s="mp4a.40.2",It.b.log("Android: force audio codec to "+s)),o.levelCodec=s,o.id=t.id}for(i in(o=r.video)&&(o.levelCodec=this.levels[this.level].videoCodec,o.id=t.id),this.hls.trigger(Tt.a.BUFFER_CODECS,r),r){o=r[i],It.b.log("main track:"+i+",container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var l=o.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Tt.a.BUFFER_APPENDING,{type:i,data:l,parent:"main",content:"initSegment"}))}this.tick()}},e.prototype.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"main"===t.id&&i.sn===n.sn&&i.level===n.level&&("audio"!==t.type||!this.altAudio)&&this.state===ne.PARSING){var o=this.levels[this.level],r=n;if(isNaN(t.endPTS)&&(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),It.b.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(r.dropped=t.dropped,r.dropped){if(!r.backtracked)return It.b.warn("missing video frame(s), backtracking fragment"),r.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=ne.IDLE,this.fragPrevious=r,void this.tick();It.b.warn("Already backtracked on this fragment, appending with the gap")}else r.backtracked=!1;var s=y(o.details,r,t.startPTS,t.endPTS,t.startDTS,t.endDTS),a=this.hls;a.trigger(Tt.a.LEVEL_PTS_UPDATED,{details:o.details,level:this.level,drift:s,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(n){n&&n.length&&e.state===ne.PARSING&&(e.appended=!0,e.pendingBuffering=!0,a.trigger(Tt.a.BUFFER_APPENDING,{type:t.type,data:n,parent:"main",content:"data"}))}),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===ne.PARSING&&(this.stats.tparsed=performance.now(),this.state=ne.PARSED,this._checkAppendedParsed())},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url,n=t.id;if(!e){if(this.mediaBuffer!==this.media){It.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(It.b.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ne.IDLE}var o=this.hls;o.trigger(Tt.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),o.trigger(Tt.a.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},e.prototype.onAudioTrackSwitched=function(t){var e=t.id,n=!!this.hls.audioTracks[e].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(It.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},e.prototype.onBufferCreated=function(t){var e=t.tracks,n=void 0,i=void 0,o=!1;for(var r in e){var s=e[r];"main"===s.id?(i=r,n=s,"video"===r&&(this.videoBuffer=e[r].buffer)):o=!0}o&&n?(It.b.log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},e.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==ne.PARSING&&e!==ne.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==ne.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;It.b.log("main buffered : "+te.toString(e.buffered));var n=this._bufferedFrags.filter(function(t){return qt.isBuffered(e,(t.startPTS+t.endPTS)/2)});n.push(t),this._bufferedFrags=n.sort(function(t,e){return t.startPTS-e.startPTS}),this.fragPrevious=t;var i=this.stats;i.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),this.hls.trigger(Tt.a.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.state=ne.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var n=this.media,i=n&&qt.isBuffered(n,n.currentTime)&&qt.isBuffered(n,n.currentTime+.5);switch(t.details){case At.a.FRAG_LOAD_ERROR:case At.a.FRAG_LOAD_TIMEOUT:case At.a.KEY_LOAD_ERROR:case At.a.KEY_LOAD_TIMEOUT:if(!t.fatal){var o=this.fragLoadError;o?o++:o=1;var r=this.config;if(o<=r.fragLoadingMaxRetry||i||e.autoLevel&&e.level){this.fragLoadError=o,e.loadCounter=0;var s=Math.min(Math.pow(2,o-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);It.b.warn("mediaController: frag loading failed, retry in "+s+" ms"),this.retryDate=performance.now()+s,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.state=ne.FRAG_LOADING_WAITING_RETRY}else It.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=ne.ERROR}break;case At.a.FRAG_LOOP_LOADING_ERROR:t.fatal||(i?(this._reduceMaxBufferLength(e.duration),this.state=ne.IDLE):e.autoLevel&&0!==e.level||(t.fatal=!0,this.state=ne.ERROR));break;case At.a.LEVEL_LOAD_ERROR:case At.a.LEVEL_LOAD_TIMEOUT:this.state!==ne.ERROR&&(t.fatal?(this.state=ne.ERROR,It.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==ne.WAITING_LEVEL||(this.state=ne.IDLE));break;case At.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==ne.PARSING&&this.state!==ne.PARSED||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=ne.IDLE):(It.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},e.prototype._reduceMaxBufferLength=function(t){var e=this.config;e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,It.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*e.fragLoadingLoopThreshold)},e.prototype._checkBuffer=function(){var t=this.media,e=this.config;if(t&&t.readyState){var n=t.currentTime,i=this.mediaBuffer?this.mediaBuffer:t,o=i.buffered;if(!this.loadedmetadata&&o.length){this.loadedmetadata=!0;var r=t.seeking?n:this.startPosition,s=qt.isBuffered(i,r),a=o.start(0);(n!==r||!s&&Math.abs(r-a)<e.maxSeekHole)&&(It.b.log("target start position:"+r),s||(r=a,It.b.log("target start position not buffered, seek to buffered.start(0) "+r)),It.b.log("adjust currentTime from "+n+" to "+r),t.currentTime=r)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var l=qt.bufferInfo(t,n,0),c=!(t.paused||t.ended||0===t.buffered.length),u=.5;if(n!==this.lastCurrentTime)this.stallReported&&(It.b.warn("playback not stuck anymore @"+n+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(c){var d=performance.now(),h=this.hls;if(this.stalled){var f=d-this.stalled,p=l.len,m=this.nudgeRetry||0;if(p<=u&&f>1e3*e.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,It.b.warn("playback stalling in low buffer @"+n),h.trigger(Tt.a.ERROR,{type:At.b.MEDIA_ERROR,details:At.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:p}));var g=l.nextStart,v=g-n;if(g&&v<e.maxSeekHole&&v>0){this.nudgeRetry=++m;var y=m*e.nudgeOffset;It.b.log("adjust currentTime from "+t.currentTime+" to next buffered @ "+g+" + nudge "+y),t.currentTime=g+y,this.stalled=void 0,h.trigger(Tt.a.ERROR,{type:At.b.MEDIA_ERROR,details:At.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:g+y-n})}}else if(p>u&&f>1e3*e.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,It.b.warn("playback stalling in high buffer @"+n),h.trigger(Tt.a.ERROR,{type:At.b.MEDIA_ERROR,details:At.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:p})),this.stalled=void 0,this.nudgeRetry=++m,m<e.nudgeMaxRetry){var b=t.currentTime,_=b+m*e.nudgeOffset;It.b.log("adjust currentTime from "+b+" to "+_),t.currentTime=_,h.trigger(Tt.a.ERROR,{type:At.b.MEDIA_ERROR,details:At.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else It.b.error("still stuck in high buffer @"+n+" after "+e.nudgeMaxRetry+", raise fatal error"),h.trigger(Tt.a.ERROR,{type:At.b.MEDIA_ERROR,details:At.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=d,this.stallReported=!1}}}},e.prototype.onFragLoadEmergencyAborted=function(){this.state=ne.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},e.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(e){return qt.isBuffered(t,(e.startPTS+e.endPTS)/2)}),this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=ne.IDLE,this.fragPrevious=null},e.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},e.prototype.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},ee(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,It.b.log("main stream:"+e+"->"+t),this.hls.trigger(Tt.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}(Lt),oe=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),re=function(t){function e(n){I(this,e);var i=D(this,t.call(this,n,Tt.a.MANIFEST_LOADED,Tt.a.LEVEL_LOADED,Tt.a.FRAG_LOADED,Tt.a.ERROR));return i.ontick=i.tick.bind(i),i._manualLevel=-1,i}return L(e,t),e.prototype.destroy=function(){this.cleanTimer(),this._manualLevel=-1},e.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){this.canload=!0;var t=this._levels;t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),this.timer&&this.tick()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e,n=[],i=[],o={},r=!1,a=!1,l=this.hls,c=/chrome|firefox/.test(navigator.userAgent.toLowerCase());if(t.levels.forEach(function(t){t.videoCodec&&(r=!0),c&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(t.audioCodec||t.attrs&&t.attrs.AUDIO)&&(a=!0);var e=o[t.bitrate];void 0===e?(o[t.bitrate]=n.length,t.url=[t.url],t.urlId=0,n.push(t)):n[e].url.push(t.url)}),r&&a?n.forEach(function(t){t.videoCodec&&i.push(t)}):i=n,(i=i.filter(function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||s(e))&&(!n||s(n))})).length){e=i[0].bitrate,i.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=i;for(var u=0;u<i.length;u++)if(i[u].bitrate===e){this._firstLevel=u,It.b.log("manifest loaded,"+i.length+" level(s) found, first bitrate:"+e);break}l.trigger(Tt.a.MANIFEST_PARSED,{levels:i,firstLevel:this._firstLevel,stats:t.stats,audio:a,video:r,altAudio:t.audioTracks.length>0})}else l.trigger(Tt.a.ERROR,{type:At.b.MEDIA_ERROR,details:At.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:l.url,reason:"no level with compatible codecs found in manifest"})},e.prototype.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(t>=0&&t<e.length){if(this.cleanTimer(),this._level!==t){It.b.log("switching to level "+t),this._level=t;var i=e[t];i.level=t,n.trigger(Tt.a.LEVEL_SWITCH,i),n.trigger(Tt.a.LEVEL_SWITCHING,i)}var o=e[t],r=o.details;if(!r||!0===r.live){var s=o.urlId;n.trigger(Tt.a.LEVEL_LOADING,{url:o.url[s],level:t,id:s})}}else n.trigger(Tt.a.ERROR,{type:At.b.OTHER_ERROR,details:At.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},e.prototype.onError=function(t){if(t.fatal)t.type===At.b.NETWORK_ERROR&&this.cleanTimer();else{var e=t.details,n=this.hls,i=void 0,o=void 0,r=!1;switch(e){case At.a.FRAG_LOAD_ERROR:case At.a.FRAG_LOAD_TIMEOUT:case At.a.FRAG_LOOP_LOADING_ERROR:case At.a.KEY_LOAD_ERROR:case At.a.KEY_LOAD_TIMEOUT:i=t.frag.level;break;case At.a.LEVEL_LOAD_ERROR:case At.a.LEVEL_LOAD_TIMEOUT:i=t.context.level,r=!0;break;case At.a.REMUX_ALLOC_ERROR:i=t.level}if(void 0!==i){(o=this._levels[i]).loadError?o.loadError++:o.loadError=1;var s=o.url.length;if(s>1&&o.loadError<s)o.urlId=(o.urlId+1)%s,o.details=void 0,It.b.warn("level controller,"+e+" for level "+i+": switching to redundant stream id "+o.urlId);else if(-1===this._manualLevel&&i)It.b.warn("level controller,"+e+": switch-down for next fragment"),n.nextAutoLevel=Math.max(0,i-1);else if(o&&o.details&&o.details.live)It.b.warn("level controller,"+e+" on live stream, discard"),r&&(this._level=void 0);else if(e===At.a.LEVEL_LOAD_ERROR||e===At.a.LEVEL_LOAD_TIMEOUT){var a=n.media;if(a&&qt.isBuffered(a,a.currentTime)&&qt.isBuffered(a,a.currentTime+.5)){var l=n.config.levelLoadingRetryDelay;It.b.warn("level controller,"+e+", but media buffered, retry in "+l+"ms"),this.timer=setTimeout(this.ontick,l),t.levelRetry=!0}else It.b.error("cannot recover "+e+" error"),this._level=void 0,this.cleanTimer(),t.fatal=!0}}}},e.prototype.onFragLoaded=function(t){var e=t.frag;if(e&&"main"===e.type){var n=this._levels[e.level];n&&(n.loadError=0)}},e.prototype.onLevelLoaded=function(t){var e=t.level;if(e===this._level){var n=this._levels[e];n.loadError=0;var i=t.details;if(i.live){var o=1e3*(i.averagetargetduration?i.averagetargetduration:i.targetduration),r=n.details;r&&i.endSN===r.endSN&&(o/=2,It.b.log("same live playlist, reload twice faster")),o-=performance.now()-t.stats.trequest,o=Math.max(1e3,Math.round(o)),It.b.log("live playlist, reload in "+o+" ms"),this.timer=setTimeout(this.ontick,o)}else this.timer=null}},e.prototype.tick=function(){var t=this._level;if(void 0!==t&&this.canload){var e=this._levels[t];if(e&&e.url){var n=e.urlId;this.hls.trigger(Tt.a.LEVEL_LOADING,{url:e.url[n],level:t,id:n})}}},oe(e,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(t){var e=this._levels;e&&e.length>t&&(this._level===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(t){this._manualLevel=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this._manualLevel&&(this.hls.nextAutoLevel=t)}}]),e}(Lt),se=n(3),ae=function(t){function e(n){R(this,e);var i=P(this,t.call(this,n,Tt.a.MEDIA_ATTACHED,Tt.a.MEDIA_DETACHING,Tt.a.FRAG_PARSING_METADATA));return i.id3Track=void 0,i.media=void 0,i}return M(e,t),e.prototype.destroy=function(){Lt.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media&&(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden")},e.prototype.onMediaDetaching=function(){this.media=void 0},e.prototype.onFragParsingMetadata=function(t){for(var e=t.frag,n=t.samples,i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,o=0;o<n.length;o++){var r=se.a.getID3Frames(n[o].data);if(r){var s=n[o].pts,a=o<n.length-1?n[o+1].pts:e.endPTS;s===a&&(a+=1e-4);for(var l=0;l<r.length;l++){var c=r[l];if(!se.a.isTimeStampFrame(c)){var u=new i(s,a,"");u.value=c,this.id3Track.addCue(u)}}}}},e}(Lt),le=function(){function t(e){N(this,t),this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}(),ce=function(){function t(e,n,i,o){O(this,t),this.hls=e,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new le(n),this.fast_=new le(i)}return t.prototype.sample=function(t,e){var n=8e3*e/(t=Math.max(t,this.minDelayMs_)),i=t/1e3;this.fast_.sample(i,n),this.slow_.sample(i,n)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}(),ue=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),de=function(t){function e(n){j(this,e);var i=F(this,t.call(this,n,Tt.a.FRAG_LOADING,Tt.a.FRAG_LOADED,Tt.a.FRAG_BUFFERED,Tt.a.ERROR));return i.lastLoadedFragLevel=0,i._nextAutoLevel=-1,i.hls=n,i.timer=null,i._bwEstimator=null,i.onCheck=i._abandonRulesCheck.bind(i),i}return $(e,t),e.prototype.destroy=function(){this.clearTimer(),Lt.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var n=this.hls,i=t.frag.level,o=n.levels[i].details.live,r=n.config,s=void 0,a=void 0;o?(s=r.abrEwmaFastLive,a=r.abrEwmaSlowLive):(s=r.abrEwmaFastVoD,a=r.abrEwmaSlowVoD),this._bwEstimator=new ce(n,a,s,r.abrEwmaDefaultEstimate)}this.fragCurrent=e}},e.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent,i=n.loader,o=t.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return It.b.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var r=i.stats;if(e&&r&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var s=performance.now()-r.trequest,a=Math.abs(e.playbackRate);if(s>500*n.duration/a){var l=t.levels,c=Math.max(1,r.bw?r.bw/8:1e3*r.loaded/s),u=l[n.level],d=u.realBitrate?Math.max(u.realBitrate,u.bitrate):u.bitrate,h=r.total?r.total:Math.max(r.loaded,Math.round(n.duration*d/8)),f=e.currentTime,p=(h-r.loaded)/c,m=(qt.bufferInfo(e,f,t.config.maxBufferHole).end-f)/a;if(m<2*n.duration/a&&p>m){var g=void 0,v=void 0;for(v=n.level-1;v>o;v--){var y=l[v].realBitrate?Math.max(l[v].realBitrate,l[v].bitrate):l[v].bitrate;if((g=n.duration*y/(6.4*c))<m)break}g<p&&(It.b.warn("loading too slow, abort fragment loading and switch to level "+v+":fragLoadedDelay["+v+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+g.toFixed(1)+"<"+p.toFixed(1)+":"+m.toFixed(1)),t.nextLoadLevel=v,this._bwEstimator.sample(s,r.loaded),i.abort(),this.clearTimer(),t.trigger(Tt.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:r}))}}}},e.prototype.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&!isNaN(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){
var n=this.hls.levels[e.level],i=(n.loaded?n.loaded.bytes:0)+t.stats.loaded,o=(n.loaded?n.loaded.duration:0)+t.frag.duration;n.loaded={bytes:i,duration:o},n.realBitrate=Math.round(8*i/o)}if(t.frag.bitrateTest){var r=t.stats;r.tparsed=r.tbuffered=r.tload,this.onFragBuffered(t)}}},e.prototype.onFragBuffered=function(t){var e=t.stats,n=t.frag;if(!(!0===e.aborted||1!==n.loadCounter||"main"!==n.type||isNaN(n.sn)||n.bitrateTest&&e.tload!==e.tbuffered)){var i=e.tparsed-e.trequest;It.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(i,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},e.prototype.onError=function(t){switch(t.details){case At.a.FRAG_LOAD_ERROR:case At.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},e.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},e.prototype._findBestLevel=function(t,e,n,i,o,r,s,a,l){for(var c=o;c>=i;c--){var u=l[c].details,d=u?u.totalduration/u.fragments.length:e,h=!!u&&u.live,f=void 0;f=c<=t?s*n:a*n;var p=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,m=p*d/f;if(It.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(f)+"/"+p+"/"+d+"/"+r+"/"+m),f>p&&(!m||h&&!this.bitrateTestDelay||m<r))return c}return-1},ue(e,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,i=t.config,o=t.minAutoLevel,r=t.media,s=this.lastLoadedFragLevel,a=this.fragCurrent?this.fragCurrent.duration:0,l=r?r.currentTime:0,c=r&&0!==r.playbackRate?Math.abs(r.playbackRate):1,u=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,d=(qt.bufferInfo(r,l,i.maxBufferHole).end-l)/c,h=this._findBestLevel(s,a,u,o,e,d,i.abrBandWidthFactor,i.abrBandWidthUpFactor,n);if(h>=0)return h;It.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var f=a?Math.min(a,i.maxStarvationDelay):i.maxStarvationDelay,p=i.abrBandWidthFactor,m=i.abrBandWidthUpFactor;if(0===d){var g=this.bitrateTestDelay;if(g)f=(a?Math.min(a,i.maxLoadingDelay):i.maxLoadingDelay)-g,It.b.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*f)+" ms"),p=m=1}return h=this._findBestLevel(s,a,u,o,e,d+f,p,m,n),Math.max(h,0)}}]),e}(Lt),he=function(t){function e(n){B(this,e);var i=U(this,t.call(this,n,Tt.a.MEDIA_ATTACHING,Tt.a.MEDIA_DETACHING,Tt.a.MANIFEST_PARSED,Tt.a.BUFFER_RESET,Tt.a.BUFFER_APPENDING,Tt.a.BUFFER_CODECS,Tt.a.BUFFER_EOS,Tt.a.BUFFER_FLUSHING,Tt.a.LEVEL_PTS_UPDATED,Tt.a.LEVEL_UPDATED));return i._msDuration=null,i._levelDuration=null,i.onsbue=i.onSBUpdateEnd.bind(i),i.onsbe=i.onSBUpdateError.bind(i),i.pendingTracks={},i.tracks={},i}return H(e,t),e.prototype.destroy=function(){Lt.prototype.destroy.call(this)},e.prototype.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-t.start)>.1){var o=i.updating;try{i.abort()}catch(t){o=!0,It.b.warn("can not abort audio buffer: "+t)}o?this.audioTimestampOffset=t.start:(It.b.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+t.start),i.timestampOffset=t.start)}}},e.prototype.onManifestParsed=function(t){var e=t.audio,n=t.video||t.levels.length&&t.audio,i=0;t.altAudio&&(e||n)&&(i=(e?1:0)+(n?1:0),It.b.log(i+" sourceBuffer(s) expected")),this.sourceBufferNb=i},e.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var n=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(n)}},e.prototype.onMediaDetaching=function(){It.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){It.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(Tt.a.MEDIA_DETACHED)},e.prototype.onMediaSourceOpen=function(){It.b.log("media source opened"),this.hls.trigger(Tt.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},e.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},e.prototype.onMediaSourceClose=function(){It.b.log("media source closed")},e.prototype.onMediaSourceEnded=function(){It.b.log("media source ended")},e.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;It.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,n=this.segments.reduce(function(t,n){return n.parent===e?t+1:t},0);this.hls.trigger(Tt.a.BUFFER_APPENDED,{parent:e,pending:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},e.prototype.onSBUpdateError=function(t){It.b.error("sourceBuffer error:",t),this.hls.trigger(Tt.a.ERROR,{type:At.b.MEDIA_ERROR,details:At.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},e.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}},e.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;for(var i in t)if(!e[i]){var o=t[i],r=o.levelCodec||o.codec,s=o.container+";codecs="+r;It.b.log("creating sourceBuffer("+s+")");try{var a=e[i]=n.addSourceBuffer(s);a.addEventListener("updateend",this.onsbue),a.addEventListener("error",this.onsbe),this.tracks[i]={codec:r,container:o.container},o.buffer=a}catch(t){It.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(Tt.a.ERROR,{type:At.b.MEDIA_ERROR,details:At.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:s})}}this.hls.trigger(Tt.a.BUFFER_CREATED,{tracks:t})},e.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},e.prototype.onBufferAppendFail=function(t){It.b.error("sourceBuffer error:",t.event),this.hls.trigger(Tt.a.ERROR,{type:At.b.MEDIA_ERROR,details:At.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferEos=function(t){var e=this.sourceBuffer,n=t.type;for(var i in e)n&&i!==n||e[i].ended||(e[i].ended=!0,It.b.log(i+" sourceBuffer now EOS"));this.checkEos()},e.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var i=t[n];if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}It.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){It.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},e.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},e.prototype.onLevelUpdated=function(t){var e=t.details;0!==e.fragments.length&&(this._levelDuration=e.totalduration+e.fragments[0].start,this.updateMediaElementDuration())},e.prototype.updateMediaElementDuration=function(){var t=this.media,e=this.mediaSource,n=this.sourceBuffer,i=this._levelDuration;if(null!==i&&t&&e&&n&&0!==t.readyState&&"open"===e.readyState){for(var o in n)if(n[o].updating)return;null===this._msDuration&&(this._msDuration=e.duration);var r=t.duration;(i>this._msDuration&&i>r||r===1/0||isNaN(r))&&(It.b.log("Updating mediasource duration to "+i.toFixed(3)),this._msDuration=e.duration=i)}},e.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var i in n)e+=n[i].buffered.length}catch(t){It.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(Tt.a.BUFFER_FLUSHED)}},e.prototype.doAppending=function(){var t=this.hls,e=this.sourceBuffer,n=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void It.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var i=n.shift();try{var o=i.type,r=e[o];r?r.updating?n.unshift(i):(r.ended=!1,this.parent=i.parent,r.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){It.b.error("error while trying to append buffer:"+e.message),n.unshift(i);var s={type:At.b.MEDIA_ERROR,parent:i.parent};if(22===e.code)return this.segments=[],s.details=At.a.BUFFER_FULL_ERROR,s.fatal=!1,void t.trigger(Tt.a.ERROR,s);if(this.appendError?this.appendError++:this.appendError=1,s.details=At.a.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry)return It.b.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],s.fatal=!0,void t.trigger(Tt.a.ERROR,s);s.fatal=!1,t.trigger(Tt.a.ERROR,s)}}}},e.prototype.flushBuffer=function(t,e,n){var i,o,r,s,a,l,c=this.sourceBuffer;if(Object.keys(c).length){if(It.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var u in c)if(!n||u===n){if((i=c[u]).ended=!1,i.updating)return It.b.warn("cannot flush, sb updating in progress"),!1;try{for(o=0;o<i.buffered.length;o++)if(r=i.buffered.start(o),s=i.buffered.end(o),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(a=t,l=e):(a=Math.max(r,t),l=Math.min(s,e)),Math.min(l,s)-a>.5)return this.flushBufferCounter++,It.b.log("flush "+u+" ["+a+","+l+"], of ["+r+","+s+"], pos:"+this.media.currentTime),i.remove(a,l),!1}catch(t){It.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else It.b.warn("abort flushing too many retries");It.b.log("buffer flushed")}return!0},e}(Lt),fe=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),pe=function(t){function e(n){return z(this,e),W(this,t.call(this,n,Tt.a.FPS_DROP_LEVEL_CAPPING,Tt.a.MEDIA_ATTACHING,Tt.a.MANIFEST_PARSED))}return Y(e,t),e.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},e.prototype.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},e.prototype.onMediaAttaching=function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null},e.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},e.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},e.prototype.getMaxLevel=function(t){var n=this;if(!this.levels)return-1;var i=this.levels.filter(function(i,o){return e.isLevelAllowed(o,n.restrictedLevels)&&o<=t});return e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},e.isLevelAllowed=function(t){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var i=function(t,e){return!e||t.width!==e.width||t.height!==e.height},o=t.length-1,r=0;r<t.length;r+=1){var s=t[r];if((s.width>=e||s.height>=n)&&i(s,t[r+1])){o=r;break}}return o},fe(e,[{key:"mediaWidth",get:function(){var t=void 0,n=this.media;return n&&(t=n.width||n.clientWidth||n.offsetWidth,t*=e.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,n=this.media;return n&&(t=n.height||n.clientHeight||n.offsetHeight,t*=e.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}]),e}(Lt),me=function(t){function e(n){return G(this,e),q(this,t.call(this,n,Tt.a.MEDIA_ATTACHING))}return V(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},e.prototype.checkFPS=function(t,e,n){var i=performance.now();if(e){if(this.lastTime){var o=i-this.lastTime,r=n-this.lastDroppedFrames,s=e-this.lastDecodedFrames,a=1e3*r/o,l=this.hls;if(l.trigger(Tt.a.FPS_DROP,{currentDropped:r,currentDecoded:s,totalDroppedFrames:n}),a>0&&r>l.config.fpsDroppedMonitoringThreshold*s){var c=l.currentLevel;It.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=c)&&(c-=1,l.trigger(Tt.a.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:l.currentLevel}),l.autoLevelCapping=c,l.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(Lt),ge=function(){function t(e){Z(this,t),e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t,e=this.context;t="undefined"!=typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest;var n=this.stats;n.tfirst=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(t,e.url)}catch(n){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(n){return void this.callbacks.onError({code:t.status,text:n.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,i=this.stats,o=this.context,r=this.config;if(!i.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(performance.now(),i.trequest)),4===n){var s=e.status;if(s>=200&&s<300){i.tload=Math.max(i.tfirst,performance.now());var a=void 0,l=void 0;"arraybuffer"===o.responseType?l=(a=e.response).byteLength:l=(a=e.responseText).length,i.loaded=i.total=l;var c={url:e.responseURL,data:a};this.callbacks.onSuccess(c,i,o,e)}else i.retry>=r.maxRetry||s>=400&&s<499?(It.b.error(s+" while loading "+o.url),this.callbacks.onError({code:s,text:e.statusText},o,e)):(It.b.warn(s+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,r.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),r.timeout)},t.prototype.loadtimeout=function(){It.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var i=this.callbacks.onProgress;i&&i(n,this.context,null,e)},t}(),ve=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ye=function(t){function e(n){X(this,e);var i=J(this,t.call(this,n,Tt.a.MANIFEST_LOADING,Tt.a.MANIFEST_LOADED,Tt.a.AUDIO_TRACK_LOADED,Tt.a.ERROR));return i.ticks=0,i.ontick=i.tick.bind(i),i}return K(e,t),e.prototype.destroy=function(){this.cleanTimer(),Lt.prototype.destroy.call(this)},e.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){this.updateTrack(this.trackId)},e.prototype.onError=function(t){t.fatal&&t.type===At.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestLoaded=function(t){var e=this,n=t.audioTracks||[],i=!1;this.tracks=n,this.hls.trigger(Tt.a.AUDIO_TRACKS_UPDATED,{audioTracks:n});var o=0;n.forEach(function(t){return t["default"]&&!i?(e.audioTrack=o,void(i=!0)):void o++}),!1===i&&n.length&&(It.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},e.prototype.onAudioTrackLoaded=function(t){t.id<this.tracks.length&&(It.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&this.cleanTimer())},e.prototype.setAudioTrackInternal=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,It.b.log("switching to audioTrack "+t);var e=this.tracks[t],n=this.hls,i=e.type,o=e.url,r={id:t,type:i,url:o};n.trigger(Tt.a.AUDIO_TRACK_SWITCH,r),n.trigger(Tt.a.AUDIO_TRACK_SWITCHING,r);var s=e.details;!o||void 0!==s&&!0!==s.live||(It.b.log("(re)loading playlist for audioTrack "+t),n.trigger(Tt.a.AUDIO_TRACK_LOADING,{url:o,id:t}))}},e.prototype.updateTrack=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,It.b.log("updating audioTrack "+t);var e=this.tracks[t],n=e.url,i=e.details;!n||void 0!==i&&!0!==i.live||(It.b.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(Tt.a.AUDIO_TRACK_LOADING,{url:n,id:t}))}},ve(e,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}]),e}(Lt),be=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_e={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},we=function(t){function e(n){Q(this,e);var i=tt(this,t.call(this,n,Tt.a.MEDIA_ATTACHED,Tt.a.MEDIA_DETACHING,Tt.a.AUDIO_TRACKS_UPDATED,Tt.a.AUDIO_TRACK_SWITCHING,Tt.a.AUDIO_TRACK_LOADED,Tt.a.KEY_LOADED,Tt.a.FRAG_LOADED,Tt.a.FRAG_PARSING_INIT_SEGMENT,Tt.a.FRAG_PARSING_DATA,Tt.a.FRAG_PARSED,Tt.a.ERROR,Tt.a.BUFFER_CREATED,Tt.a.BUFFER_APPENDED,Tt.a.BUFFER_FLUSHED,Tt.a.INIT_PTS_FOUND));return i.config=n.config,i.audioCodecSwap=!1,i.ticks=0,i._state=_e.STOPPED,i.ontick=i.tick.bind(i),i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i}return et(e,t),e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Lt.prototype.destroy.call(this),this.state=_e.STOPPED},e.prototype.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,i=t.initPTS;"main"===e&&(this.initPTS[n]=i,this.videoTrackCC=n,It.b.log("InitPTS for cc:"+n+" found from video track:"+i),this.state===_e.WAITING_INIT_PTS&&this.tick())},e.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,e>0&&-1===t?(It.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=_e.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=_e.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=_e.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=_e.STOPPED},e.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){var t,e,n,i=this.hls,o=i.config;switch(this.state){case _e.ERROR:case _e.PAUSED:case _e.BUFFER_FLUSHING:break;case _e.STARTING:this.state=_e.WAITING_TRACK,this.loadedmetadata=!1;break;case _e.IDLE:var r=this.tracks;if(!r)break;if(!this.media&&(this.startFragRequested||!o.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var s=this.mediaBuffer?this.mediaBuffer:this.media,a=qt.bufferInfo(s,t,o.maxBufferHole),l=a.len,c=a.end,u=this.fragPrevious,d=o.maxMaxBufferLength,h=this.audioSwitch,f=this.trackId;if((l<d||h)&&f<r.length){if(void 0===(n=r[f].details)){this.state=_e.WAITING_TRACK;break}if(!h&&!n.live&&u&&u.sn===n.endSN&&(!this.media.seeking||this.media.duration-c<u.duration/2)){this.hls.trigger(Tt.a.BUFFER_EOS,{type:"audio"}),this.state=_e.ENDED;break}var p=n.fragments,m=p.length,g=p[0].start,v=p[m-1].start+p[m-1].duration,y=void 0;if(h)if(n.live&&!n.PTSKnown)It.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),c=0;else if(c=t,n.PTSKnown&&t<g){if(!(a.end>g||a.nextStart))return;It.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=g+.05}if(n.initSegment&&!n.initSegment.data)y=n.initSegment;else if(c<=g){if(y=p[0],null!==this.videoTrackCC&&y.cc!==this.videoTrackCC&&(y=w(p,this.videoTrackCC)),n.live&&y.loadIdx&&y.loadIdx===this.fragLoadIdx){var b=a.nextStart?a.nextStart:g;return It.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(b+.05)),void(this.media.currentTime=b+.05)}}else{var _=void 0,k=o.maxFragLookUpTolerance,C=u?p[u.sn-p[0].sn+1]:void 0,S=function(t){var e=Math.min(k,t.duration);return t.start+t.duration-e<=c?1:t.start-e>c&&t.start?-1:0};c<v?(c>v-k&&(k=0),_=C&&!S(C)?C:Gt.search(p,S)):_=p[m-1],_&&(y=_,g=_.start,u&&y.level===u.level&&y.sn===u.sn&&(y.sn<n.endSN?(y=p[y.sn+1-n.startSN],It.b.log("SN just loaded, load next one: "+y.sn)):y=null))}if(y)if(y.decryptdata&&null!=y.decryptdata.uri&&null==y.decryptdata.key)It.b.log("Loading key for "+y.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+f),this.state=_e.KEY_LOADING,i.trigger(Tt.a.KEY_LOADING,{frag:y});else{if(It.b.log("Loading "+y.sn+", cc: "+y.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+f+", currentTime:"+t+",bufferEnd:"+c.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,y.loadCounter){y.loadCounter++;var x=o.fragLoadingLoopThreshold;if(y.loadCounter>x&&Math.abs(this.fragLoadIdx-y.loadIdx)<x)return void i.trigger(Tt.a.ERROR,{type:At.b.MEDIA_ERROR,details:At.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:y})}else y.loadCounter=1;y.loadIdx=this.fragLoadIdx,this.fragCurrent=y,this.startFragRequested=!0,isNaN(y.sn)||(this.nextLoadPosition=y.start+y.duration),i.trigger(Tt.a.FRAG_LOADING,{frag:y}),this.state=_e.FRAG_LOADING}}break;case _e.WAITING_TRACK:(e=this.tracks[this.trackId])&&e.details&&(this.state=_e.IDLE);break;case _e.FRAG_LOADING_WAITING_RETRY:var E=performance.now(),T=this.retryDate,A=(s=this.media)&&s.seeking;(!T||E>=T||A)&&(It.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=_e.IDLE);break;case _e.WAITING_INIT_PTS:var I=this.videoTrackCC;if(void 0===this.initPTS[I])break;var D=this.waitingFragment;if(D){var L=D.frag.cc;I!==L?(e=this.tracks[this.trackId]).details&&e.details.live&&(It.b.warn("Waiting fragment CC ("+L+") does not match video track CC ("+I+")"),this.waitingFragment=null,this.state=_e.IDLE):(this.state=_e.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=_e.IDLE;break;case _e.STOPPED:case _e.FRAG_LOADING:case _e.PARSING:case _e.PARSED:case _e.ENDED:}},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(It.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.tracks;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){this.state===_e.ENDED&&(this.state=_e.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},e.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},e.prototype.onAudioTracksUpdated=function(t){It.b.log("audio tracks updated"),this.tracks=t.audioTracks},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=_e.PAUSED,this.waitingFragment=null,e?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=_e.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},e.prototype.onAudioTrackLoaded=function(t){var e=t.details,n=t.id,i=this.tracks[n],o=e.totalduration,r=0;if(It.b.log("track "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+o),e.live){var s=i.details;s&&e.fragments.length>0?(b(s,e),r=e.fragments[0].start,e.PTSKnown?It.b.log("live audio playlist sliding:"+r.toFixed(3)):It.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,It.b.log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(i.details=e,!this.startFragRequested){if(-1===this.startPosition){var a=e.startTimeOffset;isNaN(a)?this.startPosition=0:(It.b.log("start time offset found in playlist, adjust startPosition to "+a),this.startPosition=a)}this.nextLoadPosition=this.startPosition}this.state===_e.WAITING_TRACK&&(this.state=_e.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===_e.KEY_LOADING&&(this.state=_e.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===_e.FRAG_LOADING&&e&&"audio"===n.type&&n.level===e.level&&n.sn===e.sn){var i=this.tracks[this.trackId],o=i.details,r=o.totalduration,s=e.level,a=e.sn,l=e.cc,c=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",u=this.stats=t.stats;if("initSegment"===a)this.state=_e.IDLE,u.tparsed=u.tbuffered=performance.now(),o.initSegment.data=t.payload,this.hls.trigger(Tt.a.FRAG_BUFFERED,{stats:u,frag:e,id:"audio"}),this.tick();else{this.state=_e.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new Qt(this.hls,"audio"));var d=this.initPTS[l],h=o.initSegment?o.initSegment.data:[];if(o.initSegment||void 0!==d){this.pendingBuffering=!0,It.b.log("Demuxing "+a+" of ["+o.startSN+" ,"+o.endSN+"],track "+s);var f=!1;this.demuxer.push(t.payload,h,c,null,e,r,f,d)}else It.b.log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+a+" of ["+o.startSN+" ,"+o.endSN+"],track "+s),this.waitingFragment=t,this.state=_e.WAITING_INIT_PTS}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===_e.PARSING){var i=t.tracks,o=void 0;if(i.video&&delete i.video,o=i.audio){o.levelCodec=o.codec,o.id=t.id,this.hls.trigger(Tt.a.BUFFER_CODECS,i),It.b.log("audio track:audio,container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var r=o.initSegment;if(r){var s={type:"audio",data:r,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[s]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Tt.a.BUFFER_APPENDING,s))}this.tick()}}},e.prototype.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"audio"===t.id&&"audio"===t.type&&i.sn===n.sn&&i.level===n.level&&this.state===_e.PARSING){var o=this.trackId,r=this.tracks[o],s=this.hls;isNaN(t.endPTS)&&(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),It.b.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),y(r.details,n,t.startPTS,t.endPTS);var a=this.audioSwitch,l=this.media,c=!1;if(a&&l)if(l.readyState){var u=l.currentTime;It.b.log("switching audio track : currentTime:"+u),u>=t.startPTS&&(It.b.log("switching audio track : flushing all audio"),this.state=_e.BUFFER_FLUSHING,s.trigger(Tt.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),c=!0,this.audioSwitch=!1,s.trigger(Tt.a.AUDIO_TRACK_SWITCHED,{id:o}))}else this.audioSwitch=!1,s.trigger(Tt.a.AUDIO_TRACK_SWITCHED,{id:o});var d=this.pendingData;this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&d.push({type:t.type,data:e,parent:"audio",content:"data"})}),!c&&d.length&&(d.forEach(function(t){e.state===_e.PARSING&&(e.pendingBuffering=!0,e.hls.trigger(Tt.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===_e.PARSING&&(this.stats.tparsed=performance.now(),this.state=_e.PARSED,this._checkAppendedParsed())},e.prototype.onBufferCreated=function(t){var e=t.tracks.audio
;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0)},e.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==_e.PARSING&&e!==_e.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==_e.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=performance.now(),n.trigger(Tt.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;It.b.log("audio buffered : "+te.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(Tt.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=_e.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case At.a.FRAG_LOAD_ERROR:case At.a.FRAG_LOAD_TIMEOUT:if(!t.fatal){var n=this.fragLoadError;n?n++:n=1;var i=this.config;if(n<=i.fragLoadingMaxRetry){this.fragLoadError=n,e.loadCounter=0;var o=Math.min(Math.pow(2,n-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);It.b.warn("audioStreamController: frag loading failed, retry in "+o+" ms"),this.retryDate=performance.now()+o,this.state=_e.FRAG_LOADING_WAITING_RETRY}else It.b.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=_e.ERROR}break;case At.a.FRAG_LOOP_LOADING_ERROR:case At.a.AUDIO_TRACK_LOAD_ERROR:case At.a.AUDIO_TRACK_LOAD_TIMEOUT:case At.a.KEY_LOAD_ERROR:case At.a.KEY_LOAD_TIMEOUT:this.state!==_e.ERROR&&(this.state=t.fatal?_e.ERROR:_e.IDLE,It.b.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case At.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===_e.PARSING||this.state===_e.PARSED)){var r=this.mediaBuffer,s=this.media.currentTime;if(r&&qt.isBuffered(r,s)&&qt.isBuffered(r,s+.5)){var a=this.config;a.maxMaxBufferLength>=a.maxBufferLength&&(a.maxMaxBufferLength/=2,It.b.warn("audio:reduce max buffer length to "+a.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*a.fragLoadingLoopThreshold),this.state=_e.IDLE}else It.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=_e.BUFFER_FLUSHING,this.hls.trigger(Tt.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},e.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(It.b.log("appending pending audio data on Buffer Flushed"),e.forEach(function(e){t.hls.trigger(Tt.a.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=_e.PARSED):(this.state=_e.IDLE,this.fragPrevious=null,this.tick())},be(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,It.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}(Lt),ke=function(){function t(t){return"string"==typeof t&&(!!r[t.toLowerCase()]&&t.toLowerCase())}function e(t){return"string"==typeof t&&(!!s[t.toLowerCase()]&&t.toLowerCase())}function n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function i(i,r,s){var a=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),c={};l?a=document.createElement("custom"):c.enumerable=!0,a.hasBeenReset=!1;var u="",d=!1,h=i,f=r,p=s,m=null,g="",v=!0,y="auto",b="start",_=50,w="middle",k=50,C="middle";if(Object.defineProperty(a,"id",n({},c,{get:function(){return u},set:function(t){u=""+t}})),Object.defineProperty(a,"pauseOnExit",n({},c,{get:function(){return d},set:function(t){d=!!t}})),Object.defineProperty(a,"startTime",n({},c,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",n({},c,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",n({},c,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",n({},c,{get:function(){return m},set:function(t){m=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",n({},c,{get:function(){return g},set:function(e){var n=t(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");g=n,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",n({},c,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",n({},c,{get:function(){return y},set:function(t){if("number"!=typeof t&&t!==o)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",n({},c,{get:function(){return b},set:function(t){var n=e(t);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");b=n,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",n({},c,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",n({},c,{get:function(){return w},set:function(t){var n=e(t);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");w=n,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",n({},c,{get:function(){return k},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");k=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",n({},c,{get:function(){return C},set:function(t){var n=e(t);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");C=n,this.hasBeenReset=!0}})),a.displayState=void 0,l)return a}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var o="auto",r={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0};return i.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},i}(),Ce=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};ot.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var Se=new ke(0,0,0),xe="middle"===Se.align?"middle":"center";nt.prototype={parse:function(t){function e(){var t=i.buffer,e=0;for(t=at(t);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,i.buffer=t.substr(e),n}function n(t){rt(t,function(t,e){switch(t){case"Region":console.log("parse region",e)}},/:/)}var i=this;t&&(i.buffer+=i.decoder.decode(t,{stream:!0}));try{var o;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var r=(o=e()).match(/^WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");i.state="HEADER"}for(var s=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(s?s=!1:o=e(),i.state){case"HEADER":/:/.test(o)?n(o):o||(i.state="ID");continue;case"NOTE":o||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){i.state="NOTE";break}if(!o)continue;if(i.cue=new ke(0,0,""),i.state="CUE",-1===o.indexOf("-->")){i.cue.id=o;continue}case"CUE":try{st(o,i.cue,i.regionList)}catch(t){i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var a=-1!==o.indexOf("-->");if(!o||a&&(s=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=o;continue;case"BADCUE":o||(i.state="ID");continue}}}catch(t){"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return t.onflush&&t.onflush(),this}};var Ee=nt,Te={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Ae=function(t){var e=t;return Te.hasOwnProperty(t)&&(e=Te[t]),String.fromCharCode(e)},Ie=15,De=100,Le={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Re={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Pe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Me={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Ne=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],Oe={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){var n=this.verboseFilter[t];this.verboseLevel>=n&&console.log(this.time+" ["+t+"] "+e)}},je=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},Fe=function(){function t(e,n,i,o,r){ct(this,t),this.foreground=e||"white",this.underline=n||!1,this.italics=i||!1,this.background=o||"black",this.flash=r||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var i=e[n];t.hasOwnProperty(i)&&(this[i]=t[i])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),$e=function(){function t(e,n,i,o,r,s){ct(this,t),this.uchar=e||" ",this.penState=new Fe(n,i,o,r,s)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),Be=function(){function t(){ct(this,t),this.chars=[];for(var e=0;e<De;e++)this.chars.push(new $e);this.pos=0,this.currPenState=new Fe}return t.prototype.equals=function(t){for(var e=!0,n=0;n<De;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<De;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<De;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(Oe.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>De&&(Oe.log("ERROR","Too large cursor position "+this.pos),this.pos=De)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=Ae(t);return this.pos>=De?void Oe.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),void this.moveCursor(1))},t.prototype.clearFromPos=function(t){var e;for(e=t;e<De;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,n=0;n<De;n++){var i=this.chars[n].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),Ue=function(){function t(){ct(this,t),this.rows=[];for(var e=0;e<Ie;e++)this.rows.push(new Be);this.currRow=Ie-1,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<Ie;t++)this.rows[t].clear();this.currRow=Ie-1},t.prototype.equals=function(t){for(var e=!0,n=0;n<Ie;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<Ie;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<Ie;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){Oe.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){Oe.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<Ie;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){var r=o.rows[i].cueStartTime;if(r&&r<Oe.time)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(o.rows[i+s])}}this.currRow=e;var a=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,c=Math.max(l-1,0);a.setCursor(t.indent),t.color=a.chars[c].penState.foreground}var u={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(u)},t.prototype.setBkgData=function(t){Oe.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null!==this.nrRollUpRows){Oe.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),Oe.log("INFO","Rolling up")}else Oe.log("DEBUG","roll_up but nrRollUpRows not set yet")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],n="",i=-1,o=0;o<Ie;o++){var r=this.rows[o].getTextString();r&&(i=o+1,t?e.push("Row "+i+": '"+r+"'"):e.push(r.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},t.prototype.getTextAndFormat=function(){return this.rows},t}(),He=function(){function t(e,n){ct(this,t),this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Ue,this.nonDisplayedMemory=new Ue,this.lastOutputScreen=new Ue,this.currRollUpRow=this.displayedMemory.rows[Ie-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[Ie-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,Oe.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";Oe.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(Oe.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){Oe.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){Oe.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){Oe.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){Oe.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){Oe.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){Oe.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){Oe.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){Oe.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){Oe.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},t.prototype.ccCR=function(){Oe.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},t.prototype.ccENM=function(){Oe.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(Oe.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,Oe.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},t.prototype.ccTO=function(t){Oe.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=i[n]}Oe.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(){var t=Oe.time;null!==t&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(t,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),ze=function(){function t(e,n,i){ct(this,t),this.field=e||1,this.outputs=[n,i],this.channels=[new He(1,n),new He(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,"char":0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var n,i,o,r=!1;this.lastTime=t,Oe.setTime(t);for(var s=0;s<e.length;s+=2)if(i=127&e[s],o=127&e[s+1],0!==i||0!==o){if(Oe.log("DATA","["+je([e[s],e[s+1]])+"] -> ("+je([i,o])+")"),(n=this.parseCmd(i,o))||(n=this.parseMidrow(i,o)),n||(n=this.parsePAC(i,o)),n||(n=this.parseBackgroundAttributes(i,o)),!n&&(r=this.parseChars(i,o)))if(this.currChNr&&this.currChNr>=0){this.channels[this.currChNr-1].insertChars(r)}else Oe.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:r?this.dataCounters["char"]+=2:(this.dataCounters.other+=2,Oe.log("WARNING","Couldn't parse cleaned data "+je([i,o])+" orig: "+je([e[s],e[s+1]])))}else this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var n=null;if(!((20===t||28===t)&&32<=e&&e<=47)&&!((23===t||31===t)&&33<=e&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,Oe.log("DEBUG","Repeated command ("+je([t,e])+") is dropped"),!0;n=20===t||23===t?1:2;var i=this.channels[n-1];return 20===t||28===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},t.prototype.parseMidrow=function(t,e){var n=null;return(17===t||25===t)&&32<=e&&e<=47&&((n=17===t?1:2)!==this.currChNr?(Oe.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(e),Oe.log("DEBUG","MIDROW ("+je([t,e])+")"),!0))},t.prototype.parsePAC=function(t,e){var n=null,i=null;if(!((17<=t&&t<=23||25<=t&&t<=31)&&64<=e&&e<=127)&&!((16===t||24===t)&&64<=e&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=t<=23?1:2,i=64<=e&&e<=95?1===n?Le[t]:Pe[t]:1===n?Re[t]:Me[t];var o=this.interpretPAC(i,e);return this.channels[n-1].setPAC(o),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},t.prototype.interpretPAC=function(t,e){var n=e,i={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,i.underline=1==(1&n),n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((n-16)/2),i},t.prototype.parseChars=function(t,e){var n=null,i=null,o=null;if(t>=25?(n=2,o=t-8):(n=1,o=t),17<=o&&o<=19){var r=e;r=17===o?e+80:18===o?e+112:e+144,Oe.log("INFO","Special char '"+Ae(r)+"' in channel "+n),i=[r]}else 32<=t&&t<=127&&(i=0===e?[t]:[t,e]);if(i){var s=je(i);Oe.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},t.prototype.parseBackgroundAttributes=function(t,e){var n,i,o,r;return!(!((16===t||24===t)&&32<=e&&e<=47)&&!((23===t||31===t)&&45<=e&&e<=47)||(n={},16===t||24===t?(i=Math.floor((e-32)/2),n.background=Ne[i],e%2==1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0)),o=t<24?1:2,r=this.channels[o-1],r.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,0))},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}(),We=function(t,e,n){return t.substr(n||0,e.length)===e},Ye=function(t){var e=parseInt(t.substr(-3)),n=parseInt(t.substr(-6,2)),i=parseInt(t.substr(-9,2)),o=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;return isNaN(e)||isNaN(n)||isNaN(i)||isNaN(o)?-1:(e+=1e3*n,e+=6e4*i,e+=36e5*o)},Ge=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()},qe=function(t,e,n){var i=t[e],o=t[i.prevCC];if(!o||!o["new"]&&i["new"])return t.ccOffset=t.presentationOffset=i.start,void(i["new"]=!1);for(;o&&o["new"];)t.ccOffset+=i.start-o.start,i["new"]=!1,o=t[(i=o).prevCC];t.presentationOffset=n},Ve={parse:function(t,e,n,i,o,r){var s=/\r\n|\n\r|\n|\r/g,a=String.fromCharCode.apply(null,new Uint8Array(t)).trim().replace(s,"\n").split("\n"),l="00:00.000",c=0,u=0,d=0,h=[],f=void 0,p=!0,m=new Ee;m.oncue=function(t){var e=n[i],o=n.ccOffset;e&&e["new"]&&(void 0!==u?o=n.ccOffset=e.start:qe(n,i,d)),d&&(o=d+n.ccOffset-n.presentationOffset),t.startTime+=o-u,t.endTime+=o-u,t.id=Ge(t.startTime)+Ge(t.endTime)+Ge(t.text),t.text=decodeURIComponent(escape(t.text)),t.endTime>0&&h.push(t)},m.onparsingerror=function(t){f=t},m.onflush=function(){return f&&r?void r(f):void o(h)},a.forEach(function(t){if(p){if(We(t,"X-TIMESTAMP-MAP=")){p=!1,t.substr(16).split(",").forEach(function(t){We(t,"LOCAL:")?l=t.substr(6):We(t,"MPEGTS:")&&(c=parseInt(t.substr(7)))});try{c-=e=e<0?e+8589934592:e,u=Ye(l)/1e3,d=c/9e4,-1===u&&(f=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){f=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(p=!1)}m.parse(t+"\n")}),m.flush()}},Ze=function(t){function e(n){ut(this,e);var i=dt(this,t.call(this,n,Tt.a.MEDIA_ATTACHING,Tt.a.MEDIA_DETACHING,Tt.a.FRAG_PARSING_USERDATA,Tt.a.MANIFEST_LOADING,Tt.a.MANIFEST_LOADED,Tt.a.FRAG_LOADED,Tt.a.LEVEL_SWITCHING,Tt.a.INIT_PTS_FOUND));if(i.hls=n,i.config=n.config,i.enabled=!0,i.Cues=n.config.cueHandler,i.textTracks=[],i.tracks=[],i.unparsedVttFrags=[],i.initPTS=void 0,i.cueRanges=[],i.config.enableCEA708Captions){var o=i,r=function(t,e){var n=null;try{n=new window.Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)},s={newCue:function(t,e,n){if(!o.textTrack1){var i=o.getExistingTrack("1");if(i)o.textTrack1=i,ft(o.textTrack1),r(o.textTrack1,o.media);else{var s=o.createTextTrack("captions",o.config.captionsTextTrack1Label,o.config.captionsTextTrack1LanguageCode);s&&(s.textTrack1=!0,o.textTrack1=s)}}o.addCues("textTrack1",t,e,n)}},a={newCue:function(t,e,n){if(!o.textTrack2){var i=o.getExistingTrack("2");if(i)o.textTrack2=i,ft(o.textTrack2),r(o.textTrack2,o.media);else{var s=o.createTextTrack("captions",o.config.captionsTextTrack2Label,o.config.captionsTextTrack1LanguageCode);s&&(s.textTrack2=!0,o.textTrack2=s)}}o.addCues("textTrack2",t,e,n)}};i.cea608Parser=new ze(0,s,a)}return i}return ht(e,t),e.prototype.addCues=function(t,e,n,i){for(var o=this.cueRanges,r=!1,s=o.length;s--;){var a=o[s],l=mt(a[0],a[1],e,n);if(l>=0&&(a[0]=Math.min(a[0],e),a[1]=Math.max(a[1],n),r=!0,l/(n-e)>.5))return}r||o.push([e,n]),this.Cues.newCue(this[t],e,n,i)},e.prototype.onInitPtsFound=function(t){var e=this;"undefined"==typeof this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(t){e.onFragLoaded(t)}),this.unparsedVttFrags=[])},e.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var i=e.textTracks[n];if(!0===i["textTrack"+t])return i}return null},e.prototype.createTextTrack=function(t,e,n){var i=this.media;if(i)return i.addTextTrack(t,e,n)},e.prototype.destroy=function(){Lt.prototype.destroy.call(this)},e.prototype.onMediaAttaching=function(t){this.media=t.media},e.prototype.onMediaDetaching=function(){ft(this.textTrack1),ft(this.textTrack2)},e.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0};var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)ft(e[n])}},e.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,i){var o=void 0;if(i<n.length){var r=n[i];pt(r,t)&&(o=r)}o||(o=e.createTextTrack("subtitles",t.name,t.lang)),o.mode=t["default"]?"showing":"hidden",e.textTracks.push(o)})}},e.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},e.prototype.onFragLoaded=function(t){var e=t.frag,n=t.payload;if("main"===e.type){var i=e.sn;if(i!==this.lastSn+1){var o=this.cea608Parser;o&&o.reset()}this.lastSn=i}else if("subtitle"===e.type)if(n.byteLength){if("undefined"==typeof this.initPTS)return void this.unparsedVttFrags.push(t);var r=this.vttCCs;r[e.cc]||(r[e.cc]={start:e.start,prevCC:this.prevCC,"new":!0},this.prevCC=e.cc);var s=this.textTracks,a=this.hls;Ve.parse(n,this.initPTS,r,e.cc,function(t){var n=s[e.trackId];t.forEach(function(t){if(!n.cues.getCueById(t.id))try{n.addCue(t)}catch(i){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,n.addCue(e)}}),a.trigger(Tt.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},function(t){It.b.log("Failed to parse VTT cue: "+t),a.trigger(Tt.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})}else this.hls.trigger(Tt.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},e.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var n=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,n)}},e.prototype.extractCea608Data=function(t){for(var e,n,i,o=31&t[0],r=2,s=[],a=0;a<o;a++)e=t[r++],n=127&t[r++],i=127&t[r++],0===n&&0===i||0!=(4&e)&&0===(3&e)&&(s.push(n),s.push(i));return s},e}(Lt),Xe=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Je=function(t){function e(n){gt(this,e);var i=vt(this,t.call(this,n,Tt.a.MEDIA_ATTACHED,Tt.a.MEDIA_DETACHING,Tt.a.MANIFEST_LOADING,Tt.a.MANIFEST_LOADED,Tt.a.SUBTITLE_TRACK_LOADED));return i.tracks=[],i.trackId=-1,i.media=void 0,i}return yt(e,t),e.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=bt(this.media.textTracks),n=0;n<e.length;n++)"showing"===e[n].mode&&(t=n);this.subtitleTrack=t}},e.prototype.destroy=function(){Lt.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},e.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestLoaded=function(t){var e=this,n=t.subtitles||[];this.tracks=n,this.trackId=-1,this.hls.trigger(Tt.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach(function(t){t["default"]&&(e.subtitleTrack=t.id,!0)})},e.prototype.onTick=function(){var t=this.trackId,e=this.tracks[t];if(e){var n=e.details;void 0!==n&&!0!==n.live||(It.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(Tt.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},e.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(It.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(function(){e.onTick()},1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},e.prototype.setSubtitleTrackInternal=function(t){if(t>=0&&t<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=t,It.b.log("switching to subtitle track "+t);var e=this.tracks[t];this.hls.trigger(Tt.a.SUBTITLE_TRACK_SWITCH,{id:t});var n=e.details;void 0!==n&&!0!==n.live||(It.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(Tt.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},Xe(e,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&this.setSubtitleTrackInternal(t)}}]),e}(Lt),Ke=function(t){function e(n){_t(this,e)
;var i=wt(this,t.call(this,n,Tt.a.ERROR,Tt.a.SUBTITLE_TRACKS_UPDATED,Tt.a.SUBTITLE_TRACK_SWITCH,Tt.a.SUBTITLE_TRACK_LOADED,Tt.a.SUBTITLE_FRAG_PROCESSED));return i.config=n.config,i.vttFragSNsProcessed={},i.vttFragQueues=void 0,i.currentlyProcessing=null,i.currentTrackId=-1,i}return kt(e,t),e.prototype.destroy=function(){Lt.prototype.destroy.call(this)},e.prototype.clearVttFragQueues=function(){var t=this;this.vttFragQueues={},this.tracks.forEach(function(e){t.vttFragQueues[e.id]=[]})},e.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.hls.trigger(Tt.a.FRAG_LOADING,{frag:t})}},e.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.nextFrag()},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"!==e.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;It.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(t){e.vttFragSNsProcessed[t.id]=[]})},e.prototype.onSubtitleTrackSwitch=function(t){this.currentTrackId=t.id,this.clearVttFragQueues()},e.prototype.onSubtitleTrackLoaded=function(t){var e=this.vttFragSNsProcessed[t.id],n=this.vttFragQueues[t.id],i=this.currentlyProcessing?this.currentlyProcessing.sn:-1,o=function(t){return e.indexOf(t.sn)>-1},r=function(t){return n.some(function(e){return e.sn===t.sn})};t.details.fragments.forEach(function(e){o(e)||e.sn===i||r(e)||(e.trackId=t.id,n.push(e))}),this.nextFrag()},e}(Lt),Qe={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:ge,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:de,bufferController:he,capLevelController:pe,fpsController:me,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};Qe.subtitleStreamController=Ke,Qe.subtitleTrackController=Je,Qe.timelineController=Ze,Qe.cueHandler=St,Qe.enableCEA708Captions=!0,Qe.enableWebVTT=!0,Qe.captionsTextTrack1Label="English",Qe.captionsTextTrack1LanguageCode="en",Qe.captionsTextTrack2Label="Spanish",Qe.captionsTextTrack2LanguageCode="es",Qe.audioStreamController=we,Qe.audioTrackController=ye;var tn=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),en=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ct(this,t);var i=t.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var o in i)o in n||(n[o]=i[o]);if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(n.liveMaxLatencyDuration<=n.liveSyncDuration||void 0===n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(It.a)(n.debug),this.config=n,this._autoLevelCapping=-1;var r=this.observer=new Xt.a;r.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.emit.apply(r,[t,t].concat(n))},r.off=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.removeListener.apply(r,[t].concat(n))},this.on=r.on.bind(r),this.off=r.off.bind(r),this.trigger=r.trigger.bind(r);var s=this.abrController=new n.abrController(this),a=new n.bufferController(this),l=new n.capLevelController(this),c=new n.fpsController(this),u=new zt(this),d=new Wt(this),h=new Yt(this),f=new ae(this),p=[this.levelController=new re(this),this.streamController=new ie(this)],m=n.audioStreamController;m&&p.push(new m(this)),this.networkControllers=p;var g=[u,d,h,s,a,l,c,f];if(m=n.audioTrackController){var v=new m(this);this.audioTrackController=v,g.push(v)}if(m=n.subtitleTrackController){var y=new m(this);this.subtitleTrackController=y,g.push(y)}[n.subtitleStreamController,n.timelineController].forEach(function(t){t&&g.push(new t(e))}),this.coreComponents=g}return t.isSupported=function(){var t=window.MediaSource=window.MediaSource||window.WebKitMediaSource,e=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return n&&i},tn(t,null,[{key:"version",get:function(){return"0.8.1"}},{key:"Events",get:function(){return Tt.a}},{key:"ErrorTypes",get:function(){return At.b}},{key:"ErrorDetails",get:function(){return At.a}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:Qe},set:function(e){t.defaultConfig=e}}]),t.prototype.destroy=function(){It.b.log("destroy"),this.trigger(Tt.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(t){It.b.log("attachMedia"),this.media=t,this.trigger(Tt.a.MEDIA_ATTACHING,{media:t})},t.prototype.detachMedia=function(){It.b.log("detachMedia"),this.trigger(Tt.a.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(t){t=Et.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),It.b.log("loadSource:"+t),this.url=t,this.trigger(Tt.a.MANIFEST_LOADING,{url:t})},t.prototype.startLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;It.b.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},t.prototype.stopLoad=function(){It.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},t.prototype.swapAudioCodec=function(){It.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){It.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},tn(t,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){It.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){It.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){It.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){It.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){It.b.log("set startLevel:"+t);var e=this;-1!==t&&(t=Math.max(t,e.minAutoLevel)),e.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){It.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this,e=t.levels,n=t.config.minAutoBitrate,i=e?e.length:0,o=0;o<i;o++){if((e[o].realBitrate?Math.max(e[o].realBitrate,e[o].bitrate):e[o].bitrate)>n)return o}return 0}},{key:"maxAutoLevel",get:function(){var t=this,e=t.levels,n=t.autoLevelCapping;return-1===n&&e&&e.length?e.length-1:n}},{key:"nextAutoLevel",get:function(){var t=this;return Math.min(Math.max(t.abrController.nextAutoLevel,t.minAutoLevel),t.maxAutoLevel)},set:function(t){var e=this;e.abrController.nextAutoLevel=Math.max(e.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}}]),t}();e["default"]=en},function(t,e,n){function i(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e.oe=function(t){throw console.error(t),t};var i=e(e.s=ENTRY_MODULE);return i["default"]||i}function o(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function r(t){var e=[],n=t.toString(),i=n.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!i)return e;for(var r,s=i[1],a=new RegExp("(\\\\n|\\W)"+o(s)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");r=a.exec(n);)e.push(r[3]);return e}function s(t,e){for(var n=[e],i=[],o={};n.length;){var s=n.pop();if(!o[s]&&t[s]){o[s]=!0,i.push(s);var a=r(t[s]);n=n.concat(a)}}return i}t.exports=function(t,e){e=e||{};var o=n.m,r=e.all?Object.keys(o):s(o,t),a="("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+r.map(function(t){return JSON.stringify(t)+": "+o[t].toString()}).join(",")+"})(self);",l=new window.Blob([a],{type:"text/javascript"});if(e.bare)return l;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),u=new window.Worker(c);return u.objectURL=c,u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),o=n(1),r=n(0),s=n(4),a=n.n(s),l=function(t){var e=new a.a;e.trigger=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];e.emit.apply(e,[t,t].concat(i))},e.off=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];e.removeListener.apply(e,[t].concat(i))};var n=function(e,n){t.postMessage({event:e,data:n})};t.addEventListener("message",function(o){var s=o.data;switch(s.cmd){case"init":var a=JSON.parse(s.config);t.demuxer=new i.a(e,s.typeSupported,a,s.vendor);try{Object(r.a)(!0===a.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}n("init",null);break;case"demux":t.demuxer.push(s.data,s.decryptdata,s.initSegment,s.audioCodec,s.videoCodec,s.timeOffset,s.discontinuity,s.trackSwitch,s.contiguous,s.duration,s.accurateTimeOffset,s.defaultInitPTS)}}),e.on(o.a.FRAG_DECRYPTED,n),e.on(o.a.FRAG_PARSING_INIT_SEGMENT,n),e.on(o.a.FRAG_PARSED,n),e.on(o.a.ERROR,n),e.on(o.a.FRAG_PARSING_METADATA,n),e.on(o.a.FRAG_PARSING_USERDATA,n),e.on(o.a.INIT_PTS_FOUND,n),e.on(o.a.FRAG_PARSING_DATA,function(e,n){var i=[],o={event:e,data:n};n.data1&&(o.data1=n.data1.buffer,i.push(n.data1.buffer),delete n.data1),n.data2&&(o.data2=n.data2.buffer,i.push(n.data2.buffer),delete n.data2),t.postMessage(o,i)})};e["default"]=l}])["default"]},t.exports=e()},function(t,e,n){var i=n(4);t.exports={TextEncoder:i.TextEncoder,TextDecoder:i.TextDecoder}},function(t){!function(e){"use strict";function n(t,e,n){return e<=t&&t<=n}function i(t,e){return-1!==t.indexOf(e)}function o(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function r(t){for(var e=String(t),n=e.length,i=0,o=[];i<n;){var r=e.charCodeAt(i);if(r<55296||r>57343)o.push(r);else if(56320<=r&&r<=57343)o.push(65533);else if(55296<=r&&r<=56319)if(i===n-1)o.push(65533);else{var s=e.charCodeAt(i+1);if(56320<=s&&s<=57343){var a=1023&r,l=1023&s;o.push(65536+(a<<10)+l),i+=1}else o.push(65533)}i+=1}return o}function s(t){for(var e="",n=0;n<t.length;++n){var i=t[n];i<=65535?e+=String.fromCharCode(i):(i-=65536,e+=String.fromCharCode(55296+(i>>10),56320+(1023&i)))}return e}function a(t){return 0<=t&&t<=127}function l(t){this.tokens=[].slice.call(t),this.tokens.reverse()}function c(t,e){if(t)throw TypeError("Decoder error");return e||65533}function u(t){throw TypeError("The code point "+t+" could not be encoded.")}function d(){}function h(){}function f(t){return t=String(t).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(Z,t)?Z[t]:null}function p(t,e){return e&&e[t]||null}function m(t,e){var n=e.indexOf(t);return-1===n?null:n}function g(t){if(!("encoding-indexes"in e))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return e["encoding-indexes"][t]}function v(t){if(t>39419&&t<189e3||t>1237575)return null;if(7457===t)return 59335;var e,n=0,i=0,o=g("gb18030-ranges");for(e=0;e<o.length;++e){var r=o[e];if(!(r[0]<=t))break;n=r[0],i=r[1]}return i+t-n}function y(t){if(59335===t)return 7457;var e,n=0,i=0,o=g("gb18030-ranges");for(e=0;e<o.length;++e){var r=o[e];if(!(r[1]<=t))break;n=r[1],i=r[0]}return i+t-n}function b(t){return(X=X||g("jis0208").map(function(t,e){return n(e,8272,8835)?null:t})).indexOf(t)}function _(t){var e=J=J||g("big5").map(function(t,e){return e<5024?null:t});return 9552===t||9566===t||9569===t||9578===t||21313===t||21317===t?e.lastIndexOf(t):m(t,e)}function w(t,e){if(!(this instanceof w))throw TypeError("Called as a function. Did you forget 'new'?");t=void 0!==t?String(t):tt,e=o(e),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var n=f(t);if(null===n||"replacement"===n.name)throw RangeError("Unknown encoding: "+t);if(!Q[n.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");var i=this;return i._encoding=n,Boolean(e.fatal)&&(i._error_mode="fatal"),Boolean(e.ignoreBOM)&&(i._ignoreBOM=!0),Object.defineProperty||(this.encoding=i._encoding.name.toLowerCase(),this.fatal="fatal"===i._error_mode,this.ignoreBOM=i._ignoreBOM),i}function k(t,n){if(!(this instanceof k))throw TypeError("Called as a function. Did you forget 'new'?");n=o(n),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(n.fatal)?"fatal":"replacement";var i=this;if(Boolean(n.NONSTANDARD_allowLegacyEncoding)){var r=f(t=void 0!==t?String(t):tt);if(null===r||"replacement"===r.name)throw RangeError("Unknown encoding: "+t);if(!K[r.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");i._encoding=r}else i._encoding=f("utf-8"),void 0!==t&&"console"in e&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=i._encoding.name.toLowerCase()),i}function C(t){var e=t.fatal,i=0,o=0,r=0,s=128,a=191;this.handler=function(t,l){if(l===G&&0!==r)return r=0,c(e);if(l===G)return q;if(0===r){if(n(l,0,127))return l;if(n(l,194,223))r=1,i=31&l;else if(n(l,224,239))224===l&&(s=160),237===l&&(a=159),r=2,i=15&l;else{if(!n(l,240,244))return c(e);240===l&&(s=144),244===l&&(a=143),r=3,i=7&l}return null}if(!n(l,s,a))return i=r=o=0,s=128,a=191,t.prepend(l),c(e);if(s=128,a=191,i=i<<6|63&l,(o+=1)!==r)return null;var u=i;return i=r=o=0,u}}function S(t){t.fatal,this.handler=function(t,e){if(e===G)return q;if(Y(e))return e;var i,o;n(e,128,2047)?(i=1,o=192):n(e,2048,65535)?(i=2,o=224):n(e,65536,1114111)&&(i=3,o=240);for(var r=[(e>>6*i)+o];i>0;){var s=e>>6*(i-1);r.push(128|63&s),i-=1}return r}}function x(t,e){var n=e.fatal;this.handler=function(e,i){if(i===G)return q;if(a(i))return i;var o=t[i-128];return null===o?c(n):o}}function E(t,e){e.fatal,this.handler=function(e,n){if(n===G)return q;if(Y(n))return n;var i=m(n,t);return null===i&&u(n),i+128}}function T(t){var e=t.fatal,i=0,o=0,r=0;this.handler=function(t,s){if(s===G&&0===i&&0===o&&0===r)return q;var l;if(s!==G||0===i&&0===o&&0===r||(i=0,o=0,r=0,c(e)),0!==r){l=null,n(s,48,57)&&(l=v(10*(126*(10*(i-129)+o-48)+r-129)+s-48));var u=[o,r,s];return i=0,o=0,r=0,null===l?(t.prepend(u),c(e)):l}if(0!==o)return n(s,129,254)?(r=s,null):(t.prepend([o,s]),i=0,o=0,c(e));if(0!==i){if(n(s,48,57))return o=s,null;var d=i,h=null;i=0;var f=s<127?64:65;return(n(s,64,126)||n(s,128,254))&&(h=190*(d-129)+(s-f)),null===(l=null===h?null:p(h,g("gb18030")))&&a(s)&&t.prepend(s),null===l?c(e):l}return a(s)?s:128===s?8364:n(s,129,254)?(i=s,null):c(e)}}function A(t,e){t.fatal,this.handler=function(t,n){if(n===G)return q;if(Y(n))return n;if(58853===n)return u(n);if(e&&8364===n)return 128;var i=m(n,g("gb18030"));if(null!==i){var o=i%190;return[W(i/190)+129,o+(o<63?64:65)]}if(e)return u(n);i=y(n);var r=W(i/10/126/10),s=W((i-=10*r*126*10)/10/126),a=W((i-=10*s*126)/10);return[r+129,s+48,a+129,i-10*a+48]}}function I(t){var e=t.fatal,i=0;this.handler=function(t,o){if(o===G&&0!==i)return i=0,c(e);if(o===G&&0===i)return q;if(0!==i){var r=i,s=null;i=0;var l=o<127?64:98;switch((n(o,64,126)||n(o,161,254))&&(s=157*(r-129)+(o-l)),s){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var u=null===s?null:p(s,g("big5"));return null===u&&a(o)&&t.prepend(o),null===u?c(e):u}return a(o)?o:n(o,129,254)?(i=o,null):c(e)}}function D(t){t.fatal,this.handler=function(t,e){if(e===G)return q;if(Y(e))return e;var n=_(e);if(null===n)return u(e);var i=W(n/157)+129;if(i<161)return u(e);var o=n%157;return[i,o+(o<63?64:98)]}}function L(t){var e=t.fatal,i=!1,o=0;this.handler=function(t,r){if(r===G&&0!==o)return o=0,c(e);if(r===G&&0===o)return q;if(142===o&&n(r,161,223))return o=0,65216+r;if(143===o&&n(r,161,254))return i=!0,o=r,null;if(0!==o){var s=o;o=0;var l=null;return n(s,161,254)&&n(r,161,254)&&(l=p(94*(s-161)+(r-161),g(i?"jis0212":"jis0208"))),i=!1,n(r,161,254)||t.prepend(r),null===l?c(e):l}return a(r)?r:142===r||143===r||n(r,161,254)?(o=r,null):c(e)}}function R(t){t.fatal,this.handler=function(t,e){if(e===G)return q;if(Y(e))return e;if(165===e)return 92;if(8254===e)return 126;if(n(e,65377,65439))return[142,e-65377+161];8722===e&&(e=65293);var i=m(e,g("jis0208"));return null===i?u(e):[W(i/94)+161,i%94+161]}}function P(t){var e=t.fatal,i={ASCII:0,Roman:1,Katakana:2,LeadByte:3,TrailByte:4,EscapeStart:5,Escape:6},o=i.ASCII,r=i.ASCII,s=0,a=!1;this.handler=function(t,l){switch(o){default:case i.ASCII:return 27===l?(o=i.EscapeStart,null):n(l,0,127)&&14!==l&&15!==l&&27!==l?(a=!1,l):l===G?q:(a=!1,c(e));case i.Roman:return 27===l?(o=i.EscapeStart,null):92===l?(a=!1,165):126===l?(a=!1,8254):n(l,0,127)&&14!==l&&15!==l&&27!==l&&92!==l&&126!==l?(a=!1,l):l===G?q:(a=!1,c(e));case i.Katakana:return 27===l?(o=i.EscapeStart,null):n(l,33,95)?(a=!1,65344+l):l===G?q:(a=!1,c(e));case i.LeadByte:return 27===l?(o=i.EscapeStart,null):n(l,33,126)?(a=!1,s=l,o=i.TrailByte,null):l===G?q:(a=!1,c(e));case i.TrailByte:if(27===l)return o=i.EscapeStart,c(e);if(n(l,33,126)){o=i.LeadByte;var u=p(94*(s-33)+l-33,g("jis0208"));return null===u?c(e):u}return l===G?(o=i.LeadByte,t.prepend(l),c(e)):(o=i.LeadByte,c(e));case i.EscapeStart:return 36===l||40===l?(s=l,o=i.Escape,null):(t.prepend(l),a=!1,o=r,c(e));case i.Escape:var d=s;s=0;var h=null;if(40===d&&66===l&&(h=i.ASCII),40===d&&74===l&&(h=i.Roman),40===d&&73===l&&(h=i.Katakana),36!==d||64!==l&&66!==l||(h=i.LeadByte),null!==h){o=o=h;var f=a;return a=!0,f?c(e):null}return t.prepend([d,l]),a=!1,o=r,c(e)}}}function M(t){var e=(t.fatal,{ASCII:0,Roman:1,jis0208:2}),n=e.ASCII;this.handler=function(t,i){if(i===G&&n!==e.ASCII)return t.prepend(i),n=e.ASCII,[27,40,66];if(i===G&&n===e.ASCII)return q;if(!(n!==e.ASCII&&n!==e.Roman||14!==i&&15!==i&&27!==i))return u(65533);if(n===e.ASCII&&Y(i))return i;if(n===e.Roman&&(Y(i)&&92!==i&&126!==i||165==i||8254==i)){if(Y(i))return i;if(165===i)return 92;if(8254===i)return 126}if(Y(i)&&n!==e.ASCII)return t.prepend(i),n=e.ASCII,[27,40,66];if((165===i||8254===i)&&n!==e.Roman)return t.prepend(i),n=e.Roman,[27,40,74];8722===i&&(i=65293);var o=m(i,g("jis0208"));return null===o?u(i):n!==e.jis0208?(t.prepend(i),n=e.jis0208,[27,36,66]):[W(o/94)+33,o%94+33]}}function N(t){var e=t.fatal,i=0;this.handler=function(t,o){if(o===G&&0!==i)return i=0,c(e);if(o===G&&0===i)return q;if(0!==i){var r=i,s=null;i=0;var l=o<127?64:65,u=r<160?129:193;if((n(o,64,126)||n(o,128,252))&&(s=188*(r-u)+o-l),n(s,8836,10715))return 48508+s;var d=null===s?null:p(s,g("jis0208"));return null===d&&a(o)&&t.prepend(o),null===d?c(e):d}return a(o)||128===o?o:n(o,161,223)?65216+o:n(o,129,159)||n(o,224,252)?(i=o,null):c(e)}}function O(t){t.fatal,this.handler=function(t,e){if(e===G)return q;if(Y(e)||128===e)return e;if(165===e)return 92;if(8254===e)return 126;if(n(e,65377,65439))return e-65377+161;8722===e&&(e=65293);var i=b(e);if(null===i)return u(e);var o=W(i/188),r=i%188;return[o+(o<31?129:193),r+(r<63?64:65)]}}function j(t){var e=t.fatal,i=0;this.handler=function(t,o){if(o===G&&0!==i)return i=0,c(e);if(o===G&&0===i)return q;if(0!==i){var r=i,s=null;i=0,n(o,65,254)&&(s=190*(r-129)+(o-65));var l=null===s?null:p(s,g("euc-kr"));return null===s&&a(o)&&t.prepend(o),null===l?c(e):l}return a(o)?o:n(o,129,254)?(i=o,null):c(e)}}function F(t){t.fatal,this.handler=function(t,e){if(e===G)return q;if(Y(e))return e;var n=m(e,g("euc-kr"));return null===n?u(e):[W(n/190)+129,n%190+65]}}function $(t,e){var n=t>>8,i=255&t;return e?[n,i]:[i,n]}function B(t,e){var i=e.fatal,o=null,r=null;this.handler=function(e,s){if(s===G&&(null!==o||null!==r))return c(i);if(s===G&&null===o&&null===r)return q;if(null===o)return o=s,null;var a;if(a=t?(o<<8)+s:(s<<8)+o,o=null,null!==r){var l=r;return r=null,n(a,56320,57343)?65536+1024*(l-55296)+(a-56320):(e.prepend($(a,t)),c(i))}return n(a,55296,56319)?(r=a,null):n(a,56320,57343)?c(i):a}}function U(t,e){e.fatal,this.handler=function(e,i){if(i===G)return q;if(n(i,0,65535))return $(i,t);var o=$(55296+(i-65536>>10),t),r=$(56320+(i-65536&1023),t);return o.concat(r)}}function H(t){t.fatal,this.handler=function(t,e){return e===G?q:a(e)?e:63360+e-128}}function z(t){t.fatal,this.handler=function(t,e){return e===G?q:Y(e)?e:n(e,63360,63487)?e-63360+128:u(e)}}var W=Math.floor,Y=a,G=-1;l.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():G},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.pop());else this.tokens.push(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.shift());else this.tokens.unshift(t)}};var q=-1;d.prototype={handler:function(){}},h.prototype={handler:function(){}};var V=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],Z={};V.forEach(function(t){t.encodings.forEach(function(t){t.labels.forEach(function(e){Z[e]=t})})});var X,J,K={},Q={},tt="utf-8";Object.defineProperty&&(Object.defineProperty(w.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(w.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(w.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),w.prototype.decode=function(t,e){function n(t){return!i(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)||this._ignoreBOM||this._BOMseen||(t.length>0&&65279===t[0]?(this._BOMseen=!0,t.shift()):t.length>0&&(this._BOMseen=!0)),s(t)}var r;r="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=o(e),this._do_not_flush||(this._decoder=Q[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(e.stream);for(var a,c=new l(r),u=[];;){var d=c.read();if(d===G)break;if((a=this._decoder.handler(c,d))===q)break;null!==a&&(Array.isArray(a)?u.push.apply(u,a):u.push(a))}if(!this._do_not_flush){do{if((a=this._decoder.handler(c,c.read()))===q)break;null!==a&&(Array.isArray(a)?u.push.apply(u,a):u.push(a))}while(!c.endOfStream());this._decoder=null}return n.call(this,u)},Object.defineProperty&&Object.defineProperty(k.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),k.prototype.encode=function(t,e){t=void 0===t?"":String(t),e=o(e),this._do_not_flush||(this._encoder=K[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(e.stream);for(var n,i=new l(r(t)),s=[];;){var a=i.read();if(a===G)break;if((n=this._encoder.handler(i,a))===q)break;Array.isArray(n)?s.push.apply(s,n):s.push(n)}if(!this._do_not_flush){for(;(n=this._encoder.handler(i,i.read()))!==q;)Array.isArray(n)?s.push.apply(s,n):s.push(n);this._encoder=null}return new Uint8Array(s)},K["UTF-8"]=function(t){return new S(t)},Q["UTF-8"]=function(t){return new C(t)},"encoding-indexes"in e&&V.forEach(function(t){"Legacy single-byte encodings"===t.heading&&t.encodings.forEach(function(t){var e=t.name,n=g(e.toLowerCase());Q[e]=function(t){return new x(n,t)},K[e]=function(t){return new E(n,t)}})}),Q.GBK=function(t){return new T(t)},K.GBK=function(t){return new A(t,!0)},K.gb18030=function(t){return new A(t)},Q.gb18030=function(t){return new T(t)},K.Big5=function(t){return new D(t)},Q.Big5=function(t){return new I(t)},K["EUC-JP"]=function(t){return new R(t)},Q["EUC-JP"]=function(t){return new L(t)},K["ISO-2022-JP"]=function(t){return new M(t)},Q["ISO-2022-JP"]=function(t){return new P(t)},K.Shift_JIS=function(t){return new O(t)},Q.Shift_JIS=function(t){return new N(t)},K["EUC-KR"]=function(t){return new F(t)},Q["EUC-KR"]=function(t){return new j(t)},K["UTF-16BE"]=function(t){return new U(!0,t)},Q["UTF-16BE"]=function(t){return new B(!0,t)},K["UTF-16LE"]=function(t){return new U(!1,t)},Q["UTF-16LE"]=function(t){return new B(!1,t)},K["x-user-defined"]=function(t){return new z(t)},Q["x-user-defined"]=function(t){return new H(t)},e.TextEncoder||(e.TextEncoder=k),e.TextDecoder||(e.TextDecoder=w),void 0!==t&&t.exports&&(t.exports={TextEncoder:e.TextEncoder,TextDecoder:e.TextDecoder,EncodingIndexes:e["encoding-indexes"]})}(this||{})},function(t,e,n){n(1)(flowplayer)}]),function(t,e,n){if(t.ion=t.ion||{},!ion.sound){var i=function(e){if(e||(e="undefined"),t.console){console.warn&&"function"==typeof console.warn?console.warn(e):console.log&&"function"==typeof console.log&&console.log(e);var i=n&&n("#debug");if(i&&i.length){var o=i.html();i.html(o+e+"<br/>")}}},o=function(t,e){var n;for(n in e=e||{},t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};if("function"!=typeof Audio&&"object"!=typeof Audio)e=function(){i("HTML5 Audio is not supported in this browser")},ion.sound=e,ion.sound.play=e,ion.sound.stop=e,ion.sound.pause=e,ion.sound.preload=e,ion.sound.destroy=e,e();else{e=/iPad|iPhone|iPod/.test(e.appVersion);var r,s,a=0,l={},c={}
;!l.supported&&e?l.supported=["mp3","mp4","aac"]:l.supported||(l.supported=["mp3","ogg","mp4","aac","wav"]),ion.sound=function(t){if(o(t,l),l.path=l.path||"",l.volume=l.volume||1,l.preload=l.preload||!1,l.multiplay=l.multiplay||!1,l.loop=l.loop||!1,l.sprite=l.sprite||null,l.scope=l.scope||null,l.ready_callback=l.ready_callback||null,l.ended_callback=l.ended_callback||null,a=l.sounds.length)for(r=0;r<a;r++){var e=(t=l.sounds[r]).alias||t.name;c[e]||(c[e]=new u(t),c[e].init())}else i("No sound-files provided!")},ion.sound.VERSION="3.0.7",ion.sound._method=function(t,e,n){if(e)c[e]&&c[e][t](n);else for(r in c)c.hasOwnProperty(r)&&c[r]&&c[r][t](n)},ion.sound.preload=function(t,e){o({preload:!0},e=e||{}),ion.sound._method("init",t,e)},ion.sound.destroy=function(t){if(ion.sound._method("destroy",t),t)c[t]=null;else for(r in c)c.hasOwnProperty(r)&&c[r]&&(c[r]=null)},ion.sound.play=function(t,e){ion.sound._method("play",t,e)},ion.sound.stop=function(t,e){ion.sound._method("stop",t,e)},ion.sound.pause=function(t,e){ion.sound._method("pause",t,e)},ion.sound.volume=function(t,e){ion.sound._method("volume",t,e)},n&&(n.ionSound=ion.sound),(e=t.AudioContext||t.webkitAudioContext)&&(s=new e);var u=function(t){this.options=o(l),delete this.options.sounds,o(t,this.options),this.request=null,this.streams={},this.result={},this.ext=0,this.url="",this.autoplay=this.no_file=this.decoded=this.loaded=!1};u.prototype={init:function(t){t&&o(t,this.options),this.options.preload&&this.load()},destroy:function(){var t;for(r in this.streams)(t=this.streams[r])&&t.destroy();this.streams={},this.result=null,this.options=this.options.buffer=null,this.request&&(this.request.removeEventListener("load",this.ready.bind(this),!1),this.request.removeEventListener("error",this.error.bind(this),!1),this.request.abort(),this.request=null)},createUrl:function(){var t=(new Date).valueOf();this.url=this.options.path+encodeURIComponent(this.options.name)+"."+this.options.supported[this.ext]+"?"+t},load:function(){this.no_file?i('No sources for "'+this.options.name+'" sound :('):this.request||(this.createUrl(),this.request=new XMLHttpRequest,this.request.open("GET",this.url,!0),this.request.responseType="arraybuffer",this.request.addEventListener("load",this.ready.bind(this),!1),this.request.addEventListener("error",this.error.bind(this),!1),this.request.send())},reload:function(){this.ext++,this.options.supported[this.ext]?this.load():(this.no_file=!0,i('No sources for "'+this.options.name+'" sound :('))},ready:function(t){this.result=t.target,4!==this.result.readyState?this.reload():200!==this.result.status&&0!==this.result.status?(i(this.url+" was not found on server!"),this.reload()):(this.request.removeEventListener("load",this.ready.bind(this),!1),this.request.removeEventListener("error",this.error.bind(this),!1),this.request=null,this.loaded=!0,this.decode())},decode:function(){s&&s.decodeAudioData(this.result.response,this.setBuffer.bind(this),this.error.bind(this))},setBuffer:function(t){if(this.options.buffer=t,this.decoded=!0,t={name:this.options.name,alias:this.options.alias,ext:this.options.supported[this.ext],duration:this.options.buffer.duration},this.options.ready_callback&&"function"==typeof this.options.ready_callback&&this.options.ready_callback.call(this.options.scope,t),this.options.sprite)for(r in this.options.sprite)this.options.start=this.options.sprite[r][0],this.options.end=this.options.sprite[r][1],this.streams[r]=new d(this.options,r);else this.streams[0]=new d(this.options);this.autoplay&&(this.autoplay=!1,this.play())},error:function(){this.reload()},play:function(t){if(delete this.options.part,t&&o(t,this.options),this.loaded){if(!this.no_file&&this.decoded)if(this.options.sprite)if(this.options.part)this.streams[this.options.part].play(this.options);else for(r in this.options.sprite)this.streams[r].play(this.options);else this.streams[0].play(this.options)}else this.autoplay=!0,this.load()},stop:function(t){if(this.options.sprite)if(t)this.streams[t.part].stop();else for(r in this.options.sprite)this.streams[r].stop();else this.streams[0].stop()},pause:function(t){if(this.options.sprite)if(t)this.streams[t.part].pause();else for(r in this.options.sprite)this.streams[r].pause();else this.streams[0].pause()},volume:function(t){if(t)if(o(t,this.options),this.options.sprite)if(this.options.part)(t=this.streams[this.options.part])&&t.setVolume(this.options);else for(r in this.options.sprite)(t=this.streams[r])&&t.setVolume(this.options);else(t=this.streams[0])&&t.setVolume(this.options)}};var d=function(t,e){this.alias=t.alias,this.name=t.name,this.sprite_part=e,this.buffer=t.buffer,this.start=t.start||0,this.end=t.end||this.buffer.duration,this.multiplay=t.multiplay||!1,this.volume=t.volume||1,this.scope=t.scope,this.ended_callback=t.ended_callback,this.setLoop(t),this.gain=this.source=null,this.paused=this.playing=!1,this.time_offset=this.time_played=this.time_ended=this.time_started=0};d.prototype={destroy:function(){this.stop(),this.source=this.buffer=null,this.gain&&this.gain.disconnect(),this.source&&this.source.disconnect(),this.source=this.gain=null},setLoop:function(t){this.loop=!0===t.loop?9999999:"number"==typeof t.loop&&+t.loop-1},update:function(t){this.setLoop(t),"volume"in t&&(this.volume=t.volume)},play:function(t){t&&this.update(t),!this.multiplay&&this.playing||(this.gain=s.createGain(),this.source=s.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.gain),this.gain.connect(s.destination),this.gain.gain.value=this.volume,this.source.onended=this.ended.bind(this),this._play())},_play:function(){var t,e;this.paused?(t=this.start+this.time_offset,e=this.end-this.time_offset):(t=this.start,e=this.end),0>=e?this.clear():("function"==typeof this.source.start?this.source.start(0,t,e):this.source.noteOn(0,t,e),this.playing=!0,this.paused=!1,this.time_started=(new Date).valueOf())},stop:function(){this.playing&&this.source&&("function"==typeof this.source.stop?this.source.stop(0):this.source.noteOff(0)),this.clear()},pause:function(){this.paused?this.play():this.playing&&(this.source&&this.source.stop(0),this.paused=!0)},ended:function(){this.playing=!1,this.time_ended=(new Date).valueOf(),this.time_played=(this.time_ended-this.time_started)/1e3,this.time_offset+=this.time_played,(this.time_offset>=this.end||.015>this.end-this.time_offset)&&(this._ended(),this.clear(),this.loop&&(this.loop--,this.play()))},_ended:function(){var t={name:this.name,alias:this.alias,part:this.sprite_part,start:this.start,duration:this.end};this.ended_callback&&"function"==typeof this.ended_callback&&this.ended_callback.call(this.scope,t)},clear:function(){this.time_offset=this.time_played=0,this.playing=this.paused=!1},setVolume:function(t){this.volume=t.volume,this.gain&&(this.gain.gain.value=this.volume)}},s||(function(){var t,e,n=(o=new Audio).canPlayType("audio/mpeg"),i=o.canPlayType("audio/ogg"),o=o.canPlayType('audio/mp4; codecs="mp4a.40.2"');for(e=0;e<l.supported.length;e++)t=l.supported[e],n||"mp3"!==t||l.supported.splice(e,1),i||"ogg"!==t||l.supported.splice(e,1),o||"aac"!==t||l.supported.splice(e,1),o||"mp4"!==t||l.supported.splice(e,1)}(),u.prototype={init:function(t){t&&o(t,this.options),this.inited=!0,this.options.preload&&this.load()},destroy:function(){var t;for(r in this.streams)(t=this.streams[r])&&t.destroy();this.streams={},this.inited=this.loaded=!1},load:function(){var t;if(this.options.preload=!0,this.options._ready=this.ready,this.options._scope=this,this.options.sprite)for(r in this.options.sprite)t=this.options.sprite[r],this.options.start=t[0],this.options.end=t[1],this.streams[r]=new d(this.options,r);else this.streams[0]=new d(this.options)},ready:function(t){this.loaded||(this.loaded=!0,t={name:this.options.name,alias:this.options.alias,ext:this.options.supported[this.ext],duration:t},this.options.ready_callback&&"function"==typeof this.options.ready_callback&&this.options.ready_callback.call(this.options.scope,t),this.autoplay&&(this.autoplay=!1,this.play()))},play:function(t){if(this.inited)if(delete this.options.part,t&&o(t,this.options),console.log(1),this.loaded)if(this.options.sprite)if(this.options.part)this.streams[this.options.part].play(this.options);else for(r in this.options.sprite)this.streams[r].play(this.options);else this.streams[0].play(this.options);else this.options.preload?this.autoplay=!0:(this.autoplay=!0,this.load())},stop:function(t){if(this.inited)if(this.options.sprite)if(t)this.streams[t.part].stop();else for(r in this.options.sprite)this.streams[r].stop();else this.streams[0].stop()},pause:function(t){if(this.inited)if(this.options.sprite)if(t)this.streams[t.part].pause();else for(r in this.options.sprite)this.streams[r].pause();else this.streams[0].pause()},volume:function(t){if(t)if(o(t,this.options),this.options.sprite)if(this.options.part)(t=this.streams[this.options.part])&&t.setVolume(this.options);else for(r in this.options.sprite)(t=this.streams[r])&&t.setVolume(this.options);else(t=this.streams[0])&&t.setVolume(this.options)}},(d=function(t,e){this.name=t.name,this.alias=t.alias,this.sprite_part=e,this.multiplay=t.multiplay,this.volume=t.volume,this.preload=t.preload,this.path=l.path,this.start=t.start||0,this.end=t.end||0,this.scope=t.scope,this.ended_callback=t.ended_callback,this._scope=t._scope,this._ready=t._ready,this.setLoop(t),this.url=this.sound=null,this.loaded=!1,this.played_time=this.paused_time=this.start_time=0,this.init()}).prototype={init:function(){this.sound=new Audio,this.sound.volume=this.volume,this.createUrl(),this.sound.addEventListener("ended",this.ended.bind(this),!1),this.sound.addEventListener("canplaythrough",this.can_play_through.bind(this),!1),this.sound.addEventListener("timeupdate",this._update.bind(this),!1),this.load()},destroy:function(){this.stop(),this.sound.removeEventListener("ended",this.ended.bind(this),!1),this.sound.removeEventListener("canplaythrough",this.can_play_through.bind(this),!1),this.sound.removeEventListener("timeupdate",this._update.bind(this),!1),this.sound=null,this.loaded=!1},createUrl:function(){var t=(new Date).valueOf();this.url=this.path+encodeURIComponent(this.name)+"."+l.supported[0]+"?"+t},can_play_through:function(){this.preload&&this.ready()},load:function(){this.sound.src=this.url,this.sound.preload=this.preload?"auto":"none",this.preload&&this.sound.load()},setLoop:function(t){this.loop=!0===t.loop?9999999:"number"==typeof t.loop&&+t.loop-1},update:function(t){this.setLoop(t),"volume"in t&&(this.volume=t.volume)},ready:function(){!this.loaded&&this.sound&&(this.loaded=!0,this._ready.call(this._scope,this.sound.duration),this.end||(this.end=this.sound.duration))},play:function(t){t&&this.update(t),!this.multiplay&&this.playing||this._play()},_play:function(){if(this.paused)this.paused=!1;else try{this.sound.currentTime=this.start}catch(t){}this.playing=!0,this.start_time=(new Date).valueOf(),this.sound.volume=this.volume,this.sound.play()},stop:function(){if(this.playing){this.paused=this.playing=!1,this.sound.pause(),this.clear();try{this.sound.currentTime=this.start}catch(t){}}},pause:function(){this.paused?this._play():(this.playing=!1,this.paused=!0,this.sound.pause(),this.paused_time=(new Date).valueOf(),this.played_time+=this.paused_time-this.start_time)},_update:function(){this.start_time&&(this.played_time+((new Date).valueOf()-this.start_time))/1e3>=this.end&&this.playing&&(this.stop(),this._ended())},ended:function(){this.playing&&(this.stop(),this._ended())},_ended:function(){this.playing=!1;var t={name:this.name,alias:this.alias,part:this.sprite_part,start:this.start,duration:this.end};this.ended_callback&&"function"==typeof this.ended_callback&&this.ended_callback.call(this.scope,t),this.loop&&setTimeout(this.looper.bind(this),15)},looper:function(){this.loop--,this.play()},clear:function(){this.paused_time=this.played_time=this.start_time=0},setVolume:function(t){this.volume=t.volume,this.sound&&(this.sound.volume=this.volume)}})}}}(window,navigator,window.jQuery||window.$),function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var e,n,i,o,r,s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e=jQuery,n="ekkoLightbox",i=e.fn[n],o={title:"",footer:"",showArrows:!0,type:null,alwaysShowClose:!1,loadingMessage:'<div class="ekko-lightbox-loader"><div><div></div><div></div></div></div>',leftArrow:'<i class="fa fa-chevron-circle-left" aria-hidden="true"></i>',rightArrow:'<i class="fa fa-chevron-circle-right" aria-hidden="true"></i>',strings:{close:"Close",fail:"Failed to load image:",type:"Could not detect remote target type. Force the type using data-type"},doc:document,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNavigate:function(){},onContentLoaded:function(){}},r=function(){function n(i,r){var s=this;t(this,n),this._config=e.extend({},o,r),this._$modalArrows=null,this._galleryIndex=0,this._galleryName=null,this._padding=null,this._border=null,this._titleIsShown=!1,this._footerIsShown=!1,this._wantedWidth=0,this._wantedHeight=0,this._modalId="ekkoLightbox-"+Math.floor(1e3*Math.random()+1),this._$element=i instanceof jQuery?i:e(i),this._isBootstrap3=3==e.fn.modal.Constructor.VERSION[0];var a='<h4 class="modal-title">'+(this._config.title||"&nbsp;")+"</h4>",l='<button type="button" class="close" data-dismiss="modal" aria-label="'+this._config.strings.close+'"><span aria-hidden="true">&times;</span></button>',c='<div class="modal-dialog" role="document"><div class="modal-content">'+('<div class="modal-header"'+(this._config.title||this._config.alwaysShowClose?"":' style="display:none"')+">"+(this._isBootstrap3?l+a:a+l)+"</div>")+'<div class="modal-body"><div class="ekko-lightbox-container"><div class="ekko-lightbox-item fade in show"></div><div class="ekko-lightbox-item fade"></div></div></div>'+('<div class="modal-footer"'+(this._config.footer?"":' style="display:none"')+">"+(this._config.footer||"&nbsp;")+"</div>")+"</div></div>";e(this._config.doc.body).append('<div id="'+this._modalId+'" class="ekko-lightbox modal fade" tabindex="-1" tabindex="-1" role="dialog" aria-hidden="true">'+c+"</div>"),this._$modal=e("#"+this._modalId,this._config.doc),this._$modalDialog=this._$modal.find(".modal-dialog").first(),this._$modalContent=this._$modal.find(".modal-content").first(),this._$modalBody=this._$modal.find(".modal-body").first(),this._$modalHeader=this._$modal.find(".modal-header").first(),this._$modalFooter=this._$modal.find(".modal-footer").first(),this._$lightboxContainer=this._$modalBody.find(".ekko-lightbox-container").first(),this._$lightboxBodyOne=this._$lightboxContainer.find("> div:first-child").first(),this._$lightboxBodyTwo=this._$lightboxContainer.find("> div:last-child").first(),this._border=this._calculateBorders(),this._padding=this._calculatePadding(),this._galleryName=this._$element.data("gallery"),this._galleryName&&(this._$galleryItems=e(document.body).find('*[data-gallery="'+this._galleryName+'"]'),this._galleryIndex=this._$galleryItems.index(this._$element),e(document).on("keydown.ekkoLightbox",this._navigationalBinder.bind(this)),this._config.showArrows&&this._$galleryItems.length>1&&(this._$lightboxContainer.append('<div class="ekko-lightbox-nav-overlay"><a href="#">'+this._config.leftArrow+'</a><a href="#">'+this._config.rightArrow+"</a></div>"),this._$modalArrows=this._$lightboxContainer.find("div.ekko-lightbox-nav-overlay").first(),this._$lightboxContainer.on("click","a:first-child",function(t){return t.preventDefault(),s.navigateLeft()}),this._$lightboxContainer.on("click","a:last-child",function(t){return t.preventDefault(),s.navigateRight()}))),this._$modal.on("show.bs.modal",this._config.onShow.bind(this)).on("shown.bs.modal",function(){return s._toggleLoading(!0),s._handle(),s._config.onShown.call(s)}).on("hide.bs.modal",this._config.onHide.bind(this)).on("hidden.bs.modal",function(){return s._galleryName&&(e(document).off("keydown.ekkoLightbox"),e(window).off("resize.ekkoLightbox")),s._$modal.remove(),s._config.onHidden.call(s)}).modal(this._config),e(window).on("resize.ekkoLightbox",function(){s._resize(s._wantedWidth,s._wantedHeight)})}return s(n,null,[{key:"Default",get:function(){return o}}]),s(n,[{key:"element",value:function(){return this._$element}},{key:"modal",value:function(){return this._$modal}},{key:"navigateTo",value:function(t){if(t<0||t>this._$galleryItems.length-1)return this;this._galleryIndex=t,this._$element=e(this._$galleryItems.get(this._galleryIndex)),this._handle()}},{key:"navigateLeft",value:function(){if(1!==this._$galleryItems.length)return 0===this._galleryIndex?this._galleryIndex=this._$galleryItems.length-1:this._galleryIndex--,this._config.onNavigate.call(this,"left",this._galleryIndex),this.navigateTo(this._galleryIndex)}},{key:"navigateRight",value:function(){if(1!==this._$galleryItems.length)return this._galleryIndex===this._$galleryItems.length-1?this._galleryIndex=0:this._galleryIndex++,this._config.onNavigate.call(this,"right",this._galleryIndex),this.navigateTo(this._galleryIndex)}},{key:"close",value:function(){return this._$modal.modal("hide")}},{key:"_navigationalBinder",value:function(t){return 39===(t=t||window.event).keyCode?this.navigateRight():37===t.keyCode?this.navigateLeft():void 0}},{key:"_detectRemoteType",value:function(t,e){return!(e=e||!1)&&this._isImage(t)&&(e="image"),!e&&this._getYoutubeId(t)&&(e="youtube"),!e&&this._getVimeoId(t)&&(e="vimeo"),!e&&this._getInstagramId(t)&&(e="instagram"),!e&&/.(mp4|flv|webm|ogv|3gp|mov)$/i.test(t.split("?")[0])&&(e="video"),!e&&/.(mp3|wav|aac|ogg|wma)$/i.test(t.split("?")[0])&&(e="audio"),(!e||["image","youtube","vimeo","instagram","video","audio","url"].indexOf(e)<0)&&(e="url"),e}},{key:"_isImage",value:function(t){return t&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)}},{key:"_containerToUse",value:function(){var t=this,e=this._$lightboxBodyTwo,n=this._$lightboxBodyOne;return this._$lightboxBodyTwo.hasClass("in")&&(e=this._$lightboxBodyOne,n=this._$lightboxBodyTwo),n.removeClass("in show"),setTimeout(function(){t._$lightboxBodyTwo.hasClass("in")||t._$lightboxBodyTwo.empty(),t._$lightboxBodyOne.hasClass("in")||t._$lightboxBodyOne.empty()},500),e.addClass("in show"),e}},{key:"_handle",value:function(){var t=this._containerToUse();this._updateTitleAndFooter();var e=this._$element.attr("data-remote")||this._$element.attr("href"),n=this._detectRemoteType(e,this._$element.attr("data-type")||!1);if(["image","youtube","vimeo","instagram","video","audio","url"].indexOf(n)<0)return this._error(this._config.strings.type);switch(n){case"image":this._preloadImage(e,t),this._preloadImageByIndex(this._galleryIndex,3);break;case"youtube":this._showYoutubeVideo(e,t);break;case"vimeo":this._showVimeoVideo(this._getVimeoId(e),t);break;case"instagram":this._showInstagramVideo(this._getInstagramId(e),t);break;case"video":case"audio":this._showHtml5Video(e,t);break;default:this._loadRemoteContent(e,t)}return this}},{key:"_getYoutubeId",value:function(t){if(!t)return!1;var e=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return!(!e||11!==e[2].length)&&e[2]}},{key:"_getVimeoId",value:function(t){return!!(t&&t.indexOf("vimeo")>0)&&t}},{key:"_getInstagramId",value:function(t){return!!(t&&t.indexOf("instagram")>0)&&t}},{key:"_toggleLoading",value:function(t){return(t=t||!1)?(this._$modalDialog.css("display","none"),this._$modal.removeClass("in show"),e(".modal-backdrop").append(this._config.loadingMessage)):(this._$modalDialog.css("display","block"),this._$modal.addClass("in show"),e(".modal-backdrop").find(".ekko-lightbox-loader").remove()),this}},{key:"_calculateBorders",value:function(){return{top:this._totalCssByAttribute("border-top-width"),right:this._totalCssByAttribute("border-right-width"),bottom:this._totalCssByAttribute("border-bottom-width"),left:this._totalCssByAttribute("border-left-width")}}},{key:"_calculatePadding",value:function(){return{top:this._totalCssByAttribute("padding-top"),right:this._totalCssByAttribute("padding-right"),bottom:this._totalCssByAttribute("padding-bottom"),left:this._totalCssByAttribute("padding-left")}}},{key:"_totalCssByAttribute",value:function(t){return parseInt(this._$modalDialog.css(t),10)+parseInt(this._$modalContent.css(t),10)+parseInt(this._$modalBody.css(t),10)}},{key:"_updateTitleAndFooter",value:function(){var t=this._$element.data("title")||this._$element.attr("title")||this._$element.attr("data-original-title")||"",e=this._$element.data("footer")||"";return this._titleIsShown=!1,t||this._config.alwaysShowClose?(this._titleIsShown=!0,this._$modalHeader.css("display","").find(".modal-title").html(t||"&nbsp;")):this._$modalHeader.css("display","none"),this._footerIsShown=!1,e?(this._footerIsShown=!0,this._$modalFooter.css("display","").html(e)):this._$modalFooter.css("display","none"),this}},{key:"_showYoutubeVideo",value:function(t,e){var n=this._getYoutubeId(t),i=t.indexOf("&")>0?t.substr(t.indexOf("&")):"",o=this._$element.data("width")||560,r=this._$element.data("height")||o/(560/315);return this._showVideoIframe("//www.youtube.com/embed/"+n+"?badge=0&autoplay=1&html5=1"+i,o,r,e)}},{key:"_showVimeoVideo",value:function(t,e){var n=this._$element.data("width")||500,i=this._$element.data("height")||n/(560/315);return this._showVideoIframe(t+"?autoplay=1",n,i,e)}},{key:"_showInstagramVideo",value:function(t,e){var n=this._$element.data("width")||612,i=n+80;return t="/"!==t.substr(-1)?t+"/":t,e.html('<iframe width="'+n+'" height="'+i+'" src="'+t+'embed/" frameborder="0" allowfullscreen></iframe>'),this._resize(n,i),this._config.onContentLoaded.call(this),this._toggleLoading(!1),this}},{key:"_showVideoIframe",value:function(t,e,n,i){return n=n||e,i.html('<div class="embed-responsive embed-responsive-16by9"><iframe width="'+e+'" height="'+n+'" src="'+t+'" frameborder="0" allowfullscreen class="embed-responsive-item"></iframe></div>'),this._resize(e,n),this._config.onContentLoaded.call(this),this._toggleLoading(!1),this}},{key:"_showHtml5Video",value:function(t,e){var n=this._$element.data("width")||560,i=this._$element.data("height")||n/(560/315);return e.html(this._$element.clone().data("lightbox-caller",this._$element).attr("class","")),e.find("a").custom_player({width:n,height:i}),this._resize(n,i),this._config.onContentLoaded.call(this),this._toggleLoading(!1),this}},{key:"_loadRemoteContent",value:function(t,n){var i=this,o=this._$element.data("width")||560,r=this._$element.data("height")||560,s=this._$element.data("disableExternalCheck")||!1;return this._toggleLoading(!1),s||this._isExternal(t)?(n.html('<iframe src="'+t+'" frameborder="0" allowfullscreen></iframe>'),this._config.onContentLoaded.call(this)):n.load(t,e.proxy(function(){return i._$element.trigger("loaded.bs.modal")})),this._resize(o,r),this}},{key:"_isExternal",value:function(t){var e=t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof e[1]&&e[1].length>0&&e[1].toLowerCase()!==location.protocol||"string"==typeof e[2]&&e[2].length>0&&e[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host}},{key:"_error",value:function(t){return console.error(t),this._containerToUse().html(t),this._resize(300,300),this}},{key:"_preloadImageByIndex",value:function(t,n){if(this._$galleryItems){var i=e(this._$galleryItems.get(t),!1);if(void 0!==i){var o=i.attr("data-remote")||i.attr("href");return("image"===i.attr("data-type")||this._isImage(o))&&this._preloadImage(o,!1),n>0?this._preloadImageByIndex(t+1,n-1):void 0}}}},{key:"_preloadImage",value:function(t,n){var i=this;n=n||!1;var o,r=new Image;return n&&(o=setTimeout(function(){n.append(i._config.loadingMessage)},200),r.onload=function(){o&&clearTimeout(o),o=null;var t=e("<img />");return t.attr("src",r.src),t.addClass("img-fluid"),t.css("width","100%"),n.html(t),i._$modalArrows&&i._$modalArrows.css("display",""),i._resize(r.width,r.height),i._toggleLoading(!1),i._config.onContentLoaded.call(i)},r.onerror=function(){return i._toggleLoading(!1),i._error(i._config.strings.fail+"  "+t)}),r.src=t,r}},{key:"_resize",value:function(t,n){n=n||t,this._wantedWidth=t,this._wantedHeight=n;var i=this._padding.left+this._padding.right+this._border.left+this._border.right,o=Math.min(t+i,this._config.doc.body.clientWidth);t+i>o?(n*=(o-i)/t,t=o):t+=i;var r=0,s=0;this._footerIsShown&&(s=this._$modalFooter.outerHeight(!0)||55),this._titleIsShown&&(r=this._$modalHeader.outerHeight(!0)||67);var a,l=this._padding.top+this._padding.bottom+this._border.bottom+this._border.top,c=parseFloat(this._$modalDialog.css("margin-top"))+parseFloat(this._$modalDialog.css("margin-bottom")),u=Math.min(n,e(window).height()-l-c-r-s);if(n>u){var d=Math.min(u/n,1);t=Math.ceil(d*t)}(this._$lightboxContainer.css("height",u),this._$lightboxContainer.find(".embed-responsive").find("video, audio").css("height",u),this._$modalDialog.css("width","auto").css("maxWidth",t),this._isBootstrap3)?(a=this._$modal.data("bs.modal"))&&a.handleUpdate():(a=this._$modal.data("bs.modal"))&&a._handleUpdate();return this}}],[{key:"_jQueryInterface",value:function(t){var i=this;return t=t||{},this.each(function(){var o=e(i),r=e.extend({},n.Default,o.data(),"object"==typeof t&&t);new n(i,r)})}}]),n}(),e.fn[n]=r._jQueryInterface,e.fn[n].Constructor=r,e.fn[n].noConflict=function(){return e.fn[n]=i,r._jQueryInterface}}(jQuery),function(){$(function(){return $.extend($.summernote.plugins,{feedMode:function(){return $.summernote.ui,this.events={"summernote.init":function(t,e){return e.toolbar.before(e.editingArea),e.toolbar.addClass("text-right").find(".btn").removeClass("btn-default"),e.toolbar.find(".note-icon-picture").parent().html("Image").addClass("btn-picture").attr("data-disable-with","<i class='fa fa-spinner fa-spin'></i> Uploading..."),e.toolbar.find(".note-btn-italic").html("<i>i</i>"),e.toolbar.find(".note-btn-bold").html("<b>B</b>"),e.toolbar.find(".note-icon-link").parent().html("Link"),e.toolbar.find(".dropdown-style").prev().html("Tt").end().children().children().slice(0,3).remove()}},this}}),$.extend($.summernote.plugins,{bible:function(t){var e;return this,e=$.summernote.ui,t.memo("button.bible",function(){return e.button({contents:"Bible",tooltip:"Bible Passage",data:{"disable-with":"<i class='fa fa-spinner fa-spin'></i> Loading..."},click:function(){var e,n,i;return n=$(this),e=function(e){var n,i,o,r,s,a,l,c,u;for(s=null,a=e.find("form"),i="<option>Select a book</option>",l=0,c=(u=window.BIBLE_BOOKS).length;l<c;l++)i+="<option value='"+(n=u[l]).book_id+"'>"+n.book_name+"</option>";return r=e.find(".chapters"),o=e.find(".books").html(i).change(function(){var t,e;if(s=window.BIBLE_BOOKS.filter(function(t){return t.book_id===o.val()})[0],r.html(""),s){for(e=1,t="";e<=s.chapters;)t+="<option value='"+e+"'>"+e+"</option>",e+=1;r.html(t)}return r.trigger("change")}),r.change(function(){return $.rails.disableFormElement(a.find(".btn")),$.get("/dashboard/bible/"+o.val()+"/"+$(this).val()+"/verses",function(t){return e.find(".verse1").attr("data-rule-max",t),e.find(".verse2").attr("data-rule-max",t),$.rails.enableFormElement(a.find(".btn"))})}),a.submit(function(){var n,i,s;return!!a.valid()&&(n=r.val(),i=e.find(".verse2").val(),s=e.find(".verse1").val()+(i?"-"+i:""),$.rails.disableFormElement(a.find(".btn")),$.get("/dashboard/bible/passage/"+o.val()+"-"+n+":"+s,function(n){return t.invoke("editor.restoreRange"),t.invoke("editor.insertNode",$(n||"<span></span>")[0]),e.modal("hide")}).complete(function(){return $.rails.enableFormElement(a.find(".btn"))}),!1)}).validate()},i=function(){var n;return t.invoke("editor.saveRange"),(n=modal_tpl({id:"editor_modal_bible",title:"Enter Quotation",content:"<form>\n  <div class='form-group'>\n    <label>Book</label>\n    <select class='required books form-control'></select>\n  </div>\n  <div class='form-group'>\n    <label>Chapter</label>\n    <select class='required chapters form-control'></select>\n  </div>\n  <div class='form-group'>\n    <div class=\"input-group\">\n      <input class=\"form-control required verse1\" id='modal_bidle_verse_1' data-rule-min='1' placeholder=\"Verse\" type='number'>\n      <span class=\"input-group-addon\">To</span> \n      <input class=\"form-control verse2\" placeholder=\"Verse\" data-rule-min='1' type='number' data-rule-greater_than='#modal_bidle_verse_1'>\n    </div>\n  </div>\n  <div class='form-group'>\n    <button type='submit' class='btn btn-primary' data-disable-with='<i class=\"fa fa-spinner fa-spin\"></i> Loading...'>Submit Passage</button>\n  </div>\n</form>"})).modal(),e(n)},window.BIBLE_BOOKS?i():($.rails.disableFormElement(n),$.getJSON("/dashboard/bible/books",function(t){return window.BIBLE_BOOKS=t,$.rails.enableFormElement(n),i()}))}}).render()})}}),$.extend($.summernote.plugins,{picture2:function(t){var e;return this,e=$.summernote.ui,t.memo("button.picture2",function(){return e.button({contents:"Picture",tooltip:"Picture",className:"btn-picture",click:function(){var e;return(e=modal_tpl({id:"editor_modal_image",title:"Insert Image",content:'<form class=\'remote\' data-type="json" action="/dashboard/contents/upload_image" data-remote="true" method="post">\n  <label>Select from files</label>\n  <div class="input-group"> \n   <input class="note-image-input form-control required" name="images[]" accept="image/*" multiple="multiple" type="file">\n   <span class="input-group-btn"><button class="btn btn-default" type="submit" data-disable-with="<i class=\'fa fa-spinner fa-spin\'></i> Processing...">Submit</button> </span> \n  </div>\n</form>\n<form class="form-group note-group-image-url">\n  <label>Image URL</label>\n  <div class="input-group">\n    <input class="note-image-url form-control required url" type="text">\n    <span class="input-group-btn"><button class="btn btn-default" type="submit">Submit</button> </span>\n  </div>\n</form>'})).modal(),e.find("form.remote").on("ajax:success",function(e,n){var i,o,r;for(o=0,r=n.length;o<r;o++)(i=n[o]).errors?new ToastNotificator(i.errors,{},"error"):t.invoke("editor.insertImage",i.url);return $("#editor_modal_image").modal("hide")}).on("ajax:complete",function(){return $(this).find("input:file").val("")}).validate(),e.find(".note-group-image-url").submit(function(){return t.invoke("editor.insertImage",$(this).find("input:text").val()),$("#editor_modal_image").modal("hide"),!1}).validate()}}).render()})}}),$.extend($.summernote.plugins,{stickerpipe:function(t){var e;e=$.summernote.ui,t.memo("button.stickerpipe",function(){return e.button({contents:"Emoji",tooltip:"Emoji",className:"btn-emoji",click:function(){return t.invoke("editor.saveRange")}}).render()}),this.events={"summernote.init":function(e,n){var i,o,r,s,a,l;for(r in window["editor-emoji-btns"]=(window["editor-emoji-btns"]||0)+1,o="editor-emoji-btn-"+window["editor-emoji-btns"],n.toolbar.find(".btn-emoji").attr("id",o),i={},s=window.stickerPipeConfig)l=s[r],i[r]=l;return i.elId=o,(a=new Stickers(i)).render(function(){return a.onClickSticker(function(e){return t.invoke("editor.restoreRange"),a.parseStickerFromText(e,function(e){return t.invoke("editor.insertNode",$(e.html)[0])})})})}}}}),$.fn.summerUploader=function(t){var e,n,i,o,r,s;for(i=$(this),n=new FormData,r=0,s=t.length;r<s;r++)o=t[r],n.append("images[]",o);return e=i.next().find(".btn-picture"),$.rails.disableFormElement(e),$.ajax({url:i.attr("data-upload-url")||"/dashboard/contents/upload_image.json",data:n,type:"POST",contentType:!1,processData:!1,success:function(t){var e,n,r;for(r=[],e=0,n=t.length;e<n;e++)(o=t[e]).errors?r.push(new ToastNotificator(o.errors,{},"error")):r.push(i.summernote("insertImage",o.url));return r},complete:function(){return $.rails.enableFormElement(e)}})}})}.call(this),jQuery(function(){var t=function(t){return $.Deferred(function(e){$.extend(new FileReader,{onload:function(t){var n=t.target.result;e.resolve(n)},onerror:function(){e.reject(this)}}).readAsDataURL(t)}).promise()};$.extend(!0,$.summernote.lang,{"en-US":{imageAttributes:{dialogTitle:"Image Attributes",tooltip:"Image Attributes",pluginImageTitle:"Image Attributes",pluginLinkTitle:"Link Attributes",title:"Title",src:"Source",srcHelp:"Selecting an image will replace existing image with an Inlined Image.",alt:"Alt","class":"Class",classSelect:"Select Class",style:"Style",role:"Role",href:"URL",target:"Target",linkClass:"Class",linkRole:"Role",rel:"Rel",relBlank:"Do not use Rel Attribute",
relAlternate:"Alternate: Links to an alternate version of the document",relAuthor:"Author: Links to the Author of the Document",relBookmark:"Bookmark: Permanent URL used for Bookmarking",relHelp:"Help: Links to a Help Document",relLicense:"License: Links to copyright information for the document",relNext:"Next: The next document in a selection",relNofollow:"NoFollow: Links to an unendorsed document, like a paid link, also stops Search Engines following this link",relNoreferrer:"NoReferrer: Specifies that the browser should not send a HTTP Header",relPrefetch:"PreFetch: Specifies that the target document should be cached",relPrev:"Prev: The previous document in a selection",relSearch:"Search: Links to a search tool for the document",relTag:"Tag: A tag (Keyword) for the current document"}},"es-ES":{imageAttributes:{dialogTitle:"Propiedades de la Imagen",tooltip:"Propiedades de la Imagen",pluginImageTitle:"Atributos de la Imagen",pluginLinkTitle:"Atributos del Enlace",title:"Titulo",src:"Fuente",srcHelp:"La selecci\xf3n de una imagen reemplazar\xe1 la imagen existente con una imagen Inline.",alt:"Alternativo","class":"Clases",classSelect:"Selecciona Forma",style:"Estilo",role:"Papel",href:"URL",target:"Destino",linkClass:"Clase",linkRole:"Papel",rel:"Rel",relBlank:"No usar atributo Rel",relAlternate:"Alternate: Enlaza a una versi\xf3n alternativa del documento",relAuthor:"Author: Enlaza al autor del documento",relBookmark:"Bookmark: URL permanente utilizada para enlazar",relHelp:"Help: Enlaza a un documento de Ayuda",relLicense:"License: Enlaza a un documento de informaci\xf3n de Copyright",relNext:"Next: Enlaza al siguiente documento en una selecci\xf3n",relNofollow:"NoFollow: Enlaza a un documento no confirmado, como un enlace de pago, tambi\xe9n evita que los buscadores sigan este enlace",relNoreferrer:"NoReferrer: Specifies that the browser should not send a HTTP Header",relPrefetch:"PreFetch: Specifies that the target document should be cached",relPrev:"Prev: Enlaza al documento anterior en una selecci\xf3n",relSearch:"Search: Enlaza a una herramienta de b\xfasqueda para el documento",relTag:"Tag: Un etiqueta (palabra clave) para el documento actual"}},"fr-FR":{imageAttributes:{dialogTitle:"Attributs de l'image",tooltip:"Attributs de l'image",pluginImageTitle:"Attributs de l'image",pluginLinkTitle:"Attributs du lien",title:"Titre",src:"La source",srcHelp:"La s\xe9lection d'une image remplacera l'image existante par une Image Inline.",alt:"Alt","class":"Class CSS",classSelect:"Choisir une Class",style:"Style",role:"R\xf4le",href:"URL",target:"Cible",linkClass:"Class CSS du lien",linkRole:"R\xf4le",rel:"Lien Rel",relBlank:"Ne pas utiliser d'attribut Rel",relAlternate:"Alternate: Lien vers une autre version du document",relAuthor:"Author: Lien vers l'auteur du document",relBookmark:"Bookmark: Lien permant utilis\xe9 pour les signets",relHelp:"Help: Lien vers un document d'aide",relLicense:"License: Lien vers les informations de droits d'auteur du document",relNext:"Next: La page suivante de ce document",relNofollow:"NoFollow: Emp\xeacher les moteurs de recherche de suivre ce lien",relNoreferrer:"NoReferrer: Pr\xe9cise que le navigateur ne doit pas envoyer d'ent\xeate HTTP",relPrefetch:"PreFetch: Pr\xe9cise que le document cible doit \xeatre mis en cache",relPrev:"Prev: La page pr\xe9c\xe9dente de ce document",relSearch:"Search: Lien vers un outil de recherche du document",relTag:"Tag: Mot-cl\xe9 du document"}},"zh-TW":{imageAttributes:{dialogTitle:"\u5716\u7247\u63d0\u793a",tooltip:"\u5716\u7247\u63d0\u793a",pluginImageTitle:"\u5716\u7247\u5c6c\u6027",pluginLinkTitle:"\u9023\u7d50\u5c6c\u6027",title:"\u6a19\u984c",src:"\u8cc7\u6e90",srcHelp:"\u9078\u64c7\u5716\u50cf\u5c07\u7528\u5167\u806f\u5716\u50cf\u66ff\u63db\u73fe\u6709\u5716\u50cf.",alt:"\u5716\u7247\u8aaa\u660e","class":"\u7c7b",classSelect:"\u9078\u64c7 \u7c7b",style:"\u6837\u5f0f",role:"\u89d2\u8272",href:"URL",target:"\u76ee\u6a19",linkClass:"\u9023\u7d50\u6a23\u5f0f",linkRole:"\u89d2\u8272",rel:"\u63cf\u8ff0",relBlank:"\u4e0d\u4f7f\u7528\u9023\u7d50\u8aaa\u660e",rel:"\u4e0d\u4f7f\u7528\u93c8\u7d50\u8aaa\u660e",relBlank:"\u4e0d\u4f7f\u7528\u93c8\u7d50\u8aaa\u660e",relAlternate:"\u66ff\u4ee3\u8aaa\u660e: \u9023\u81f3\u66ff\u4ee3\u8aaa\u660e\u6587\u4ef6",relAuthor:"\u4f5c\u8005: \u9023\u81f3\u4f86\u6e90\u4f4d\u7f6e",relBookmark:"\u66f8\u7c64: \u63d0\u4f9b\u52a0\u5165\u66f8\u7c64",relHelp:"\u5e6b\u52a9: \u9023\u7d50\u81f3\u5e6b\u52a9\u6587\u4ef6",relLicense:"\u7248\u6b0a: \u9023\u7d50\u81f3\u7248\u6b0a\u5ba3\u544a\u9801\u9762",relNext:"\u4e0b\u4e00\u6b65: \u9023\u7d50\u81f3\u4e0b\u4e00\u500b\u88ab\u9078\u64c7\u7684\u9801\u9762",relNofollow:"\u4e0d\u8ffd\u8e64: \u9023\u7d50\u8a2d\u7f6e\u53d6\u6d88\u8ffd\u8e64\u9078\u9805, \u4f8b\u5982\u4ed8\u8cbb\u9801\u9762, \u4e26\u4e14\u7981\u6b62\u641c\u5c0b\u5f15\u64ce\u8ffd\u8e64\u8a72\u9801\u9762",relNoreferrer:"NoReferrer: \u6307\u5b9a\u767c\u9001\u6642\u53d6\u6d88 HTTP \u7684\u958b\u982d",relPrefetch:"\u9810\u5b58: \u6307\u5b9a\u8a72\u9801\u9762\u555f\u7528\u9810\u5b58\u700f\u89bd",relPrev:"\u4e0a\u4e00\u6b65: \u4e0a\u4e00\u500b\u88ab\u9078\u64c7\u7684\u9801\u9762",relSearch:"\u641c\u5c0b: \u9023\u81f3\u641c\u5c0b\u6587\u4ef6",relTag:"\u6a19\u7c64: \u70ba\u8a72\u6587\u4ef6\u8a2d\u5b9a\u6a19\u7c64(\u95dc\u9375\u5b57)"}},"it-IT":{imageAttributes:{dialogTitle:"Attributi Immagine",tooltip:"Attributi Immagine",pluginImageTitle:"Attributi Immagine",pluginLinkTitle:"Attributi Collegamento",title:"Titolo",src:"Fonte",srcHelp:"elezione di un'immagine sostituir\xe0 immagine esistente con un inline Immagine.",alt:"Alt","class":"Classe",classSelect:"Seleziona Classe",style:"Stile",role:"Ruolo",href:"URL",target:"Bersaglio",linkClass:"Classe per il collegamento",linkRole:"Ruolo",rel:"Link Rel",relBlank:"Non usare attributo Rel",relAlternate:"Alternate: Collegamento ad una versione alternativa del documento",relAuthor:"Author: Collegamento all'autore del documento",relBookmark:"Bookmark: URL permanente per i preferiti",relHelp:"Help: Collegamento ad una pagina di aiuto per questo documento",relLicense:"License: Collegamento alle informazioni sul copyright di questo docuemnto",relNext:"Next: Pagina successiva di questo documento",relNofollow:"NoFollow: Impedisce ai motori di ricerca di seguire questo collegamento",relNoreferrer:"NoReferrer: Specifica al browser di non inviare Header HTTP",relPrefetch:"PreFetch: Specifica che il documento di destinazione deve essere memorizzato nella cache",relPrev:"Prev: Pagina precedente di questo documento",relSearch:"Search: Collegamenti a uno strumento di ricerca per questo documento",relTag:"Tag: Un tag (parola chiave) per questo documento"}},"de-DE":{imageAttributes:{dialogTitle:"Bild Eigenschaften",tooltip:"Bild Eigenschaften",pluginImageTitle:"Bild Eigenschaften",pluginLinkTitle:"Link Eigenschaften",title:"Titel",src:"Quelle",srcHelp:"Wenn Sie ein Bild ausw\xe4hlen, wird das bestehende Bild durch ein Inlined Image ersetzt.",alt:"Alt Tag","class":"CSS Klasse",classSelect:"w&auml;hle CSS Klasse",style:"Stil",role:"Rolle",href:"URL",target:"Ziel (target)",linkClass:"CSS Link Klasse",linkRole:"Ruolo",rel:"Link Beziehung (Relation)",relBlank:"Keine Link Beziehung",relAlternate:"Alternate: Link zu einer alternativen Version",relAuthor:"Author: Link zum Autor des Artikels",relBookmark:"Bookmark: Permanent URL f&uuml;r Lesezeichen",relHelp:"Help: Link zur Hilfe",relLicense:"License: Link zu Urheber und Lizenzinformationen",relNext:"Next: Die n&auml;chste aktive Seite",relNofollow:"NoFollow: Suchmaschinen sollen dem Link nicht folgen",relNoreferrer:"NoReferrer: Browser soll keinen HTTP Header senden",relPrefetch:"PreFetch: Gibt an, dass die Seite gecacht werden soll",relPrev:"Prev: Die zuletzt aktive Seite",relSearch:"Search: Link zur Dokumentsuche",relTag:"Tag: Ein Schl&uuml;sselwort (keyword) f&uuml;r diese Seite"}},"tr-TR":{imageAttributes:{dialogTitle:"Resim \xd6zellikleri",tooltip:"Resim \xd6zellikleri",pluginImageTitle:"Resim \xd6zellikleri",pluginLinkTitle:"Ba\u011flant\u0131 \xd6zellikleri",title:"Ba\u015fl\u0131k",src:"Kaynak",srcHelp:"Bir g\xf6r\xfcnt\xfcy\xfc se\xe7mek, var olan resmi Inlined Image ile de\u011fi\u015ftirecektir.",alt:"Alt. Metin","class":"S\u0131n\u0131f",classSelect:"S\u0131n\u0131f Se\xe7in",style:"Stil",role:"Rol",href:"URL",target:"Hedef",linkClass:"Ba\u011flant\u0131 S\u0131n\u0131f\u0131",linkRole:"Rol",rel:"Ba\u011flant\u0131 \u0130li\u015fkisi(Rel)",relBlank:"\u0130li\u015fki \xf6zelli\u011fini kullanma",relAlternate:"Alternatif: Belgenin farkl\u0131 bir versiyonuna ba\u011flant\u0131",relAuthor:"Yazar: Belgenin yazar\u0131na ba\u011flant\u0131",relBookmark:"Yer \u0130mi: Yer \u0130mi eklemek i\xe7in kal\u0131c\u0131 adres",relHelp:"Yard\u0131m: Yard\u0131m d\xf6k\xfcman\u0131na giden ba\u011flant\u0131",relLicense:"Lisans: Belgenin telif hakk\u0131 bilgisine ba\u011flant\u0131",relNext:"Sonraki: S\u0131radaki belgeye giden ba\u011flant\u0131",relNofollow:"Takip Etme (NoFollow): Arama motorlar\u0131n\u0131n bu ba\u011flant\u0131y\u0131 takip etmemesini sa\u011flar",relNoreferrer:"Referanss\u0131z (NoReferrer): Taray\u0131c\u0131n\u0131n bu ba\u011flant\u0131ya referans adresi g\xf6ndermemesi gerekti\u011fini belirtir",relPrefetch:"\xd6nBellek(PreFetch): Hedef ba\u011flant\u0131n\u0131n \xf6n belle\u011fe al\u0131nmas\u0131 gerekti\u011fini belirtir",relPrev:"\xd6nceki: \xd6nceki belgeye giden ba\u011flant\u0131",relSearch:"Arama: Belge i\xe7in bir arama arac\u0131na ba\u011flant\u0131 oldu\u011funu belirtir.",relTag:"Etiket: Belge i\xe7in bir etiket oldu\u011funu belirtir"}}}),$.extend($.summernote.options,{imageDialogLayout:"default",imageAttributes:{icon:'<i class="note-icon-pencil"/>',removeEmpty:!0},displayFields:{imageBasic:!0,imageExtra:!1,linkBasic:!0,linkExtra:!1}}),$.extend($.summernote.plugins,{imageAttributes:function(e){var n=this,i=$.summernote.ui,o=e.layoutInfo.note,r=e.layoutInfo.editor,s=e.layoutInfo.editable,a=e.options,l=a.langInfo,c="";if(a.maximumImageFileSize){var u=Math.floor(Math.log(a.maximumImageFileSize)/Math.log(1024)),d=1*(a.maximumImageFileSize/Math.pow(1024,u)).toFixed(2)+" "+" KMGTP"[u]+"B";c="<small>"+l.image.maximumFileSize+" : "+d+"</small>"}e.memo("button.imageAttributes",function(){return i.button({contents:a.imageAttributes.icon,tooltip:l.imageAttributes.tooltip,click:function(){e.invoke("imageAttributes.show")}}).render()}),this.initialize=function(){var t=a.dialogsInBody?$(document.body):r;if("horizontal"==a.imageDialogLayout){var e='<dl class="dl-horizontal">';a.displayFields.imageBasic&&(e+='<dt><label for="note-image-attributes-title">'+l.imageAttributes.title+'</label></dt><dd><input type="text" id="note-image-attributes-title" class="note-image-attributes-title form-control"></dd><dt><label for="note-image-attributes-src">'+l.imageAttributes.src+'</label></dt><dd><input type="text" id="note-image-attributes-src" class="note-image-attributes-src form-control"></dd><dt><label for="note-group-select-from-files"></label></dt><dd><input type="file" id="note-group-select-from-files" name="file" accept="image/*" class="note-image-input form-control">'+c+'</dd><dt></dt><dd><small class="help-block">'+l.imageAttributes.srcHelp+'</small></dd><dt><label for="note-image-attributes-alt">'+l.imageAttributes.alt+'</label></dt><dd><input type="text" id="note-image-attributes-alt" class="note-image-attributes-alt form-control"></dd>'),a.displayFields.imageExtra&&(e+='<dt><label for="note-image-attributes-class">'+l.imageAttributes["class"]+'</label></dt><dd><input type="text" id="note-image-attributes-class" class="note-image-attributes-class form-control"></dd><dt><label for="note-image-attributes-style">'+l.imageAttributes.style+'</label></dt><dd><input type="text" id="note-image-attributes-style" class="note-image-attributes-style form-control"></dd><dt><label for="note-image-attributes-role">'+l.imageAttributes.role+'</label></dt><dd><input type="text" id="note-image-attributes-role" class="note-image-attributes-role form-control"></dd>'),e+="</dl><hr>",a.displayFields.linkBasic&&(e+="<h4>"+l.imageAttributes.pluginLinkTitle+'</h4><dl class="dl-horizontal"><dt><label for="note-image-attributes-link-href">'+l.imageAttributes.href+'</label></dt><dd><input type="text" id="note-image-attributes-link-href" class="note-image-attributes-href form-control"></dd><dt><label for="note-image-attributes-link-target">'+l.imageAttributes.target+'</label></dt><dd><select id="note-image-attributes-link-target" class="note-image-attributes-target form-control"><option value="_self">Self</option><option value="_blank">Blank</option><option value="_top">Top</option><option value="_parent">Parent</option></select></dd>'),a.displayFields.linkExtra&&(e+='<dt><label for="note-image-attributes-link-class">'+l.imageAttributes.linkClass+'</label></dt><dd><input type="text" id="note-image-attributes-link-class" class="note-image-attributes-link-class form-control"></dd><dt><label for="note-image-attributes-link-rel">'+l.imageAttributes.rel+'</label></dt><dd><select id="note-image-attributes-link-rel" class="note-image-attributes-link-rel form-control"><option value="">'+l.imageAttributes.relBlank+'</option><option value="alternate">'+l.imageAttributes.relAlternate+'</option><option value="author">'+l.imageAttributes.relAuthor+'</option><option value="bookmark">'+l.imageAttributes.relBookmark+'</option><option value="help">'+l.imageAttributes.relHelp+'</option><option value="license">'+l.imageAttributes.relLicense+'</option><option value="next">'+l.imageAttributes.relNext+'</option><option value="nofollow">'+l.imageAttributes.relNofollow+'</option><option value="noreferrer">'+l.imageAttributes.relNoreferrer+'</option><option value="prefetch">'+l.imageAttributes.relPrefetch+'</option><option value="prev">'+l.imageAttributes.relPrev+'</option><option value="search">'+l.imageAttributes.relSearch+'</option><option value="tag">'+l.imageAttributes.relTag+'</option></select></dd><dt><label for="note-image-attributes-link-role">'+l.imageAttributes.linkRole+'</label></dt><dd><input type="text" id="note-image-attributes-link-role" class="note-image-attributes-link-role form-control"></dd>'),e+="</dl>"}else{e='<div class="form-group">';a.displayFields.imageBasic&&(e+='<label for="note-image-attributes-title" class="control-label col-xs-2">'+l.imageAttributes.title+'</label><div class="input-group col-xs-10"><input type="text" id="note-image-attributes-title" class="note-image-attributes-title form-control"></div></div><div class="form-group"><label for="note-image-attributes-src" class="control-label col-xs-2">'+l.imageAttributes.src+'</label><div class="input-group col-xs-10"><input type="text" id="note-image-attributes-src" class="note-image-attributes-src form-control"></div></div><div class="form-group note-group-select-from-files"><label class="control-label col-xs-2"></label><div class="input-group col-xs-10"><input class="note-image-input form-control" type="file" name="file" accept="image/*" />'+c+'<small class="help-block">'+l.imageAttributes.srcHelp+'</small></div></div><div class="form-group"><label for="note-image-attributes-alt" class="control-label col-xs-2">'+l.imageAttributes.alt+'</label><div class="input-group col-xs-10"><input type="text" id="note-image-attributes-alt" class="note-image-attributes-alt form-control"></div></div>'),a.displayFields.imageExtra&&(e+='<div class="form-group"><label for="note-image-attributes-class" class="control-label col-xs-2">'+l.imageAttributes["class"]+'</label><div class="input-group col-xs-10"><input type="text" id="note-image-attributes-class" class="note-image-attributes-class form-control"></div></div><div class="form-group"><label for="note-image-attributes-style" class="control-label col-xs-2">'+l.imageAttributes.style+'</label><div class="input-group col-xs-10"><input type="text" id="note-image-attributes-style" class="note-image-attributes-style form-control"></div></div><div class="form-group"><label for="note-image-attributes-role" class="control-label col-xs-2">'+l.imageAttributes.role+'</label><div class="input-group col-xs-10"><input type="text" id="note-image-attributes-role" class="note-image-attributes-role form-control"></div></div>'),(a.displayFields.linkBasic||a.displayFields.linkExtra)&&(e+="<h4>"+l.imageAttributes.pluginLinkTitle+"</h4><hr>"),a.displayFields.linkBasic&&(e+='<div class="form-group"><label for="note-image-attributes-link-href" class="control-label col-xs-2">'+l.imageAttributes.href+'</label><div class="input-group col-xs-10"><input type="text" id="note-image-attributes-link-href" class="note-image-attributes-href form-control"></div></div><div class="form-group"><label for="note-image-attributes-link-target" class="control-label col-xs-2">'+l.imageAttributes.target+'</label><div class="input-group col-xs-10"><select id="note-image-attributes-link-target" class="note-image-attributes-target form-control"><option value="_self">Self</option><option value="_blank">Blank</option><option value="_top">Top</option><option value="_parent">Parent</option></select></div></div>'),a.displayFields.linkExtra&&(e+='<div class="form-group"><label for="note-image-attributes-link-class" class="control-label col-xs-2">'+l.imageAttributes.linkClass+'</label><div class="input-group col-xs-10"><input type="text" id="note-image-attributes-link-class" class="note-image-attributes-link-class form-control"></div></div><div class="form-group"><label for="note-image-attributes-link-rel" class="control-label col-xs-2">'+l.imageAttributes.rel+'</label><div class="input-group col-xs-10"><select id="note-image-attributes-link-rel" class="note-image-attributes-link-rel form-control"><option value="">'+l.imageAttributes.relBlank+'</option><option value="alternate">'+l.imageAttributes.relAlternate+'</option><option value="author">'+l.imageAttributes.relAuthor+'</option><option value="bookmark">'+l.imageAttributes.relBookmark+'</option><option value="help">'+l.imageAttributes.relHelp+'</option><option value="license">'+l.imageAttributes.relLicense+'</option><option value="next">'+l.imageAttributes.relNext+'</option><option value="nofollow">'+l.imageAttributes.relNofollow+'</option><option value="noreferrer">'+l.imageAttributes.relNoreferrer+'</option><option value="prefetch">'+l.imageAttributes.relPrefetch+'</option><option value="prev">'+l.imageAttributes.relPrev+'</option><option value="search">'+l.imageAttributes.relSearch+'</option><option value="tag">'+l.imageAttributes.relTag+'</option></select></div></div><div class="form-group"><label for="note-image-attributes-link-role" class="control-label col-xs-2">'+l.imageAttributes.linkRole+'</label><div class="input-group col-xs-10"><input type="text" id="note-image-attributes-link-role" class="note-image-attributes-link-role form-control"></div></div>')}this.$dialog=i.dialog({title:l.imageAttributes.dialogTitle,body:e,footer:'<button href="#" class="btn btn-primary note-image-attributes-btn">OK</button>'}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){13===t.keyCode&&e.trigger("click")})},this.bindLabels=function(){n.$dialog.find(".form-control:first").focus().select(),n.$dialog.find("label").on("click",function(){$(this).parent().find(".form-control:first").focus()})},this.show=function(){var t=$(s.data("target")),r={imgDom:t,title:t.attr("title"),src:t.attr("src"),alt:t.attr("alt"),role:t.attr("role"),"class":t.attr("class"),style:t.attr("style"),imgLink:$(t.context).parent().is("a")?$(t.context).parent():null};this.showLinkDialog(r).then(function(t){i.hideDialog(n.$dialog);var r=t.imgDom;a.imageAttributes.removeEmpty?(t.alt?r.attr("alt",t.alt):r.removeAttr("alt"),t.title?r.attr("title",t.title):r.removeAttr("title"),t.src?r.attr("src",t.src):r.attr("src","#"),t["class"]?r.attr("class",t["class"]):r.removeAttr("class"),t.style?r.attr("style",t.style):r.removeAttr("style"),t.role?r.attr("role",t.role):r.removeAttr("role")):(r.attr("alt",t.alt),r.attr("title",t.title),r.attr("class",t["class"]),r.attr("style",t.style),r.attr("role",t.role)),r.parent().is("a")&&r.unwrap();var s=new RegExp(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/gi);if(t.href.match(s)){var l="<a";t.linkClass&&(l+=' class="'+t.linkClass+'"'),l+=' href="'+t.href+'" target="'+t.target+'"',t.linkRel&&(l+=' rel="'+t.linkRel+'"'),t.linkRole&&(l+=' role="'+t.linkRole+'"'),l+="></a>",r.wrap(l)}o.val(e.invoke("code")),o.change()})},this.showLinkDialog=function(o){return $.Deferred(function(r){var s=n.$dialog.find(".note-image-attributes-title"),l=n.$dialog.find(".note-image-input"),c=n.$dialog.find(".note-image-attributes-src"),u=n.$dialog.find(".note-image-attributes-alt"),d=n.$dialog.find(".note-image-attributes-class"),h=n.$dialog.find(".note-image-attributes-style"),f=n.$dialog.find(".note-image-attributes-role"),p=n.$dialog.find(".note-image-attributes-href"),m=n.$dialog.find(".note-image-attributes-target"),g=n.$dialog.find(".note-image-attributes-link-class"),v=n.$dialog.find(".note-image-attributes-link-rel"),y=n.$dialog.find(".note-image-attributes-link-role"),b=n.$dialog.find(".note-image-attributes-btn");o.imgLink&&(p.val(o.imgLink.attr("href")),g.val(o.imgLink.attr("class")),y.val(o.imgLink.attr("role")),m.find("option").each(function(){$(this).val()==o.imgLink.attr("target")&&$(this).attr("selected","selected")}),v.find("option").each(function(){$(this).val()==o.imgLink.attr("rel")&&$(this).attr("selected","selected")})),i.onDialogShown(n.$dialog,function(){e.triggerEvent("dialog.shown"),l.replaceWith(l.clone().on("change",function(){a.callbacks.onImageUpload?e.triggerEvent("image.upload",this.files[0]):t(this.files[0]).then(function(t){c.val(t)}).fail(function(){e.triggerEvent("image.upload.error")})}).val("")),b.click(function(t){t.preventDefault(),r.resolve({imgDom:o.imgDom,title:s.val(),src:c.val(),alt:u.val(),"class":d.val(),style:h.val(),role:f.val(),href:p.val(),target:m.val(),linkClass:g.val(),linkRel:v.val(),linkRole:y.val()})}),s.val(o.title).focus,c.val(o.src),u.val(o.alt),d.val(o["class"]),h.val(o.style),f.val(o.role),n.bindEnterKey(b),n.bindLabels()}),i.onDialogHidden(n.$dialog,function(){b.off("click"),"pending"===r.state()&&r.reject()}),i.showDialog(n.$dialog)})}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function($){"use strict";var func=(pye=0,{eq:function(t){return function(e){return t===e}},eq2:function(t,e){return t===e},peq2:function(t){return function(e,n){return e[t]===n[t]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(t,e){return function(n){return t(n)&&e(n)}},invoke:function(t,e){return function(){return t[e].apply(t,arguments)}},uniqueId:function(t){var e=++pye+"";return t?t+e:e},rect2bnd:function(t){var e=$(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e},namespaceToCamel:function(t,e){return(e=e||"")+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")},debounce:function(t,e,n){var i;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},a=n&&!i;clearTimeout(i),i=setTimeout(s,e),a&&t.apply(o,r)}}}),pye,list=(_ye=function(t){return t[0]},aze=function(t){return t[t.length-1]},cze=function(t){return t.slice(1)},fze=function(t,e){return $.inArray(e,t)},gze=function(t,e){return-1!==fze(t,e)},{head:_ye,last:aze,initial:function(t){return t.slice(0,t.length-1)},tail:cze,prev:function(t,e){var n=fze(t,e);return-1===n?null:t[n-1]},next:function(t,e){var n=fze(t,e);return-1===n?null:t[n+1]},find:function(t,e){for(var n=0,i=t.length;n<i;n++){var o=t[n];if(e(o))return o}},contains:gze,all:function(t,e){for(var n=0,i=t.length;n<i;n++)if(!e(t[n]))return!1;return!0},sum:function(t,e){return e=e||func.self,t.reduce(function(t,n){return t+e(n)},0)},from:function(t){for(var e=[],n=-1,i=t.length;++n<i;)e[n]=t[n];return e},isEmpty:function(t){return!t||!t.length},clusterBy:function(t,e){return t.length?cze(t).reduce(function(t,n){var i=aze(t);return e(aze(i),n)?i[i.length]=n:t[t.length]=[n],t},[[_ye(t)]]):[]},compact:function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},unique:function(t){for(var e=[],n=0,i=t.length;n<i;n++)gze(e,t[n])||e.push(t[n]);return e}}),_ye,aze,cze,fze,gze,isSupportAmd="function"==typeof define&&define.amd,isFontInstalled=function(t){var e="Comic Sans MS"===t?"Courier New":"Comic Sans MS",n=$("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),i=n.css("fontFamily",e).width(),o=n.css("fontFamily",t+","+e).width();return n.remove(),i!==o},userAgent=navigator.userAgent,isMSIE=/MSIE|Trident/i.test(userAgent),browserVersion;if(isMSIE){var matches=/MSIE (\d+[.]\d+)/.exec(userAgent);matches&&(browserVersion=parseFloat(matches[1])),matches=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(userAgent),matches&&(browserVersion=parseFloat(matches[1]))}var isEdge=/Edge\/\d+/.test(userAgent),hasCodeMirror=!!window.CodeMirror;if(!hasCodeMirror&&isSupportAmd&&"undefined"!=typeof require)if("undefined"!=typeof require.resolve)try{require.resolve("codemirror"),hasCodeMirror=!0}catch(e){}else"undefined"!=typeof eval("require").specified&&(hasCodeMirror=eval("require").specified("codemirror"));var agent={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:isMSIE,isEdge:isEdge,isFF:!isEdge&&/firefox/i.test(userAgent),isPhantom:/PhantomJS/i.test(userAgent),isWebkit:!isEdge&&/webkit/i.test(userAgent),isChrome:!isEdge&&/chrome/i.test(userAgent),isSafari:!isEdge&&/safari/i.test(userAgent),browserVersion:browserVersion,jqueryVersion:parseFloat($.fn.jquery),isSupportAmd:isSupportAmd,hasCodeMirror:hasCodeMirror,isFontInstalled:isFontInstalled,isW3CRangeSupport:!!document.createRange},NBSP_CHAR=String.fromCharCode(160),ZERO_WIDTH_NBSP_CHAR="\ufeff",dom=(mAe=function(t){return t&&$(t).hasClass("note-editable")},nAe=function(t){return t&&$(t).hasClass("note-control-sizing")},oAe=function(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}},pAe=function(t){return t&&3===t.nodeType},qAe=function(t){return t&&1===t.nodeType},rAe=function(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(t.nodeName.toUpperCase())},sAe=function(t){return!mAe(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))},tAe=function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},uAe=oAe("PRE"),vAe=oAe("LI"),wAe=function(t){return sAe(t)&&!vAe(t)},xAe=oAe("TABLE"),yAe=oAe("DATA"),zAe=function(t){return!(EAe(t)||AAe(t)||BAe(t)||sAe(t)||xAe(t)||DAe(t)||yAe(t))},AAe=function(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())},BAe=oAe("HR"),CAe=function(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())},DAe=oAe("BLOCKQUOTE"),EAe=function(t){return CAe(t)||DAe(t)||mAe(t)},FAe=oAe("A"),GAe=function(t){return zAe(t)&&!!PAe(t,sAe)},HAe=function(t){return zAe(t)&&!PAe(t,sAe)},IAe=oAe("BODY"),JAe=function(t,e){return t.nextSibling===e||t.previousSibling===e},KAe=function(t,e){e=e||func.ok;var n=[];return t.previousSibling&&e(t.previousSibling)&&n.push(t.previousSibling),n.push(t),t.nextSibling&&e(t.nextSibling)&&n.push(t.nextSibling),n},LAe=agent.isMSIE&&agent.browserVersion<11?"&nbsp;":"<br>",MAe=function(t){return pAe(t)?t.nodeValue.length:t?t.childNodes.length:0},NAe=function(t){var e=MAe(t);return 0===e||(!pAe(t)&&1===e&&t.innerHTML===LAe||!(!list.all(t.childNodes,pAe)||""!==t.innerHTML))},OAe=function(t){rAe(t)||MAe(t)||(t.innerHTML=LAe)},PAe=function(t,e){for(;t;){if(e(t))return t;if(mAe(t))break;t=t.parentNode}return null},QAe=function(t,e){for(t=t.parentNode;t&&1===MAe(t);){if(e(t))return t;if(mAe(t))break;t=t.parentNode}return null},RAe=function(t,e){e=e||func.fail;var n=[];return PAe(t,function(t){return mAe(t)||n.push(t),e(t)}),n},SAe=function(t,e){var n=RAe(t);return list.last(n.filter(e))},TAe=function(t,e){for(var n=RAe(t),i=e;i;i=i.parentNode)if($.inArray(i,n)>-1)return i;return null},UAe=function(t,e){e=e||func.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.previousSibling;return n},VAe=function(t,e){e=e||func.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.nextSibling;return n},WAe=function(t,e){var n=[];return e=e||func.ok,function i(o){t!==o&&e(o)&&n.push(o);for(var r=0,s=o.childNodes.length;r<s;r++)i(o.childNodes[r])}(t),n},XAe=function(t,e){var n=t.parentNode,i=$("<"+e+">")[0];return n.insertBefore(i,t),i.appendChild(t),i},YAe=function(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t},ZAe=function(t,e){return $.each(e,function(e,n){t.appendChild(n)}),t},$Ae=function(t){return 0===t.offset},_Ae=function(t){return t.offset===MAe(t.node)},aBe=function(t){return $Ae(t)||_Ae(t)},bBe=function(t,e){for(;t&&t!==e;){if(0!==fBe(t))return!1;t=t.parentNode}return!0},cBe=function(t,e){if(!e)return!1;for(;t&&t!==e;){if(fBe(t)!==MAe(t.parentNode)-1)return!1;t=t.parentNode}return!0},dBe=function(t,e){return $Ae(t)&&bBe(t.node,e)},eBe=function(t,e){return _Ae(t)&&cBe(t.node,e)},fBe=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},gBe=function(t){return!!(t&&t.childNodes&&t.childNodes.length)},hBe=function(t,e){var n,i;if(0===t.offset){if(mAe(t.node))return null;n=t.node.parentNode,i=fBe(t.node)}else gBe(t.node)?(n=t.node.childNodes[t.offset-1],i=MAe(n)):(n=t.node,i=e?0:t.offset-1);return{node:n,offset:i}},iBe=function(t,e){var n,i;if(MAe(t.node)===t.offset){if(mAe(t.node))return null;n=t.node.parentNode,i=fBe(t.node)+1}else gBe(t.node)?(n=t.node.childNodes[t.offset],i=0):(n=t.node,i=e?MAe(t.node):t.offset+1);return{node:n,offset:i}},jBe=function(t,e){return t.node===e.node&&t.offset===e.offset},kBe=function(t){if(pAe(t.node)||!gBe(t.node)||NAe(t.node))return!0;var e=t.node.childNodes[t.offset-1],n=t.node.childNodes[t.offset];return!(e&&!rAe(e)||n&&!rAe(n))},lBe=function(t,e){for(;t;){if(e(t))return t;t=hBe(t)}return null},mBe=function(t,e){for(;t;){if(e(t))return t;t=iBe(t)}return null},nBe=function(t){if(!pAe(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1),n=t.node.nodeValue.substring(0,t.offset).lastIndexOf("@");return" "==e&&n>=0&&t.node.nodeValue.substring(n,t.offset).search("-")<0||e&&" "!==e&&e!==NBSP_CHAR},oBe=function(t,e,n,i){for(var o=t;o&&(n(o),!jBe(o,e));){var r=i&&t.node!==o.node&&e.node!==o.node;o=iBe(o,r)}},pBe=function(t,e){return RAe(e,func.eq(t)).map(fBe).reverse()},qBe=function(t,e){for(var n=t,i=0,o=e.length;i<o;i++)n=n.childNodes.length<=e[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[e[i]];return n},rBe=function(t,e){var n=e&&e.isSkipPaddingBlankHTML,i=e&&e.isNotSplitEdgePoint;if(aBe(t)&&(pAe(t.node)||i)){if($Ae(t))return t.node;if(_Ae(t))return t.node.nextSibling}if(pAe(t.node))return t.node.splitText(t.offset);var o=t.node.childNodes[t.offset],r=YAe(t.node.cloneNode(!1),t.node);return ZAe(r,VAe(o)),n||(OAe(t.node),OAe(r)),r},sBe=function(t,e,n){var i=RAe(e.node,func.eq(t));return i.length?1===i.length?rBe(e,n):i.reduce(function(t,i){return t===e.node&&(t=rBe(e,n)),rBe({node:i,offset:t?dom.position(t):MAe(i)},n)}):null},tBe=function(t,e){var n,i,o=e?sAe:EAe,r=RAe(t.node,o),s=list.last(r)||t.node;o(s)?(n=r[r.length-2],i=s):i=(n=s).parentNode;var a=n&&sBe(n,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return a||i!==t.node||(a=t.node.childNodes[t.offset]),{rightNode:a,container:i}},uBe=function(t){return document.createElement(t)},vBe=function(t){return document.createTextNode(t)},wBe=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){var i,o,r=[];for(i=0,o=t.childNodes.length;i<o;i++)r.push(t.childNodes[i]);for(i=0,o=r.length;i<o;i++)n.insertBefore(r[i],t)}n.removeChild(t)}},xBe=function(t,e){for(;t&&!mAe(t)&&e(t);){var n=t.parentNode;wBe(t),t=n}},yBe=function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var n=uBe(e);return t.style.cssText&&(n.style.cssText=t.style.cssText),ZAe(n,list.from(t.childNodes)),YAe(n,t),wBe(t),n},zBe=oAe("TEXTAREA"),ABe=function(t,e){var n=zBe(t[0])?t.val():t.html();return e?n.replace(/[\n\r]/g,""):n},BBe=function(t,e){var n=ABe(t);if(e){var i=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;n=n.replace(i,function(t,e,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!e,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return t+(i||o?"\n":"")}),n=$.trim(n)}return n},CBe=function(t){var e=$(t),n=e.offset(),i=e.outerHeight(!0);return{
left:n.left,top:n.top+i}},DBe=function(t,e){Object.keys(e).forEach(function(n){t.on(n,e[n])})},EBe=function(t,e){Object.keys(e).forEach(function(n){t.off(n,e[n])})},{NBSP_CHAR:NBSP_CHAR,ZERO_WIDTH_NBSP_CHAR:ZERO_WIDTH_NBSP_CHAR,blank:LAe,emptyPara:"<p>"+LAe+"</p>",makePredByNodeName:oAe,isEditable:mAe,isControlSizing:nAe,isText:pAe,isElement:qAe,isVoid:rAe,isPara:sAe,isPurePara:wAe,isHeading:tAe,isInline:zAe,isBlock:func.not(zAe),isBodyInline:HAe,isBody:IAe,isParaInline:GAe,isPre:uAe,isList:AAe,isTable:xAe,isData:yAe,isCell:CAe,isBlockquote:DAe,isBodyContainer:EAe,isAnchor:FAe,isDiv:oAe("DIV"),isLi:vAe,isBR:oAe("BR"),isSpan:oAe("SPAN"),isB:oAe("B"),isU:oAe("U"),isS:oAe("S"),isI:oAe("I"),isImg:oAe("IMG"),isTextarea:zBe,isEmpty:NAe,isEmptyAnchor:func.and(FAe,NAe),isClosestSibling:JAe,withClosestSiblings:KAe,nodeLength:MAe,isLeftEdgePoint:$Ae,isRightEdgePoint:_Ae,isEdgePoint:aBe,isLeftEdgeOf:bBe,isRightEdgeOf:cBe,isLeftEdgePointOf:dBe,isRightEdgePointOf:eBe,prevPoint:hBe,nextPoint:iBe,isSamePoint:jBe,isVisiblePoint:kBe,prevPointUntil:lBe,nextPointUntil:mBe,isCharPoint:nBe,walkPoint:oBe,ancestor:PAe,singleChildAncestor:QAe,listAncestor:RAe,lastAncestor:SAe,listNext:VAe,listPrev:UAe,listDescendant:WAe,commonAncestor:TAe,wrap:XAe,insertAfter:YAe,appendChildNodes:ZAe,position:fBe,hasChildren:gBe,makeOffsetPath:pBe,fromOffsetPath:qBe,splitTree:sBe,splitPoint:tBe,create:uBe,createText:vBe,remove:wBe,removeWhile:xBe,replace:yBe,html:BBe,value:ABe,posFromPlaceholder:CBe,attachEvents:DBe,detachEvents:EBe}),mAe,nAe,oAe,pAe,qAe,rAe,sAe,tAe,uAe,vAe,wAe,xAe,yAe,zAe,AAe,BAe,CAe,DAe,EAe,FAe,GAe,HAe,IAe,JAe,KAe,LAe,MAe,NAe,OAe,PAe,QAe,RAe,SAe,TAe,UAe,VAe,WAe,XAe,YAe,ZAe,$Ae,_Ae,aBe,bBe,cBe,dBe,eBe,fBe,gBe,hBe,iBe,jBe,kBe,lBe,mBe,nBe,oBe,pBe,qBe,rBe,sBe,tBe,uBe,vBe,wBe,xBe,yBe,zBe,ABe,BBe,CBe,DBe,EBe,Context=function(t,e){var n=this,i=$.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=e,this.initialize=function(){return this.layoutInfo=i.createLayout(t,e),this._initialize(),t.hide(),this},this.destroy=function(){this._destroy(),t.removeData("summernote"),i.removeLayout(t,this.layoutInfo)},this.reset=function(){var t=n.isDisabled();this.code(dom.emptyPara),this._destroy(),this._initialize(),t&&n.disable()},this._initialize=function(){var t=$.extend({},this.options.buttons);Object.keys(t).forEach(function(e){n.memo("button."+e,t[e])});var e=$.extend({},this.options.modules,$.summernote.plugins||{});Object.keys(e).forEach(function(t){n.module(t,e[t],!0)}),Object.keys(this.modules).forEach(function(t){n.initializeModule(t)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(t){n.removeModule(t)}),Object.keys(this.memos).forEach(function(t){n.removeMemo(t)})},this.code=function(e){var n=this.invoke("codeview.isActivated");if(e===undefined)return this.invoke("codeview.sync"),n?this.layoutInfo.codable.val():this.layoutInfo.editable.html();n?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),t.val(e),this.triggerEvent("change",e)},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var e=list.head(arguments),n=list.tail(list.from(arguments)),i=this.options.callbacks[func.namespaceToCamel(e,"on")];i&&i.apply(t[0],n),t.trigger("summernote."+e,n)},this.initializeModule=function(e){var n=this.modules[e];n.shouldInitialize=n.shouldInitialize||func.ok,n.shouldInitialize()&&(n.initialize&&n.initialize(),n.events&&dom.attachEvents(t,n.events))},this.module=function(t,e,n){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),n||this.initializeModule(t)},this.removeModule=function(e){var n=this.modules[e];n.shouldInitialize()&&(n.events&&dom.detachEvents(t,n.events),n.destroy&&n.destroy()),delete this.modules[e]},this.memo=function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e},this.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},this.createInvokeHandler=function(t,e){return function(i){i.preventDefault(),n.invoke(t,e||$(i.target).closest("[data-value]").data("value"))}},this.invoke=function(){var t=list.head(arguments),e=list.tail(list.from(arguments)),n=t.split("."),i=n.length>1,o=i&&list.head(n),r=i?list.last(n):list.head(n),s=this.modules[o||"editor"];return!o&&this[r]?this[r].apply(this,e):s&&s[r]&&s.shouldInitialize()?s[r].apply(s,e):void 0},this.initialize()};$.fn.extend({summernote:function(){var t=$.type(list.head(arguments)),e="string"===t,n="object"===t?list.head(arguments):{};(n=$.extend({},$.summernote.options,n)).langInfo=$.extend(!0,{},$.summernote.lang["en-US"],$.summernote.lang[n.lang]),n.icons=$.extend(!0,{},$.summernote.options.icons,n.icons),this.each(function(t,e){var i=$(e);if(!i.data("summernote")){var o=new Context(i,n);i.data("summernote",o),i.data("summernote").triggerEvent("init",o.layoutInfo)}});var i=this.first();if(i.length){var o=i.data("summernote");if(e)return o.invoke.apply(o,list.from(arguments));n.focus&&o.invoke("editor.focus")}return this}});var Renderer=function(t,e,n,i){this.render=function(o){var r=$(t);if(n&&n.contents&&r.html(n.contents),n&&n.className&&r.addClass(n.className),n&&n.data&&$.each(n.data,function(t,e){r.attr("data-"+t,e)}),n&&n.click&&r.on("click",n.click),e){var s=r.find(".note-children-container");e.forEach(function(t){t.render(s.length?s:r)})}return i&&i(r,n),n&&n.callback&&n.callback(r),o&&o.append(r),r}},renderer={create:function(t,e){return function(){var n=$.isArray(arguments[0])?arguments[0]:[],i="object"==typeof arguments[1]?arguments[1]:arguments[0];return i&&i.children&&(n=i.children),new Renderer(t,n,i,e)}}},editor=renderer.create('<div class="note-editor note-frame panel panel-default"/>'),toolbar=renderer.create('<div class="note-toolbar panel-heading"/>'),editingArea=renderer.create('<div class="note-editing-area"/>'),codable=renderer.create('<textarea class="note-codable"/>'),editable=renderer.create('<div class="note-editable panel-body" contentEditable="true"/>'),statusbar=renderer.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),airEditor=renderer.create('<div class="note-editor"/>'),airEditable=renderer.create('<div class="note-editable" contentEditable="true"/>'),buttonGroup=renderer.create('<div class="note-btn-group btn-group">'),button=renderer.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(t,e){e&&e.tooltip&&t.attr({title:e.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dropdown=renderer.create('<div class="dropdown-menu">',function(t,e){var n=$.isArray(e.items)?e.items.map(function(t){return'<li><a href="#" data-value="'+("string"==typeof t?t:t.value||"")+'">'+(e.template?e.template(t):t)+"</a></li>"}).join(""):e.items;t.html(n)}),dropdownCheck=renderer.create('<div class="dropdown-menu note-check">',function(t,e){var n=$.isArray(e.items)?e.items.map(function(t){var n="string"==typeof t?t:t.value||"",i=e.template?e.template(t):t;return'<li><a href="#" data-value="'+n+'">'+icon(e.checkClassName)+" "+i+"</a></li>"}).join(""):e.items;t.html(n)}),palette=renderer.create('<div class="note-color-palette"/>',function(t,e){for(var n=[],i=0,o=e.colors.length;i<o;i++){for(var r=e.eventName,s=e.colors[i],a=[],l=0,c=s.length;l<c;l++){var u=s[l];a.push(['<button type="button" class="note-color-btn"','style="background-color:',u,'" ','data-event="',r,'" ','data-value="',u,'" ','title="',u,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+a.join("")+"</div>")}t.html(n.join("")),t.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dialog=renderer.create('<div class="modal modal-LR" aria-hidden="false" tabindex="-1"/>',function(t,e){e.fade&&t.addClass("fade"),t.html(['<div class="modal-dialog">','  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div>","</div>"].join(""))}),popover=renderer.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var n="undefined"!=typeof e.direction?e.direction:"bottom";t.addClass(n),e.hideArrow&&t.find(".arrow").hide()}),icon=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"/>'},ui={editor:editor,toolbar:toolbar,editingArea:editingArea,codable:codable,editable:editable,statusbar:statusbar,airEditor:airEditor,airEditable:airEditable,buttonGroup:buttonGroup,button:button,dropdown:dropdown,dropdownCheck:dropdownCheck,palette:palette,dialog:dialog,popover:popover,icon:icon,toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(t,e){var n=(e.airMode?ui.airEditor([ui.editingArea([ui.airEditable()])]):ui.editor([ui.toolbar(),ui.editingArea([ui.codable(),ui.editable()]),ui.statusbar()])).render();return n.insertAfter(t),{note:t,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}};$.summernote=$.summernote||{lang:{}},$.extend($.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var key=(MGe={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},{isEdit:function(t){return list.contains([MGe.BACKSPACE,MGe.TAB,MGe.ENTER,MGe.SPACE],t)},isMove:function(t){return list.contains([MGe.LEFT,MGe.UP,MGe.RIGHT,MGe.DOWN],t)},nameFromCode:func.invertObject(MGe),code:MGe}),MGe,range=(PGe=function(t,e){var n,i,o=t.parentElement(),r=document.body.createTextRange(),s=list.from(o.childNodes);for(n=0;n<s.length;n++)if(!dom.isText(s[n])){if(r.moveToElementText(s[n]),r.compareEndPoints("StartToStart",t)>=0)break;i=s[n]}if(0!==n&&dom.isText(s[n-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(i||o),a.collapse(!i),l=i?i.nextSibling:o.firstChild;var c=t.duplicate();c.setEndPoint("StartToStart",a);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&dom.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),o=l,n=u}return{cont:o,offset:n}},QGe=function(t){var e=function(t,n){var i,o;if(dom.isText(t)){var r=dom.listPrev(t,func.not(dom.isText)),s=list.last(r).previousSibling;i=s||t.parentNode,n+=list.sum(list.tail(r),dom.nodeLength),o=!s}else{if(i=t.childNodes[n]||t,dom.isText(i))return e(i,0);n=0,o=!1}return{node:i,collapseToStart:o,offset:n}},n=document.body.createTextRange(),i=e(t.node,t.offset);return n.moveToElementText(i.node),n.collapse(i.collapseToStart),n.moveStart("character",i.offset),n},RGe=function(t,e,n,i){this.sc=t,this.so=e,this.ec=n,this.eo=i;var o=function(){if(agent.isW3CRangeSupport){var o=document.createRange();return o.setStart(t,e),o.setEnd(n,i),o}var r=QGe({node:t,offset:e});return r.setEndPoint("EndToEnd",QGe({node:n,offset:i})),r};this.getPoints=function(){return{sc:t,so:e,ec:n,eo:i}},this.getStartPoint=function(){return{node:t,offset:e}},this.getEndPoint=function(){return{node:n,offset:i}},this.select=function(){var t=o();if(agent.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},this.scrollIntoView=function(t){var e=$(t).height();return t.scrollTop+e<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+e-this.sc.offsetTop)),this},this.normalize=function(){var t=function(t,e){if(dom.isVisiblePoint(t)&&!dom.isEdgePoint(t)||dom.isVisiblePoint(t)&&dom.isRightEdgePoint(t)&&!e||dom.isVisiblePoint(t)&&dom.isLeftEdgePoint(t)&&e||dom.isVisiblePoint(t)&&dom.isBlock(t.node)&&dom.isEmpty(t.node))return t;var n=dom.ancestor(t.node,dom.isBlock);if((dom.isLeftEdgePointOf(t,n)||dom.isVoid(dom.prevPoint(t).node))&&!e||(dom.isRightEdgePointOf(t,n)||dom.isVoid(dom.nextPoint(t).node))&&e){if(dom.isVisiblePoint(t))return t;e=!e}return(e?dom.nextPointUntil(dom.nextPoint(t),dom.isVisiblePoint):dom.prevPointUntil(dom.prevPoint(t),dom.isVisiblePoint))||t},e=t(this.getEndPoint(),!1),n=this.isCollapsed()?e:t(this.getStartPoint(),!0);return new RGe(n.node,n.offset,e.node,e.offset)},this.nodes=function(t,e){t=t||func.ok;var n=e&&e.includeAncestor,i=e&&e.fullyContains,o=this.getStartPoint(),r=this.getEndPoint(),s=[],a=[];return dom.walkPoint(o,r,function(e){var o;dom.isEditable(e.node)||(i?(dom.isLeftEdgePoint(e)&&a.push(e.node),dom.isRightEdgePoint(e)&&list.contains(a,e.node)&&(o=e.node)):o=n?dom.ancestor(e.node,t):e.node,o&&t(o)&&s.push(o))},!0),list.unique(s)},this.commonAncestor=function(){return dom.commonAncestor(t,n)},this.expand=function(o){var r=dom.ancestor(t,o),s=dom.ancestor(n,o);if(!r&&!s)return new RGe(t,e,n,i);var a=this.getPoints();return r&&(a.sc=r,a.so=0),s&&(a.ec=s,a.eo=dom.nodeLength(s)),new RGe(a.sc,a.so,a.ec,a.eo)},this.collapse=function(o){return o?new RGe(t,e,t,e):new RGe(n,i,n,i)},this.splitText=function(){var o=t===n,r=this.getPoints();return dom.isText(n)&&!dom.isEdgePoint(this.getEndPoint())&&n.splitText(i),dom.isText(t)&&!dom.isEdgePoint(this.getStartPoint())&&(r.sc=t.splitText(e),r.so=0,o&&(r.ec=r.sc,r.eo=i-e)),new RGe(r.sc,r.so,r.ec,r.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),e=t.nodes(null,{fullyContains:!0}),n=dom.prevPointUntil(t.getStartPoint(),function(t){return!list.contains(e,t.node)}),i=[];return $.each(e,function(t,e){var o=e.parentNode;n.node!==o&&1===dom.nodeLength(o)&&i.push(o),dom.remove(e,!1)}),$.each(i,function(t,e){dom.remove(e,!1)}),new RGe(n.node,n.offset,n.node,n.offset).normalize()};var r=function(e){return function(){var i=dom.ancestor(t,e);return!!i&&i===dom.ancestor(n,e)}};this.isOnEditable=r(dom.isEditable),this.isOnList=r(dom.isList),this.isOnAnchor=r(dom.isAnchor),this.isOnCell=r(dom.isCell),this.isOnData=r(dom.isData),this.isLeftEdgeOf=function(t){if(!dom.isLeftEdgePoint(this.getStartPoint()))return!1;var e=dom.ancestor(this.sc,t);return e&&dom.isLeftEdgeOf(this.sc,e)},this.isCollapsed=function(){return t===n&&e===i},this.wrapBodyInlineWithPara=function(){if(dom.isBodyContainer(t)&&dom.isEmpty(t))return t.innerHTML=dom.emptyPara,new RGe(t.firstChild,0,t.firstChild,0);var e,n=this.normalize();if(dom.isParaInline(t)||dom.isPara(t))return n;if(dom.isInline(n.sc)){var i=dom.listAncestor(n.sc,func.not(dom.isInline));e=list.last(i),dom.isInline(e)||(e=i[i.length-2]||n.sc.childNodes[n.so])}else e=n.sc.childNodes[n.so>0?n.so-1:0];var o=dom.listPrev(e,dom.isParaInline).reverse();if((o=o.concat(dom.listNext(e.nextSibling,dom.isParaInline))).length){var r=dom.wrap(list.head(o),"p");dom.appendChildNodes(r,list.tail(o))}return this.normalize()},this.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),n=dom.splitPoint(e.getStartPoint(),dom.isInline(t));return n.rightNode?n.rightNode.parentNode.insertBefore(t,n.rightNode):n.container.appendChild(t),t},this.pasteHTML=function(t){var e=$("<div></div>").html(t)[0],n=list.from(e.childNodes),i=this.wrapBodyInlineWithPara().deleteContents();return n.reverse().map(function(t){return i.insertNode(t)}).reverse()},this.toString=function(){var t=o();return agent.isW3CRangeSupport?t.toString():t.text},this.getWordRange=function(t){var e=this.getEndPoint();if(!dom.isCharPoint(e))return this;var n=dom.prevPointUntil(e,function(t){return!dom.isCharPoint(t)});return t&&(e=dom.nextPointUntil(e,function(t){return!dom.isCharPoint(t)})),new RGe(n.node,n.offset,e.node,e.offset)},this.bookmark=function(o){return{s:{path:dom.makeOffsetPath(o,t),offset:e},e:{path:dom.makeOffsetPath(o,n),offset:i}}},this.paraBookmark=function(o){return{s:{path:list.tail(dom.makeOffsetPath(list.head(o),t)),offset:e},e:{path:list.tail(dom.makeOffsetPath(list.last(o),n)),offset:i}}},this.getClientRects=function(){return o().getClientRects()}},{create:function(t,e,n,i){if(4===arguments.length)return new RGe(t,e,n,i);if(2===arguments.length)return new RGe(t,e,n=t,i=e);var o=this.createFromSelection();return o||1!==arguments.length?o:(o=this.createFromNode(arguments[0])).collapse(dom.emptyPara===arguments[0].innerHTML)},createFromSelection:function(){var t,e,n,i;if(agent.isW3CRangeSupport){var o=document.getSelection();if(!o||0===o.rangeCount)return null;if(dom.isBody(o.anchorNode))return null;var r=o.getRangeAt(0);t=r.startContainer,e=r.startOffset,n=r.endContainer,i=r.endOffset}else{var s=document.selection.createRange(),a=s.duplicate();a.collapse(!1);var l=s;l.collapse(!0);var c=PGe(l,!0),u=PGe(a,!1);dom.isText(c.node)&&dom.isLeftEdgePoint(c)&&dom.isTextNode(u.node)&&dom.isRightEdgePoint(u)&&u.node.nextSibling===c.node&&(c=u),t=c.cont,e=c.offset,n=u.cont,i=u.offset}return new RGe(t,e,n,i)},createFromNode:function(t){var e=t,n=0,i=t,o=dom.nodeLength(i);return dom.isVoid(e)&&(n=dom.listPrev(e).length-1,e=e.parentNode),dom.isBR(i)?(o=dom.listPrev(i).length-1,i=i.parentNode):dom.isVoid(i)&&(o=dom.listPrev(i).length,i=i.parentNode),this.create(e,n,i,o)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var n=dom.fromOffsetPath(t,e.s.path),i=e.s.offset,o=dom.fromOffsetPath(t,e.e.path),r=e.e.offset;return new RGe(n,i,o,r)},createFromParaBookmark:function(t,e){var n=t.s.offset,i=t.e.offset,o=dom.fromOffsetPath(list.head(e),t.s.path),r=dom.fromOffsetPath(list.last(e),t.e.path);return new RGe(o,n,r,i)}}),PGe,QGe,RGe,async={readFileAsDataURL:function(t){return $.Deferred(function(e){$.extend(new FileReader,{onload:function(t){var n=t.target.result;e.resolve(n)},onerror:function(){e.reject(this)}}).readAsDataURL(t)}).promise()},createImage:function(t){return $.Deferred(function(e){var n=$("<img>");n.one("load",function(){n.off("error abort"),e.resolve(n)}).one("error abort",function(){n.off("load").detach(),e.reject(n)}).css({display:"none"}).appendTo(document.body).attr("src",t)}).promise()}},History=function(t){var e=[],n=-1,i=t[0],o=function(){var e=range.create(i),n={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:t.html(),bookmark:e?e.bookmark(i):n}},r=function(e){null!==e.contents&&t.html(e.contents),null!==e.bookmark&&range.createFromBookmark(i,e.bookmark).select()};this.rewind=function(){t.html()!==e[n].contents&&this.recordUndo(),r(e[n=0])},this.reset=function(){e=[],n=-1,t.html(""),this.recordUndo()},this.undo=function(){t.html()!==e[n].contents&&this.recordUndo(),0<n&&r(e[--n])},this.redo=function(){e.length-1>n&&r(e[++n])},this.recordUndo=function(){n++,e.length>n&&(e=e.slice(0,n)),e.push(o())}},Style=function(){var t=function(t,e){if(agent.jqueryVersion<1.9){var n={};return $.each(e,function(e,i){n[i]=t.css(i)}),n}return t.css.call(t,e)};this.fromNode=function(e){var n=t(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return n["font-size"]=parseInt(n["font-size"],10),n},this.stylePara=function(t,e){$.each(t.nodes(dom.isPara,{includeAncestor:!0}),function(t,n){$(n).css(e)})},this.styleNodes=function(t,e){t=t.splitText();var n=e&&e.nodeName||"SPAN",i=!(!e||!e.expandClosestSibling),o=!(!e||!e.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(dom.create(n))];var r=dom.makePredByNodeName(n),s=t.nodes(dom.isText,{fullyContains:!0}).map(function(t){return dom.singleChildAncestor(t,r)||dom.wrap(t,n)});if(i){if(o){var a=t.nodes();r=func.and(r,function(t){return list.contains(a,t)})}return s.map(function(t){var e=dom.withClosestSiblings(t,r),n=list.head(e),i=list.tail(e);return $.each(i,function(t,e){dom.appendChildNodes(n,e.childNodes),dom.remove(e)}),list.head(e)})}return s},this.current=function(t){var n=$(dom.isElement(t.sc)?t.sc:t.sc.parentNode),i=this.fromNode(n);try{i=$.extend(i,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(e){}if(t.isOnList()){var o=["circle","disc","disc-leading-zero","square"],r=$.inArray(i["list-style-type"],o)>-1;i["list-style"]=r?"unordered":"ordered"}else i["list-style"]="none";var s=dom.ancestor(t.sc,dom.isPara);if(s&&s.style["line-height"])i["line-height"]=s.style.lineHeight;else{var a=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=a.toFixed(1)}return i.anchor=t.isOnAnchor()&&dom.ancestor(t.sc,dom.isAnchor),i.ancestors=dom.listAncestor(t.sc,dom.isEditable),i.range=t,i}},Bullet=function(){var t=this;this.insertOrderedList=function(t){this.toggleList("OL",t)},this.insertUnorderedList=function(t){this.toggleList("UL",t)},this.indent=function(t){var e=this,n=range.create(t).wrapBodyInlineWithPara(),i=n.nodes(dom.isPara,{includeAncestor:!0}),o=list.clusterBy(i,func.peq2("parentNode"));$.each(o,function(t,n){var i=list.head(n);dom.isLi(i)?e.wrapList(n,i.parentNode.nodeName):$.each(n,function(t,e){$(e).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),n.select()},this.outdent=function(t){var e=this,n=range.create(t).wrapBodyInlineWithPara(),i=n.nodes(dom.isPara,{includeAncestor:!0}),o=list.clusterBy(i,func.peq2("parentNode"));$.each(o,function(t,n){var i=list.head(n);dom.isLi(i)?e.releaseList([n]):$.each(n,function(t,e){$(e).css("marginLeft",function(t,e){return(e=parseInt(e,10)||0)>25?e-25:""})})}),n.select()},this.toggleList=function(e,n){var i=range.create(n).wrapBodyInlineWithPara(),o=i.nodes(dom.isPara,{includeAncestor:!0}),r=i.paraBookmark(o),s=list.clusterBy(o,func.peq2("parentNode"));if(list.find(o,dom.isPurePara)){var a=[];$.each(s,function(n,i){a=a.concat(t.wrapList(i,e))}),o=a}else{var l=i.nodes(dom.isList,{includeAncestor:!0}).filter(function(t){return!$.nodeName(t,e)});l.length?$.each(l,function(t,n){dom.replace(n,e)}):o=this.releaseList(s,!0)}range.createFromParaBookmark(r,o).select()},this.wrapList=function(t,e){var n=list.head(t),i=list.last(t),o=dom.isList(n.previousSibling)&&n.previousSibling,r=dom.isList(i.nextSibling)&&i.nextSibling,s=o||dom.insertAfter(dom.create(e||"UL"),i);return t=t.map(function(t){return dom.isPurePara(t)?dom.replace(t,"LI"):t}),dom.appendChildNodes(s,t),r&&(dom.appendChildNodes(s,list.from(r.childNodes)),dom.remove(r)),t},this.releaseList=function(t,e){var n=[];return $.each(t,function(t,i){var o=list.head(i),r=list.last(i),s=e?dom.lastAncestor(o,dom.isList):o.parentNode,a=s.childNodes.length>1?dom.splitTree(s,{node:r.parentNode,offset:dom.position(r)+1},{isSkipPaddingBlankHTML:!0}):null,l=dom.splitTree(s,{node:o.parentNode,offset:dom.position(o)},{isSkipPaddingBlankHTML:!0});i=e?dom.listDescendant(l,dom.isLi):list.from(l.childNodes).filter(dom.isLi),!e&&dom.isList(s.parentNode)||(i=i.map(function(t){return dom.replace(t,"P")})),$.each(list.from(i).reverse(),function(t,e){dom.insertAfter(e,s)});var c=list.compact([s,l,a]);$.each(c,function(t,e){var n=[e].concat(dom.listDescendant(e,dom.isList));$.each(n.reverse(),function(t,e){dom.nodeLength(e)||dom.remove(e,!0)})}),n=n.concat(i)}),n}},Typing=function(){var t=new Bullet;this.insertTab=function(t,e){var n=dom.createText(new Array(e+1).join(dom.NBSP_CHAR));(t=t.deleteContents()).insertNode(n,!0),(t=range.create(n,e)).select()},this.insertParagraph=function(e){var n=range.create(e);n=(n=n.deleteContents()).wrapBodyInlineWithPara();var i,o=dom.ancestor(n.sc,dom.isPara);if(o){if(dom.isEmpty(o)&&dom.isLi(o))return void t.toggleList(o.parentNode.nodeName);if(dom.isEmpty(o)&&dom.isPara(o)&&dom.isBlockquote(o.parentNode))dom.insertAfter(o,o.parentNode),i=o;else{i=dom.splitTree(o,n.getStartPoint());var r=dom.listDescendant(o,dom.isEmptyAnchor);r=r.concat(dom.listDescendant(i,dom.isEmptyAnchor)),$.each(r,function(t,e){dom.remove(e)}),(dom.isHeading(i)||dom.isPre(i))&&dom.isEmpty(i)&&(i=dom.replace(i,"p"))}}else{var s=n.sc.childNodes[n.so];i=$(dom.emptyPara)[0],s?n.sc.insertBefore(i,s):n.sc.appendChild(i)}range.create(i,0).normalize().select().scrollIntoView(e)}},Table=function(){this.tab=function(t,e){var n=dom.ancestor(t.commonAncestor(),dom.isCell),i=dom.ancestor(n,dom.isTable),o=dom.listDescendant(i,dom.isCell),r=list[e?"prev":"next"](o,n);r&&range.create(r,0).select()},this.createTable=function(t,e,n){for(var i,o=[],r=0;r<t;r++)o.push("<td>"+dom.blank+"</td>");i=o.join("");for(var s,a=[],l=0;l<e;l++)a.push("<tr>"+i+"</tr>");s=a.join("");var c=$("<table>"+s+"</table>");return n&&n.tableClassName&&c.addClass(n.tableClassName),c[0]}},KEY_BOGUS="bogus",Editor=function(t){var e=this,n=t.layoutInfo.note,i=t.layoutInfo.editor,o=t.layoutInfo.editable,r=t.options,s=r.langInfo,a=o[0],l=null,c=new Style,u=new Table,d=new Typing,h=new Bullet,f=new History(o);this.initialize=function(){o.on("keydown",function(n){n.keyCode===key.code.ENTER&&t.triggerEvent("enter",n),t.triggerEvent("keydown",n),n.isDefaultPrevented()||(r.shortcuts?e.handleKeyMap(n):e.preventDefaultEditableShortCuts(n))}).on("keyup",function(e){t.triggerEvent("keyup",e)}).on("focus",function(e){t.triggerEvent("focus",e)}).on("blur",function(e){t.triggerEvent("blur",e)}).on("mousedown",function(e){t.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.triggerEvent("mouseup",e)}).on("scroll",function(e){t.triggerEvent("scroll",e)}).on("paste",function(e){t.triggerEvent("paste",e)}),o.html(dom.html(n)||dom.emptyPara);var s=agent.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";o.on(s,func.debounce(function(){t.triggerEvent("change",o.html())},250)),i.on("focusin",function(e){t.triggerEvent("focusin",e)}).on("focusout",function(e){t.triggerEvent("focusout",e)}),r.airMode||(r.width&&i.outerWidth(r.width),r.height&&o.outerHeight(r.height),r.maxHeight&&o.css("max-height",r.maxHeight),r.minHeight&&o.css("min-height",r.minHeight)),f.recordUndo()},this.destroy=function(){o.off()},this.handleKeyMap=function(e){var n=r.keyMap[agent.isMac?"mac":"pc"],i=[];e.metaKey&&i.push("CMD"),e.ctrlKey&&!e.altKey&&i.push("CTRL"),e.shiftKey&&i.push("SHIFT");var o=key.nameFromCode[e.keyCode];o&&i.push(o);var s=n[i.join("+")];s?(e.preventDefault(),t.invoke(s)):key.isEdit(e.keyCode)&&this.afterCommand()},this.preventDefaultEditableShortCuts=function(t){(t.ctrlKey||t.metaKey)&&list.contains([66,73,85],t.keyCode)&&t.preventDefault()},this.createRange=function(){return this.focus(),range.create(a)},this.saveRange=function(t){l=this.createRange(),t&&l.collapse().select()},this.restoreRange=function(){l&&(l.select(),this.focus())},this.saveTarget=function(t){o.data("target",t)},this.clearTarget=function(){o.removeData("target")},this.restoreTarget=function(){return o.data("target")},this.currentStyle=function(){var t=range.create();return t&&(t=t.normalize()),t?c.current(t):c.fromNode(o)},this.styleFromNode=function(t){return c.fromNode(t)},this.undo=function(){t.triggerEvent("before.command",o.html()),f.undo(),t.triggerEvent("change",o.html())},t.memo("help.undo",s.help.undo),this.redo=function(){t.triggerEvent("before.command",o.html()),f.redo(),t.triggerEvent("change",o.html())},t.memo("help.redo",s.help.redo);for(var p=this.beforeCommand=function(){t.triggerEvent("before.command",o.html()),e.focus()},m=this.afterCommand=function(e){f.recordUndo(),e||t.triggerEvent("change",o.html())},g=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],v=0,y=g.length;v<y;v++)this[g[v]]=function(t){return function(e){p(),document.execCommand(t,!1,e),m(!0)}}(g[v]),t.memo("help."+g[v],s.help[g[v]]);this.tab=function(){var t=this.createRange();t.isCollapsed()&&t.isOnCell()?u.tab(t):(p(),d.insertTab(t,r.tabSize),m())},t.memo("help.tab",s.help.tab),this.untab=function(){var t=this.createRange();t.isCollapsed()&&t.isOnCell()&&u.tab(t,!0)},t.memo("help.untab",s.help.untab),this.wrapCommand=function(t){return function(){p(),t.apply(e,arguments),m()}},this.insertParagraph=this.wrapCommand(function(){d.insertParagraph(a)}),t.memo("help.insertParagraph",s.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){h.insertOrderedList(a)}),t.memo("help.insertOrderedList",s.help.insertOrderedList),
this.insertUnorderedList=this.wrapCommand(function(){h.insertUnorderedList(a)}),t.memo("help.insertUnorderedList",s.help.insertUnorderedList),this.indent=this.wrapCommand(function(){h.indent(a)}),t.memo("help.indent",s.help.indent),this.outdent=this.wrapCommand(function(){h.outdent(a)}),t.memo("help.outdent",s.help.outdent),this.insertImage=function(e,n){return async.createImage(e,n).then(function(t){p(),"function"==typeof n?n(t):("string"==typeof n&&t.attr("data-filename",n),t.css("width",Math.min(o.width(),t.width()))),t.show(),range.create(a).insertNode(t[0]),range.createFromNodeAfter(t[0]).select(),m()}).fail(function(e){t.triggerEvent("image.upload.error",e)})},this.insertImages=function(n){$.each(n,function(n,i){var o=i.name;r.maximumImageFileSize&&r.maximumImageFileSize<i.size?t.triggerEvent("image.upload.error",s.image.maximumFileSizeError):async.readFileAsDataURL(i).then(function(t){return e.insertImage(t,o)}).fail(function(){t.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(e){r.callbacks.onImageUpload?t.triggerEvent("image.upload",e):this.insertImages(e)},this.insertNode=this.wrapCommand(function(t){this.createRange().insertNode(t),range.createFromNodeAfter(t).select()}),this.insertText=this.wrapCommand(function(t){var e=this.createRange().insertNode(dom.createText(t));range.create(e,dom.nodeLength(e)).select()}),this.getSelectedText=function(){var t=this.createRange();return t.isOnAnchor()&&(t=range.createFromNode(dom.ancestor(t.sc,dom.isAnchor))),t.toString()},this.pasteHTML=this.wrapCommand(function(t){var e=this.createRange().pasteHTML(t);range.createFromNodeAfter(list.last(e)).select()}),this.formatBlock=this.wrapCommand(function(t){t=agent.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t)}),this.formatPara=function(){this.formatBlock("P")},t.memo("help.formatPara",s.help.formatPara);for(v=1;v<=6;v++)this["formatH"+v]=function(t){return function(){this.formatBlock("H"+t)}}(v),t.memo("help.formatH"+v,s.help["formatH"+v]);this.fontSize=function(t){var e=this.createRange();if(e&&e.isCollapsed()){var n=c.styleNodes(e),i=list.head(n);$(n).css({"font-size":t+"px"}),i&&!dom.nodeLength(i)&&(i.innerHTML=dom.ZERO_WIDTH_NBSP_CHAR,range.createFromNodeAfter(i.firstChild).select(),o.data(KEY_BOGUS,i))}else p(),$(c.styleNodes(e)).css({"font-size":t+"px"}),m()},this.insertHorizontalRule=this.wrapCommand(function(){var t=this.createRange().insertNode(dom.create("HR"));t.nextSibling&&range.create(t.nextSibling,0).normalize().select()}),t.memo("help.insertHorizontalRule",s.help.insertHorizontalRule),this.removeBogus=function(){var t=o.data(KEY_BOGUS);if(t){var e=list.find(list.from(t.childNodes),dom.isText),n=e.nodeValue.indexOf(dom.ZERO_WIDTH_NBSP_CHAR);-1!==n&&e.deleteData(n,1),dom.isEmpty(t)&&dom.remove(t),o.removeData(KEY_BOGUS)}},this.lineHeight=this.wrapCommand(function(t){c.stylePara(this.createRange(),{lineHeight:t})}),this.unlink=function(){var t=this.createRange();if(t.isOnAnchor()){var e=dom.ancestor(t.sc,dom.isAnchor);(t=range.createFromNode(e)).select(),p(),document.execCommand("unlink"),m()}},this.createLink=this.wrapCommand(function(t){var e=t.url,n=t.text,i=t.isNewWindow,o=t.range||this.createRange(),s=o.toString()!==n;"string"==typeof e&&(e=e.trim()),r.onCreateLink&&(e=r.onCreateLink(e));var a=[];if(s){var l=(o=o.deleteContents()).insertNode($("<A>"+n+"</A>")[0]);a.push(l)}else a=c.styleNodes(o,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});$.each(a,function(t,n){e=/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(e)?e:"http://"+e,$(n).attr("href",e),i?$(n).attr("target","_blank"):$(n).removeAttr("target")});var u=range.createFromNodeBefore(list.head(a)).getStartPoint(),d=range.createFromNodeAfter(list.last(a)).getEndPoint();range.create(u.node,u.offset,d.node,d.offset).select()}),this.getLinkInfo=function(){var t=this.createRange().expand(dom.isAnchor),e=$(list.head(t.nodes(dom.isAnchor)));return{range:t,text:t.toString(),isNewWindow:!!e.length&&"_blank"===e.attr("target"),url:e.length?e.attr("href"):""}},this.color=this.wrapCommand(function(t){var e=t.foreColor,n=t.backColor;e&&document.execCommand("foreColor",!1,e),n&&document.execCommand("backColor",!1,n)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x");this.createRange().deleteContents().insertNode(u.createTable(e[0],e[1],r))}),this.floatMe=this.wrapCommand(function(t){$(this.restoreTarget()).css("float",t)}),this.resize=this.wrapCommand(function(t){$(this.restoreTarget()).css({width:100*t+"%",height:""})}),this.resizeTo=function(t,e,n){var i;if(n){var o=t.y/t.x,r=e.data("ratio");i={width:r>o?t.x:t.y/r,height:r>o?t.x*r:t.y}}else i={width:t.x,height:t.y};e.css(i)},this.removeMedia=this.wrapCommand(function(){var e=$(this.restoreTarget()).detach();t.triggerEvent("media.delete",e,o)}),this.hasFocus=function(){return o.is(":focus")},this.focus=function(){this.hasFocus()||o.focus()},this.isEmpty=function(){return dom.isEmpty(o[0])||dom.emptyPara===o.html()},this.empty=function(){t.invoke("code",dom.emptyPara)}},Clipboard=function(t){var e=this,n=t.layoutInfo.editable;this.events={"summernote.keydown":function(n,i){e.needKeydownHook()&&(i.ctrlKey||i.metaKey)&&i.keyCode===key.code.V&&(t.invoke("editor.saveRange"),e.$paste.focus(),setTimeout(function(){e.pasteByHook()},0))}},this.needKeydownHook=function(){return agent.isMSIE&&agent.browserVersion>10||agent.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=$('<div tabindex="-1" />').attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),n.before(this.$paste),this.$paste.on("paste",function(e){t.triggerEvent("paste",e)})):n.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var e=this.$paste[0].firstChild;if(dom.isImg(e)){for(var n=e.src,i=atob(n.split(",")[1]),o=new Uint8Array(i.length),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);var s=new Blob([o],{type:"image/png"});s.name="clipboard.png",t.invoke("editor.restoreRange"),t.invoke("editor.focus"),t.invoke("editor.insertImagesOrCallback",[s])}else{var a=$("<div />").html(this.$paste.html()).html();t.invoke("editor.restoreRange"),t.invoke("editor.focus"),a&&t.invoke("editor.pasteHTML",a)}this.$paste.empty()},this.pasteByEvent=function(e){var n=e.originalEvent.clipboardData;if(n&&n.items&&n.items.length){var i=list.head(n.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&t.invoke("editor.insertImagesOrCallback",[i.getAsFile()]),t.invoke("editor.afterCommand")}}},Dropzone=function(t){var e=$(document),n=t.layoutInfo.editor,i=t.layoutInfo.editable,o=t.options,r=o.langInfo,s={},a=$(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(n),l=function(){Object.keys(s).forEach(function(t){e.off(t.substr(2).toLowerCase(),s[t])}),s={}};this.initialize=function(){o.disableDragAndDrop?(s.onDrop=function(t){t.preventDefault()},e.on("drop",s.onDrop)):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var o=$(),l=a.find(".note-dropzone-message");s.onDragenter=function(e){var i=t.invoke("codeview.isActivated"),s=n.width()>0&&n.height()>0;i||o.length||!s||(n.addClass("dragover"),a.width(n.width()),a.height(n.height()),l.text(r.image.dragImageHere)),o=o.add(e.target)},s.onDragleave=function(t){(o=o.not(t.target)).length||n.removeClass("dragover")},s.onDrop=function(){o=$(),n.removeClass("dragover")},e.on("dragenter",s.onDragenter).on("dragleave",s.onDragleave).on("drop",s.onDrop),a.on("dragenter",function(){a.addClass("hover"),l.text(r.image.dropImage)}).on("dragleave",function(){a.removeClass("hover"),l.text(r.image.dragImageHere)}),a.on("drop",function(e){var n=e.originalEvent.dataTransfer;n&&n.files&&n.files.length?(e.preventDefault(),i.focus(),t.invoke("editor.insertImagesOrCallback",n.files)):$.each(n.types,function(e,i){var o=n.getData(i);i.toLowerCase().indexOf("text")>-1?t.invoke("editor.pasteHTML",o):$(o).each(function(){t.invoke("editor.insertNode",this)})})}).on("dragover",!1)},this.destroy=function(){l()}},CodeMirror;agent.hasCodeMirror&&(agent.isSupportAmd?require(["codemirror"],function(t){CodeMirror=t}):CodeMirror=window.CodeMirror);var Codeview=function(t){var e=t.layoutInfo.editor,n=t.layoutInfo.editable,i=t.layoutInfo.codable,o=t.options;this.sync=function(){this.isActivated()&&agent.hasCodeMirror&&i.data("cmEditor").save()},this.isActivated=function(){return e.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),t.triggerEvent("codeview.toggled")},this.activate=function(){if(i.val(dom.html(n,o.prettifyHtml)),i.height(n.height()),t.invoke("toolbar.updateCodeview",!0),e.addClass("codeview"),i.focus(),agent.hasCodeMirror){var r=CodeMirror.fromTextArea(i[0],o.codemirror);if(o.codemirror.tern){var s=new CodeMirror.TernServer(o.codemirror.tern);r.ternServer=s,r.on("cursorActivity",function(t){s.updateArgHints(t)})}r.setSize(null,n.outerHeight()),i.data("cmEditor",r)}},this.deactivate=function(){if(agent.hasCodeMirror){var r=i.data("cmEditor");i.val(r.getValue()),r.toTextArea()}var s=dom.value(i,o.prettifyHtml)||dom.emptyPara,a=n.html()!==s;n.html(s),n.height(o.height?i.height():"auto"),e.removeClass("codeview"),a&&t.triggerEvent("change",n.html(),n),n.focus(),t.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},EDITABLE_PADDING=24,Statusbar=function(t){var e=$(document),n=t.layoutInfo.statusbar,i=t.layoutInfo.editable,o=t.options;this.initialize=function(){o.airMode||o.disableResizeEditor||n.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var n=i.offset().top-e.scrollTop();e.on("mousemove",function(t){var e=t.clientY-(n+EDITABLE_PADDING);e=o.minheight>0?Math.max(e,o.minheight):e,e=o.maxHeight>0?Math.min(e,o.maxHeight):e,i.height(e)}).one("mouseup",function(){e.off("mousemove")})})},this.destroy=function(){n.off(),n.remove()}},Fullscreen=function(t){var e=t.layoutInfo.editor,n=t.layoutInfo.toolbar,i=t.layoutInfo.editable,o=t.layoutInfo.codable,r=$(window),s=$("html, body");this.toggle=function(){var a=function(t){i.css("height",t.h),o.css("height",t.h),o.data("cmeditor")&&o.data("cmeditor").setsize(null,t.h)};e.toggleClass("fullscreen"),this.isFullscreen()?(i.data("orgHeight",i.css("height")),r.on("resize",function(){a({h:r.height()-n.outerHeight()})}).trigger("resize"),s.css("overflow","hidden")):(r.off("resize"),a({h:i.data("orgHeight")}),s.css("overflow","visible")),t.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return e.hasClass("fullscreen")}},Handle=function(t){var e=this,n=$(document),i=t.layoutInfo.editingArea,o=t.options;this.events={"summernote.mousedown":function(t,n){e.update(n.target)&&n.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){e.update()}},this.initialize=function(){this.$handle=$(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',o.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',o.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(i),this.$handle.on("mousedown",function(i){if(dom.isControlSizing(i.target)){i.preventDefault(),i.stopPropagation();var o=e.$handle.find(".note-control-selection").data("target"),r=o.offset(),s=n.scrollTop();n.on("mousemove",function(n){t.invoke("editor.resizeTo",{x:n.clientX-r.left,y:n.clientY-(r.top-s)},o,!n.shiftKey),e.update(o[0])}).one("mouseup",function(e){e.preventDefault(),n.off("mousemove"),t.invoke("editor.afterCommand")}),o.data("ratio")||o.data("ratio",o.height()/o.width())}})},this.destroy=function(){this.$handle.remove()},this.update=function(e){var n=dom.isImg(e),i=this.$handle.find(".note-control-selection");if(t.invoke("imagePopover.update",e),n){var o=$(e),r=o.position(),s={w:o.outerWidth(!0),h:o.outerHeight(!0)};i.css({display:"block",left:r.left,top:r.top,width:s.w,height:s.h}).data("target",o);var a=s.w+"x"+s.h;i.find(".note-control-selection-info").text(a),t.invoke("editor.saveTarget",e)}else this.hide();return n},this.hide=function(){t.invoke("editor.clearTarget"),this.$handle.children().hide()}},AutoLink=function(t){var e=this,n="http://",i=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(t,n){n.isDefaultPrevented()||e.handleKeyup(n)},"summernote.keydown":function(t,n){e.handleKeydown(n)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var e=this.lastWordRange.toString(),o=e.match(i);if(o&&(o[1]||o[2])){var r=o[1]?e:n+e,s=$("<a />").html(e).attr("href",r)[0];this.lastWordRange.insertNode(s),this.lastWordRange=null,t.invoke("editor.focus")}}},this.handleKeydown=function(e){if(list.contains([key.code.ENTER,key.code.SPACE],e.keyCode)){var n=t.invoke("editor.createRange").getWordRange();this.lastWordRange=n}},this.handleKeyup=function(t){list.contains([key.code.ENTER,key.code.SPACE],t.keyCode)&&this.replace()}},AutoSync=function(t){var e=t.layoutInfo.note;this.events={"summernote.change":function(){e.val(t.invoke("code"))}},this.shouldInitialize=function(){return dom.isTextarea(e[0])}},Placeholder=function(t){var e=this,n=t.layoutInfo.editingArea,i=t.options;this.events={"summernote.init summernote.change":function(){e.update()},"summernote.codeview.toggled":function(){e.update()}},this.shouldInitialize=function(){return!!i.placeholder||t.layoutInfo.note.attr("placeholder")},this.initialize=function(){this.$placeholder=$('<div class="note-placeholder">'),this.$placeholder.on("click",function(){t.invoke("focus")}).text(i.placeholder||t.layoutInfo.note.attr("placeholder")).prependTo(n)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var e=!t.invoke("codeview.isActivated")&&t.invoke("editor.isEmpty");this.$placeholder.toggle(e)}},Buttons=function(t){var e=this,n=$.summernote.ui,i=t.layoutInfo.toolbar,o=t.options,r=o.langInfo,s=func.invertObject(o.keyMap[agent.isMac?"mac":"pc"]),a=this.representShortcut=function(t){var e=s[t];return o.shortcuts&&e?(agent.isMac&&(e=e.replace("CMD","\u2318").replace("SHIFT","\u21e7"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.fontInstalledMap={}},this.destroy=function(){delete this.fontInstalledMap},this.isFontInstalled=function(t){return e.fontInstalledMap.hasOwnProperty(t)||(e.fontInstalledMap[t]=agent.isFontInstalled(t)||list.contains(o.fontNamesIgnoreCheck,t)),e.fontInstalledMap[t]},this.addToolbarButtons=function(){t.memo("button.style",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(o.icons.magic)+" "+n.icon(o.icons.caret,"span"),tooltip:r.style.style,data:{toggle:"dropdown"}}),n.dropdown({className:"dropdown-style",items:t.options.styleTags,template:function(t){"string"==typeof t&&(t={tag:t,title:r.style.hasOwnProperty(t)?r.style[t]:t});var e=t.tag,n=t.title;return"<"+e+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+n+"</"+e+">"},click:t.createInvokeHandler("editor.formatBlock")})]).render()}),t.memo("button.bold",function(){return n.button({className:"note-btn-bold",contents:n.icon(o.icons.bold),tooltip:r.font.bold+a("bold"),click:t.createInvokeHandler("editor.bold")}).render()}),t.memo("button.italic",function(){return n.button({className:"note-btn-italic",contents:n.icon(o.icons.italic),tooltip:r.font.italic+a("italic"),click:t.createInvokeHandler("editor.italic")}).render()}),t.memo("button.underline",function(){return n.button({className:"note-btn-underline",contents:n.icon(o.icons.underline),tooltip:r.font.underline+a("underline"),click:t.createInvokeHandler("editor.underline")}).render()}),t.memo("button.clear",function(){return n.button({contents:n.icon(o.icons.eraser),tooltip:r.font.clear+a("removeFormat"),click:t.createInvokeHandler("editor.removeFormat")}).render()}),t.memo("button.strikethrough",function(){return n.button({className:"note-btn-strikethrough",contents:n.icon(o.icons.strikethrough),tooltip:r.font.strikethrough+a("strikethrough"),click:t.createInvokeHandler("editor.strikethrough")}).render()}),t.memo("button.superscript",function(){return n.button({className:"note-btn-superscript",contents:n.icon(o.icons.superscript),tooltip:r.font.superscript,click:t.createInvokeHandler("editor.superscript")}).render()}),t.memo("button.subscript",function(){return n.button({className:"note-btn-subscript",contents:n.icon(o.icons.subscript),tooltip:r.font.subscript,click:t.createInvokeHandler("editor.subscript")}).render()}),t.memo("button.fontname",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+n.icon(o.icons.caret,"span"),tooltip:r.font.name,data:{toggle:"dropdown"}}),n.dropdownCheck({className:"dropdown-fontname",checkClassName:o.icons.menuCheck,items:o.fontNames.filter(e.isFontInstalled),template:function(t){return'<span style="font-family:'+t+'">'+t+"</span>"},click:t.createInvokeHandler("editor.fontName")})]).render()}),t.memo("button.fontsize",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+n.icon(o.icons.caret,"span"),tooltip:r.font.size,data:{toggle:"dropdown"}}),n.dropdownCheck({className:"dropdown-fontsize",checkClassName:o.icons.menuCheck,items:o.fontSizes,click:t.createInvokeHandler("editor.fontSize")})]).render()}),t.memo("button.color",function(){return n.buttonGroup({className:"note-color",children:[n.button({className:"note-current-color-button",contents:n.icon(o.icons.font+" note-recent-color"),tooltip:r.color.recent,click:function(e){var n=$(e.currentTarget);t.invoke("editor.color",{backColor:n.attr("data-backColor"),foreColor:n.attr("data-foreColor")})},callback:function(t){t.find(".note-recent-color").css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00")}}),n.button({className:"dropdown-toggle",contents:n.icon(o.icons.caret,"span"),tooltip:r.color.more,data:{toggle:"dropdown"}}),n.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+r.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',r.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="btn-group">','  <div class="note-palette-title">'+r.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',r.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</li>"].join(""),callback:function(t){t.find(".note-holder").each(function(){var t=$(this);t.append(n.palette({colors:o.colors,eventName:t.data("event")}).render())})},click:function(e){var n=$(e.target),i=n.data("event"),o=n.data("value");if(i&&o){var r="backColor"===i?"background-color":"color",s=n.closest(".note-color").find(".note-recent-color"),a=n.closest(".note-color").find(".note-current-color-button");s.css(r,o),a.attr("data-"+i,o),t.invoke("editor."+i,o)}}})]}).render()}),t.memo("button.ul",function(){return n.button({contents:n.icon(o.icons.unorderedlist),tooltip:r.lists.unordered+a("insertUnorderedList"),click:t.createInvokeHandler("editor.insertUnorderedList")}).render()}),t.memo("button.ol",function(){return n.button({contents:n.icon(o.icons.orderedlist),tooltip:r.lists.ordered+a("insertOrderedList"),click:t.createInvokeHandler("editor.insertOrderedList")}).render()});var i=n.button({contents:n.icon(o.icons.alignLeft),tooltip:r.paragraph.left+a("justifyLeft"),click:t.createInvokeHandler("editor.justifyLeft")}),s=n.button({contents:n.icon(o.icons.alignCenter),tooltip:r.paragraph.center+a("justifyCenter"),click:t.createInvokeHandler("editor.justifyCenter")}),l=n.button({contents:n.icon(o.icons.alignRight),tooltip:r.paragraph.right+a("justifyRight"),click:t.createInvokeHandler("editor.justifyRight")}),c=n.button({contents:n.icon(o.icons.alignJustify),tooltip:r.paragraph.justify+a("justifyFull"),click:t.createInvokeHandler("editor.justifyFull")}),u=n.button({contents:n.icon(o.icons.outdent),tooltip:r.paragraph.outdent+a("outdent"),click:t.createInvokeHandler("editor.outdent")}),d=n.button({contents:n.icon(o.icons.indent),tooltip:r.paragraph.indent+a("indent"),click:t.createInvokeHandler("editor.indent")});t.memo("button.justifyLeft",func.invoke(i,"render")),t.memo("button.justifyCenter",func.invoke(s,"render")),t.memo("button.justifyRight",func.invoke(l,"render")),t.memo("button.justifyFull",func.invoke(c,"render")),t.memo("button.outdent",func.invoke(u,"render")),t.memo("button.indent",func.invoke(d,"render")),t.memo("button.paragraph",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(o.icons.alignLeft)+" "+n.icon(o.icons.caret,"span"),tooltip:r.paragraph.paragraph,data:{toggle:"dropdown"}}),n.dropdown([n.buttonGroup({className:"note-align",children:[i,s,l,c]}),n.buttonGroup({className:"note-list",children:[u,d]})])]).render()}),t.memo("button.height",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(o.icons.textHeight)+" "+n.icon(o.icons.caret,"span"),tooltip:r.font.height,data:{toggle:"dropdown"}}),n.dropdownCheck({items:o.lineHeights,checkClassName:o.icons.menuCheck,className:"dropdown-line-height",click:t.createInvokeHandler("editor.lineHeight")})]).render()}),t.memo("button.table",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(o.icons.table)+" "+n.icon(o.icons.caret,"span"),tooltip:r.table.table,data:{toggle:"dropdown"}}),n.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(n){n.find(".note-dimension-picker-mousecatcher").css({width:o.insertTableMaxSize.col+"em",height:o.insertTableMaxSize.row+"em"}).mousedown(t.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler)}}).render()}),t.memo("button.link",function(){return n.button({contents:n.icon(o.icons.link),tooltip:r.link.link+a("linkDialog.show"),click:t.createInvokeHandler("linkDialog.show")}).render()}),t.memo("button.picture",function(){return n.button({contents:n.icon(o.icons.picture),tooltip:r.image.image,click:t.createInvokeHandler("imageDialog.show")}).render()}),t.memo("button.video",function(){return n.button({contents:n.icon(o.icons.video),tooltip:r.video.video,click:t.createInvokeHandler("videoDialog.show")}).render()}),t.memo("button.hr",function(){return n.button({contents:n.icon(o.icons.minus),tooltip:r.hr.insert+a("insertHorizontalRule"),click:t.createInvokeHandler("editor.insertHorizontalRule")}).render()}),t.memo("button.fullscreen",function(){return n.button({className:"btn-fullscreen",contents:n.icon(o.icons.arrowsAlt),tooltip:r.options.fullscreen,click:t.createInvokeHandler("fullscreen.toggle")}).render()}),t.memo("button.codeview",function(){return n.button({className:"btn-codeview",contents:n.icon(o.icons.code),tooltip:r.options.codeview,click:t.createInvokeHandler("codeview.toggle")}).render()}),t.memo("button.redo",function(){return n.button({contents:n.icon(o.icons.redo),tooltip:r.history.redo+a("redo"),click:t.createInvokeHandler("editor.redo")}).render()}),t.memo("button.undo",function(){return n.button({contents:n.icon(o.icons.undo),tooltip:r.history.undo+a("undo"),click:t.createInvokeHandler("editor.undo")}).render()}),t.memo("button.help",function(){return n.button({contents:n.icon(o.icons.question),tooltip:r.options.help,click:t.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){t.memo("button.imageSize100",function(){return n.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:r.image.resizeFull,click:t.createInvokeHandler("editor.resize","1")}).render()}),t.memo("button.imageSize50",function(){return n.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:r.image.resizeHalf,click:t.createInvokeHandler("editor.resize","0.5")}).render()}),t.memo("button.imageSize25",function(){return n.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:r.image.resizeQuarter,click:t.createInvokeHandler("editor.resize","0.25")}).render()}),t.memo("button.floatLeft",function(){return n.button({contents:n.icon(o.icons.alignLeft),tooltip:r.image.floatLeft,click:t.createInvokeHandler("editor.floatMe","left")}).render()}),t.memo("button.floatRight",function(){return n.button({contents:n.icon(o.icons.alignRight),tooltip:r.image.floatRight,click:t.createInvokeHandler("editor.floatMe","right")}).render()}),t.memo("button.floatNone",function(){return n.button({contents:n.icon(o.icons.alignJustify),tooltip:r.image.floatNone,click:t.createInvokeHandler("editor.floatMe","none")}).render()}),t.memo("button.removeMedia",function(){return n.button({contents:n.icon(o.icons.trash),tooltip:r.image.remove,click:t.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){t.memo("button.linkDialogShow",function(){return n.button({contents:n.icon(o.icons.link),tooltip:r.link.edit,click:t.createInvokeHandler("linkDialog.show")}).render()}),t.memo("button.unlink",function(){return n.button({contents:n.icon(o.icons.unlink),tooltip:r.link.unlink,click:t.createInvokeHandler("editor.unlink")}).render()})},this.build=function(e,i){for(var o=0,r=i.length;o<r;o++){for(var s=i[o],a=s[0],l=s[1],c=n.buttonGroup({className:"note-"+a}).render(),u=0,d=l.length;u<d;u++){var h=t.memo("button."+l[u]);h&&c.append("function"==typeof h?h(t):h)}c.appendTo(e)}},this.updateCurrentStyle=function(){var n=t.invoke("editor.currentStyle");if(this.updateBtnStates({".note-btn-bold":function(){return"bold"===n["font-bold"]},".note-btn-italic":function(){return"italic"===n["font-italic"]},".note-btn-underline":function(){return"underline"===n["font-underline"]},".note-btn-subscript":function(){return"subscript"===n["font-subscript"]},".note-btn-superscript":function(){return"superscript"===n["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===n["font-strikethrough"]}}),n["font-family"]){var o=n["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),r=list.find(o,e.isFontInstalled);i.find(".dropdown-fontname li a").each(function(){var t=$(this).data("value")+""==r+"";this.className=t?"checked":""}),i.find(".note-current-fontname").text(r)}if(n["font-size"]){var s=n["font-size"];i.find(".dropdown-fontsize li a").each(function(){var t=$(this).data("value")+""==s+"";this.className=t?"checked":""}),i.find(".note-current-fontsize").text(s)}if(n["line-height"]){var a=n["line-height"];i.find(".dropdown-line-height li a").each(function(){var t=$(this).data("value")+""==a+"";this.className=t?"checked":""})}},this.updateBtnStates=function(t){$.each(t,function(t,e){n.toggleBtnActive(i.find(t),e())})},this.tableMoveHandler=function(t){var e,n=18,i=$(t.target.parentNode),r=i.next(),s=i.find(".note-dimension-picker-mousecatcher"),a=i.find(".note-dimension-picker-highlighted"),l=i.find(".note-dimension-picker-unhighlighted");if(t.offsetX===undefined){var c=$(t.target).offset();e={x:t.pageX-c.left,y:t.pageY-c.top}}else e={x:t.offsetX,y:t.offsetY};var u={c:Math.ceil(e.x/n)||1,r:Math.ceil(e.y/n)||1};a.css({width:u.c+"em",height:u.r+"em"}),s.data("value",u.c+"x"+u.r),3<u.c&&u.c<o.insertTableMaxSize.col&&l.css({width:u.c+1+"em"}),3<u.r&&u.r<o.insertTableMaxSize.row&&l.css({height:u.r+1+"em"}),r.html(u.c+" x "+u.r)}},Toolbar=function(t){var e=$.summernote.ui,n=t.layoutInfo.note,i=t.layoutInfo.toolbar,o=t.options;this.shouldInitialize=function(){return!o.airMode},this.initialize=function(){o.toolbar=o.toolbar||[],o.toolbar.length?t.invoke("buttons.build",i,o.toolbar):i.hide(),o.toolbarContainer&&i.appendTo(o.toolbarContainer),n.on("summernote.keyup summernote.mouseup summernote.change",function(){t.invoke("buttons.updateCurrentStyle")}),t.invoke("buttons.updateCurrentStyle")},this.destroy=function(){i.children().remove()},this.updateFullscreen=function(t){e.toggleBtnActive(i.find(".btn-fullscreen"),t)},this.updateCodeview=function(t){e.toggleBtnActive(i.find(".btn-codeview"),t),t?this.deactivate():this.activate()},this.activate=function(t){var n=i.find("button");t||(n=n.not(".btn-codeview")),e.toggleBtn(n,!0)},this.deactivate=function(t){var n=i.find("button");t||(n=n.not(".btn-codeview")),e.toggleBtn(n,!1)}},LinkDialog=function(t){var e=this,n=$.summernote.ui,i=t.layoutInfo.editor,o=t.options,r=o.langInfo;this.initialize=function(){var t=o.dialogsInBody?$(document.body):i,e='<div class="form-group"><label>'+r.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+r.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(o.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+r.link.openInNewWindow+"</label></div>"),s='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+r.link.insert+"</button>";this.$dialog=n.dialog({className:"link-dialog",title:r.link.insert,fade:o.dialogsFade,body:e,footer:s}).render().appendTo(t)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===key.code.ENTER&&e.trigger("click")})},this.toggleLinkBtn=function(t,e,i){n.toggleBtn(t,e.val()&&i.val())},this.showLinkDialog=function(i){return $.Deferred(function(o){var r=e.$dialog.find(".note-link-text"),s=e.$dialog.find(".note-link-url"),a=e.$dialog.find(".note-link-btn"),l=e.$dialog.find("input[type=checkbox]");n.onDialogShown(e.$dialog,function(){t.triggerEvent("dialog.shown"),i.url||(i.url=i.text),r.val(i.text);var n=function(){e.toggleLinkBtn(a,r,s),i.text=r.val()};r.on("input",n).on("paste",function(){setTimeout(n,0)});var c=function(){e.toggleLinkBtn(a,r,s),i.text||r.val(s.val())};s.on("input",c).on("paste",function(){setTimeout(c,0)}).val(i.url).trigger("focus"),e.toggleLinkBtn(a,r,s),e.bindEnterKey(s,a),e.bindEnterKey(r,a),l.prop("checked",i.isNewWindow),a.one("click",function(t){t.preventDefault(),o.resolve({range:i.range,url:s.val(),text:r.val(),isNewWindow:l.is(":checked")}),e.$dialog.modal("hide")})}),n.onDialogHidden(e.$dialog,function(){r.off("input paste keypress"),s.off("input paste keypress"),a.off("click"),"pending"===o.state()&&o.reject()}),n.showDialog(e.$dialog)}).promise()},this.show=function(){var e=t.invoke("editor.getLinkInfo");t.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.invoke("editor.restoreRange"),t.invoke("editor.createLink",e)}).fail(function(){t.invoke("editor.restoreRange")})},t.memo("help.linkDialog.show",o.langInfo.help["linkDialog.show"])},LinkPopover=function(t){var e=this,n=$.summernote.ui,i=t.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){e.update()},"summernote.dialog.shown":function(){e.hide()}},this.shouldInitialize=function(){return!list.isEmpty(i.popover.link)},this.initialize=function(){this.$popover=n.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var e=this.$popover.find(".popover-content");t.invoke("buttons.build",e,i.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(t.invoke("editor.hasFocus")){var e=t.invoke("editor.createRange");if(e.isCollapsed()&&e.isOnAnchor()){var n=dom.ancestor(e.sc,dom.isAnchor),i=$(n).attr("href");this.$popover.find("a").attr("href",i).html(i);var o=dom.posFromPlaceholder(n);this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide()}else this.hide()},this.hide=function(){this.$popover.hide()}},ImageDialog=function(t){
var e=this,n=$.summernote.ui,i=t.layoutInfo.editor,o=t.options,r=o.langInfo;this.initialize=function(){var t=o.dialogsInBody?$(document.body):i,e="";if(o.maximumImageFileSize){var s=Math.floor(Math.log(o.maximumImageFileSize)/Math.log(1024)),a=1*(o.maximumImageFileSize/Math.pow(1024,s)).toFixed(2)+" "+" KMGTP"[s]+"B";e="<small>"+r.image.maximumFileSize+" : "+a+"</small>"}var l='<div class="form-group note-group-select-from-files"><label>'+r.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+e+'</div><div class="form-group note-group-image-url" style="overflow:auto;"><label>'+r.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',c='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+r.image.insert+"</button>";this.$dialog=n.dialog({title:r.image.insert,fade:o.dialogsFade,body:l,footer:c}).render().appendTo(t)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===key.code.ENTER&&e.trigger("click")})},this.show=function(){t.invoke("editor.saveRange"),this.showImageDialog().then(function(i){n.hideDialog(e.$dialog),t.invoke("editor.restoreRange"),"string"==typeof i?t.invoke("editor.insertImage",i):t.invoke("editor.insertImagesOrCallback",i)}).fail(function(){t.invoke("editor.restoreRange")})},this.showImageDialog=function(){return $.Deferred(function(i){var o=e.$dialog.find(".note-image-input"),r=e.$dialog.find(".note-image-url"),s=e.$dialog.find(".note-image-btn");n.onDialogShown(e.$dialog,function(){t.triggerEvent("dialog.shown"),o.replaceWith(o.clone().on("change",function(){i.resolve(this.files||this.value)}).val("")),s.click(function(t){t.preventDefault(),i.resolve(r.val())}),r.on("keyup paste",function(){var t=r.val();n.toggleBtn(s,t)}).val("").trigger("focus"),e.bindEnterKey(r,s)}),n.onDialogHidden(e.$dialog,function(){o.off("change"),r.off("keyup paste keypress"),s.off("click"),"pending"===i.state()&&i.reject()}),n.showDialog(e.$dialog)})}},ImagePopover=function(t){var e=$.summernote.ui,n=t.options;this.shouldInitialize=function(){return!list.isEmpty(n.popover.image)},this.initialize=function(){this.$popover=e.popover({className:"note-image-popover"}).render().appendTo("body");var i=this.$popover.find(".popover-content");t.invoke("buttons.build",i,n.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(t){if(dom.isImg(t)){var e=dom.posFromPlaceholder(t);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},VideoDialog=function(t){var e=this,n=$.summernote.ui,i=t.layoutInfo.editor,o=t.options,r=o.langInfo;this.initialize=function(){var t=o.dialogsInBody?$(document.body):i,e='<div class="form-group row-fluid"><label>'+r.video.url+' <small class="text-muted">'+r.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',s='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+r.video.insert+"</button>";this.$dialog=n.dialog({title:r.video.insert,fade:o.dialogsFade,body:e,footer:s}).render().appendTo(t)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===key.code.ENTER&&e.trigger("click")})},this.createVideoNode=function(t){var e,n=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,i=t.match(n),o=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,r=t.match(o),s=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,a=t.match(s),l=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,c=t.match(l),u=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,d=t.match(u),h=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,f=t.match(h),p=/^.+.(mp4|m4v)$/,m=t.match(p),g=/^.+.(ogg|ogv)$/,v=t.match(g),y=/^.+.(webm)$/,b=t.match(y);if(i&&11===i[1].length){var _=i[1];e=$("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+_).attr("width","640").attr("height","360")}else if(r&&r[0].length)e=$("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+r[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(a&&a[0].length)e=$("<iframe>").attr("frameborder",0).attr("src",a[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(c&&c[3].length)e=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+c[3]).attr("width","640").attr("height","360");else if(d&&d[2].length)e=$("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+d[2]).attr("width","640").attr("height","360");else if(f&&f[1].length)e=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+f[1]);else{if(!(m||v||b))return!1;e=$("<video controls>").attr("src",t).attr("width","640").attr("height","360")}return e.addClass("note-video-clip"),e[0]},this.show=function(){var i=t.invoke("editor.getSelectedText");t.invoke("editor.saveRange"),this.showVideoDialog(i).then(function(i){n.hideDialog(e.$dialog),t.invoke("editor.restoreRange");var o=e.createVideoNode(i);o&&t.invoke("editor.insertNode",o)}).fail(function(){t.invoke("editor.restoreRange")})},this.showVideoDialog=function(i){return $.Deferred(function(o){var r=e.$dialog.find(".note-video-url"),s=e.$dialog.find(".note-video-btn");n.onDialogShown(e.$dialog,function(){t.triggerEvent("dialog.shown"),r.val(i).on("input",function(){n.toggleBtn(s,r.val())}).trigger("focus"),s.click(function(t){t.preventDefault(),o.resolve(r.val())}),e.bindEnterKey(r,s)}),n.onDialogHidden(e.$dialog,function(){r.off("input"),s.off("click"),"pending"===o.state()&&o.reject()}),n.showDialog(e.$dialog)})}},HelpDialog=function(t){var e=this,n=$.summernote.ui,i=t.layoutInfo.editor,o=t.options,r=o.langInfo;this.createShortCutList=function(){var e=o.keyMap[agent.isMac?"mac":"pc"];return Object.keys(e).map(function(n){var i=e[n],o=$('<div><div class="help-list-item"/></div>');return o.append($("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append($("<span/>").html(t.memo("help."+i)||i)),o.html()}).join("")},this.initialize=function(){var t=o.dialogsInBody?$(document.body):i,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.2</a> \xb7 ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> \xb7 ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=n.dialog({title:r.options.help,fade:o.dialogsFade,body:this.createShortCutList(),footer:e,callback:function(t){t.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return $.Deferred(function(i){n.onDialogShown(e.$dialog,function(){t.triggerEvent("dialog.shown"),i.resolve()}),n.showDialog(e.$dialog)}).promise()},this.show=function(){t.invoke("editor.saveRange"),this.showHelpDialog().then(function(){t.invoke("editor.restoreRange")})}},AirPopover=function(t){var e=this,n=$.summernote.ui,i=t.options,o=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){e.update()},"summernote.change summernote.dialog.shown":function(){e.hide()},"summernote.focusout":function(t,n){agent.isFF||n.relatedTarget&&dom.ancestor(n.relatedTarget,func.eq(e.$popover[0]))||e.hide()}},this.shouldInitialize=function(){return i.airMode&&!list.isEmpty(i.popover.air)},this.initialize=function(){this.$popover=n.popover({className:"note-air-popover"}).render().appendTo("body");var e=this.$popover.find(".popover-content");t.invoke("buttons.build",e,i.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var e=t.invoke("editor.currentStyle");if(e.range&&!e.range.isCollapsed()){var n=list.last(e.range.getClientRects());if(n){var i=func.rect2bnd(n);this.$popover.css({display:"block",left:Math.max(i.left+i.width/2,0)-o,top:i.top+i.height})}}else this.hide()},this.hide=function(){this.$popover.hide()}},HintPopover=function(t){var e=this,n=$.summernote.ui,i=5,o=t.options.hint||[],r=t.options.hintDirection||"bottom",s=$.isArray(o)?o:[o];this.events={"summernote.keyup":function(t,n){n.isDefaultPrevented()||e.handleKeyup(n)},"summernote.keydown":function(t,n){e.handleKeydown(n)},"summernote.dialog.shown":function(){e.hide()}},this.shouldInitialize=function(){return s.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=n.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){e.$content.find(".active").removeClass("active"),$(this).addClass("active"),e.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var n=t.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},this.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var n=t.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},this.replace=function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var n=this.nodeFromItem(e);this.lastWordRange.insertNode(n),range.createFromNode(n).collapse().select(),this.lastWordRange=null,this.hide(),t.invoke("editor.focus")}},this.nodeFromItem=function(t){var e=s[t.data("index")],n=t.data("item"),i=e.content?e.content(n):n;return"string"==typeof i&&(i=dom.createText(i)),i},this.createItemTemplates=function(t,e){var n=s[t];return e.map(function(e,i){var o=$('<div class="note-hint-item"/>');return o.append(n.template?n.template(e):e+""),o.data({index:t,item:e}),0===t&&0===i&&o.addClass("active"),o})},this.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===key.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===key.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===key.code.DOWN&&(t.preventDefault(),this.moveDown()))},this.searchKeyword=function(t,e,n){var i=s[t];if(i&&i.match.test(e)&&i.search){var o=i.match.exec(e);i.search(o[1],n)}else n()},this.createGroup=function(t,n){var i=$('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,n,function(n){(n=n||[]).length&&(i.html(e.createItemTemplates(t,n)),e.show())}),i},this.handleKeyup=function(n){if(list.contains([key.code.ENTER,key.code.UP,key.code.DOWN],n.keyCode)){if(n.keyCode===key.code.ENTER&&this.$popover.is(":visible"))return}else{var o=t.invoke("editor.createRange").getWordRange(),a=o.toString();if(s.length&&a){this.$content.empty();var l=func.rect2bnd(list.last(o.getClientRects()));l&&(this.$popover.hide(),this.lastWordRange=o,s.forEach(function(t,n){t.match.test(a)&&e.createGroup(n,a).appendTo(e.$content)}),"top"===r?this.$popover.css({left:l.left,top:l.top-this.$popover.outerHeight()-i}):this.$popover.css({left:l.left,top:l.top+l.height+i}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};$.summernote=$.extend($.summernote,{version:"0.8.2",ui:ui,dom:dom,plugins:{},options:{modules:{editor:Editor,clipboard:Clipboard,dropzone:Dropzone,codeview:Codeview,statusbar:Statusbar,fullscreen:Fullscreen,handle:Handle,hintPopover:HintPopover,autoLink:AutoLink,autoSync:AutoSync,placeholder:Placeholder,buttons:Buttons,toolbar:Toolbar,linkDialog:LinkDialog,linkPopover:LinkPopover,imageDialog:ImageDialog,imagePopover:ImagePopover,videoDialog:VideoDialog,helpDialog:HelpDialog,airPopover:AirPopover},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!0,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}),function(t,e){if("function"==typeof define&&define.amd)define(["exports","module"],e);else if("undefined"!=typeof exports&&"undefined"!=typeof module)e(exports,module);else{var n={exports:{}};e(n.exports,n),t.autosize=n.exports}}(this,function(t,e){"use strict";function n(t){function e(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),s="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(s)&&(s=0),r()}function n(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function i(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function o(){var e=t.style.height,n=i(t),o=document.documentElement&&document.documentElement.scrollTop;t.style.height="auto";var r=t.scrollHeight+s;0!==t.scrollHeight?(t.style.height=r+"px",c=t.clientWidth,n.forEach(function(t){t.node.scrollTop=t.scrollTop}),o&&(document.documentElement.scrollTop=o)):t.style.height=e}function r(){o();var e=Math.round(parseFloat(t.style.height)),i=window.getComputedStyle(t,null),r=Math.round(parseFloat(i.height));if(r!==e?"visible"!==i.overflowY&&(n("visible"),o(),r=Math.round(parseFloat(window.getComputedStyle(t,null).height))):"hidden"!==i.overflowY&&(n("hidden"),o(),r=Math.round(parseFloat(window.getComputedStyle(t,null).height))),u!==r){u=r;var s=l("autosize:resized");try{t.dispatchEvent(s)}catch(a){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!a.has(t)){var s=null,c=t.clientWidth,u=null,d=function(){t.clientWidth!==c&&r()},h=function(e){window.removeEventListener("resize",d,!1),t.removeEventListener("input",r,!1),t.removeEventListener("keyup",r,!1),t.removeEventListener("autosize:destroy",h,!1),t.removeEventListener("autosize:update",r,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),a["delete"](t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",h,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",r,!1),window.addEventListener("resize",d,!1),t.addEventListener("input",r,!1),t.addEventListener("autosize:update",r,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",a.set(t,{destroy:h,update:r}),e()}}function i(t){var e=a.get(t);e&&e.destroy()}function o(t){var e=a.get(t);e&&e.update()}var r,s,a="function"==typeof Map?new Map:(r=[],s=[],{has:function(t){return r.indexOf(t)>-1},get:function(t){return s[r.indexOf(t)]},set:function(t,e){-1===r.indexOf(t)&&(r.push(t),s.push(e))},"delete":function(t){var e=r.indexOf(t);e>-1&&(r.splice(e,1),s.splice(e,1))}}),l=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(u){l=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(t){return t}).destroy=function(t){return t},c.update=function(t){return t}):((c=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t,e)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t},c.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],o),t}),e.exports=c}),function(){$(function(){var t;return toastr.options.positionClass="toast-bottom-left",toastr.options.closeButton=!0,toastr.options.timeOut=6e3,toastr.options.extendedTimeOut=5e3,toastr.options.preventDuplicates=!0,$.fn.datetimepicker.defaults.tooltips.decrementHour="Decrease",$.fn.datetimepicker.defaults.tooltips.incrementHour="Increase",$.fn.datetimepicker.defaults.tooltips.decrementMinute="Decrease",$.fn.datetimepicker.defaults.tooltips.incrementMinute="Increase",$(document).on("ajax:success","a.link_no_result_select2",function(){return $(".select2-container--open").prev("select").select2("close")}),$(document).on("ajax:success","a.ujs_start_conversation",function(t,e){return window.chat_box.open_conversation_with(e)}),$(document).on("inview","a.inview_click",function(){return $(this).trigger("click")}),window.showAlert=function(t,e){var n;return n=$('<div class="alert alert-'+t+'" />').html(e),$(".container.page").prepend(n),n.fadeOut(15e3,function(){return $(this).remove()})},$(document).on("input","textarea[maxlength]",function(){var t,e,n;if((e=$(this)).parent().find(".max-length-error").remove(),(n=parseInt(e.attr("maxlength")))&&n===e.val().length)return t=$('<div class="error max-length-error" />').html("You reached maximum limit of "+n+" characters"),e.after(t)}),$("body").tooltip({selector:"span.verified_badge, span.volunteer_badge, a[title]:not(.custom_tooltip), span.auto_tooltip",trigger:"hover",container:"body"}).on("shown.bs.tooltip",function(t){var e;return(e=$(t.target)).data("hide-timeout")&&clearTimeout(e.data("hide-timeout")),$(t.target).data("hide-timeout",setTimeout(function(){return e.tooltip("hide")},5e3))}).on("hidden.bs.tooltip",function(t){if($(t.target).data("hide-timeout"))return clearTimeout($(t.target).data("hide-timeout"))}),$(document).on("click","span.verified_badge",function(t){return t.stopPropagation(),window.open("/badges#verified"),!1}),$(document).on("click","span.volunteer_badge",function(t){return t.stopPropagation(),window.open("/badges#volunteer"),!1}),$("body").on("focus","textarea.mentionable:not(.mention_added)",function(){var t;return t={data:function(t){if(t&&t.length>2)return $.getJSON("/dashboard/search/get_users",{search:t})},map:function(t){return{value:t.mention_key,text:"<strong>"+t.full_name+"</strong> <small>"+t.mention_key+"</small>"}}},$(this).attr("data-suggest-position")&&(t.top=$(this).attr("data-suggest-position")),$(this).addClass("mention_added").suggest("@",t)}),$("body").on("click","a.popup-image-link, a.gallery-item",function(t){return t.preventDefault(),$(this).ekkoLightbox({alwaysShowClose:!0})}),$.fn.valid_panel=function(){var t;return t=!0,$(this).find("input,select,textarea").each(function(){if(!$(this).valid())return t=!1}),t},$.fn.loadingButton=function(t){return this.each(function(){var e;return e=$(this),t?e.hasClass("loadingButton")?e.removeClass("loadingButton").html(e.data("bk-loading")).prop("disabled",!1):void 0:(e.data("bk-loading",e.html()),e.addClass("loadingButton").html(e.data("disabled-with")||"Loading...").prop("disabled",!0))})},t=$.fn.show,$.fn.show=function(){return $(this).removeClass("hidden"),t.apply(this,arguments)},$.fn.toogle_class_delay=function(t,e){var n;return(n=$(this)).addClass(t),setTimeout(function(){return n.removeClass(t)},e),this},$.fn.decre_incre=function(t,e){return this.each(function(){var n;return(n=$(this)).attr(t,parseInt(n.attr(t))+(e?-1:1))}),this},$.fn.tags_autocomplete=function(t){return this.each(function(){var e,n;return n={width:"100%",placeholder:{text:(e=$(this)).attr("placeholder")},tags:!0,ajax:{url:function(){return e.attr("data-url")||"/api/v1/web/hash_tags/autocomplete_hash_tags"},dataType:"json",delay:250,data:function(t){return{term:t.term}},processResults:function(t){return{results:$.map(t,function(t){return{text:t.name,id:t.name}})}},cache:!0},minimumInputLength:2,escapeMarkup:function(t){return t}},n=$.extend(n,t||{}),e.select2(n)}),this},$.fn.repeat_until_run=function(t,e){var n,i,o,r;return i=o=50*(r=500),(n=function(){var s,a,l,c;for(l=window,s=0,a=(c=t.split(".")).length;s<a&&(l=l[c[s]]);s++);return l?e():o<=0?console.error("Couldn't load js library in "+i+" seconds: "+t):(o-=r,setTimeout(n,r))})()},$.fn.get_data_for=function(t){var e,n;return t?(e={},n=this[0],$.each(n.attributes,function(i,o){var r;if(r="data-"+t+"-",0===o.name.search(r))return e[o.name.replace(r,"")]=$(n).data(o.name.replace(/^data-/,""))}),e):console.error("Required data_key for $.get_data_for()")},$.fn.card_field=function(){return this.each(function(){var t,e;return t=$(this),e=$('<div class="credit_card_field_logo card-generic"></div>'),t.addClass("credit_card_field").validateCreditCard(function(t){return e.attr("class","credit_card_field_logo card-"+(t.card_type?t.card_type.name:"generic"))}),t.wrap('<div class="credit_card_field_w"></div>').before(e)}),this},$.fn.stickeableLink=function(t){return window.sticker_counter=window.sticker_counter||0,$(this).each(function(){return $(this).attr("id")||$(this).attr("id","sticker_link_"+(window.sticker_counter+=1)),stickersSingleton.makeStickeable($(this),t)}),this},$.fn.stickerParse=function(){return $(this).each(function(){var t,e,n,i,o,r;for(o=[],t=0,e=(i=(n=$(this)).html().match(/\[\[[0-9]*\]\]/g)||[]).length;t<e;t++)r=i[t],stickersSingleton.stickers.isSticker(r)?o.push(stickersSingleton.stickers.parseStickerFromText(r,function(t){return t?n.html(n.html().replace(r,t.html)):n.html(n.html().replace(r,"<i>Unable to fetch the sticker</i>"))})):o.push(void 0);return o}),this},$.fn.feedEditor=function(t){var e;return e={height:"135px",focus:!1,toolbar:[["style",["picture","link","style","italic","bold","bible","feedMode","stickerpipe"]]],popover:{image:[["custom",["imageAttributes"]],["imagesize",["imageSize100","imageSize50","imageSize25"]],["remove",["removeMedia"]]]},callbacks:{onImageUpload:$.fn.summerUploader},hint:{match:/\B@((\w| )*)$/,search:function(t,e){if(t)return $.getJSON("/dashboard/search/get_users?search="+t,e)},template:function(t){return t.full_name},content:function(t){return"@"+t.mention_key}}},$(this).summernote($.extend({},e,t||{})),this},$.fn.userAutoCompleter=function(t){return this.each(function(){var e,n,i,o;if(i=$(this),(o=$.extend({},{searchable:!0,width:"100%",allowClear:i.data("allowclear"),placeholder:{text:i.attr("placeholder")}},t||{})).searchable&&(o=$.extend({},{ajax:{url:function(){return i.attr("data-url")||"/dashboard/search/get_users"},dataType:"json",delay:250,data:function(t){return{search:t.term,not_in_group:i.attr("data-notin-group"),not_in_conversation:i.attr("data-notin-conversation"),exclude:(i.val()||[]).concat((i.attr("data-excluded")||i.attr("data-exclude")||"").split(",")),kind:i.attr("data-user-kind")}},processResults:function(t){return{results:$.map(t,function(t){return $.extend({text:t.full_name||t.label||t.name},t)})}},cache:!0},minimumInputLength:2,escapeMarkup:function(t){return t}},o)),i.select2(o),o.listable)return e=o.listable,0===(n=i.nextAll(".users-list-group")).length&&(n=$('<div class="list-group users-list-group"></div>')),i.next().addClass("hide_selected_items").after(n).find(".select2-search__field").attr("placeholder",i.attr("placeholder")),i.on("select2:select",function(t){var o,r;if(o=t.params.data,r=$('<div class="list-group-item">\n  <div class="media-left">\n    '+user_avatar_widget(o,30)+'\n  </div>\n  <div class="media-body">\n    <div class="row">\n      <div class="col-xs-8 col1">\n        '+o.text+'\n      </div>\n        <div class="col-xs-4 text-right col2">\n          <a class="btn-primary btn-sm btn btn-option-delete" href="#"><i class="glyphicon glyphicon-remove"></i></a>\n        </div>\n    </div>\n  </div>\n</div>'),n.prepend(r),r.find(".btn-option-delete").click(function(){return $(this).closest(".list-group-item").remove(),i.find('option[value="'+o.id+'"]').prop("selected",!1),!1}),e.on_selected)return e.on_selected(r,o)}),i.find("option:selected").each(function(){var t;return(t=jQuery.Event("select2:select")).params={data:$.extend({},{text:$(this).html(),id:$(this).val()},$(this).data())},i.trigger(t)})}),this},$.fn.wizard_validation=function(t){return $(this).on("click",t||".btn-next",function(){var t;return t=!0,$(this).closest(".panel").find("input,select,textarea").valid()||(t=!1),!!t&&($(this).closest(".panel").next().find(".panel-heading a").click(),!1)})}}),window.password_strong_checker=function(t){var e;return(e={}).ui={container:"#user_password_fields",showVerdictsInsideProgressBar:!0,viewports:{progress:".pwstrength_viewport_progress"}},$(t).find('input[name="user[password]"]').pwstrength(e)},window.build_slide_range_field_helper=function(t){return t.find("input").slider().on("slide",function(){var t;return t=$(this).val().split(","),$(this).parent().prev().find("span").html(t[0]),$(this).parent().next().find("span").html(t[1])}).trigger("slide")},window.init_counselors_list=function(){},window.getSelectionText=function(){return document.selection?document.selection.createRange().htmlText:window.getSelection().toString()},window.loadJS=function(t){var e;if(window.custom_loadded_js||(window.custom_loadded_js=[]),!(window.custom_loadded_js.indexOf(t)>-1))return window.custom_loadded_js.push(t),(e=document.createElement("script")).src=t,document.body.appendChild(e)},String.prototype.mask_user_mentions=function(){var t,e,n,i,o;for(t=0,n=(i=(o=this).match(/@([\S.]*)/g)||[]).length;t<n;t++)e=(e=i[t]).replace("@",""),o=o.replace("@"+e,"<a href='/dashboard/users/"+e+"/profile'>@"+e+"</a>");return o},String.prototype.truncate=function(t,e){return this.length>t?this.substr(0,t-1)+(e||"&hellip;"):this},String.prototype.skip_badge=function(){return this.split("<span")[0]},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Array.prototype["delete"]=function(t){var e;return-1!==(e=this.indexOf(t))&&this.splice(e,1),this}}.call(this),function(){$(function(){return window.real_time_connector.subscribeToPrivateChannel(function(t){return realtime_notificator(t)})}),window.realtime_notificator=function(t){var e,n,i,o,r,s;switch(s={desktop_notification:!0},o="",t.type){case"comment":t.user.id!==CURRENT_USER.id&&t.user.id!==t.content.user_id&&(e="question"===t.content.content_type?"question":"post",t.source.parent_id&&t.parent_comment.user_id===CURRENT_USER.id?t.parent_comment.user_id===CURRENT_USER.id&&(o=" replied to your comment on "+(t.content.user_id===CURRENT_USER.id?"your":t.content.user_name+"'s")+" "+e+"."):o=t.content.user_id===CURRENT_USER.id?" commented on your "+e+".":" also Commented on "+t.content.user_name+"'s "+e+".",s.onclick=function(){return window.location.href="/dashboard/contents/"+t.source.content_id});break;case"like_comment":t.user.id!==CURRENT_USER.id&&(e="question"===t.content.content_type?"question":"post",n=t.source.parent_id?"reply":"comment",t.source.user_id===CURRENT_USER.id&&(o=t.content.user_id===CURRENT_USER.id?" loves your "+n+" on your "+e+".":" loves your "+n+" on "+t.content.user_name+"'s "+e+".",s.onclick=function(){return window.location.href="/dashboard/contents/"+t.source.content_id}));break;case"like":t.user.id===CURRENT_USER.id||t.source.user_id!==CURRENT_USER.id||t.fake||(o=" loves your status.",s.onclick=function(){return window.location.href="/dashboard/contents/"+t.source.id});break;case"share":t.user.id!==CURRENT_USER.id&&t.source.user_id===CURRENT_USER.id&&(o=" shared your post.",s.onclick=function(){return window.location.href="/dashboard/contents/"+t.source.id});break;case"follow":o=" followed you.",s.onclick=function(){return window.location.href="/dashboard/users/"+t.user.id+"/profile"};break;case"wall_posted":o=" posted in your profile.",s.onclick=function(){return window.location.href="/dashboard/contents/"+t.id};break;case"destroyed_conversation":o=' destroyed a conversation with you "'+t.source.group_title+'".';break;case"excluded_conversation":o=' excluded you from conversation "'+t.source.group_title+'".';break;case"new_notification":(i=$("#notification_menu .counter")).length>0?(r=i.data("qty")+1,i.html(shortenLargeNumber(r,1)).data("qty",r)):$("<span class='counter badge' data-qty='1'></span>").html("1").appendTo("#notification_menu");break;case"appointment_accepted":case"appointment_rejected":case"appointment_rescheduled":case"appointment_counseling_time":
t.user_id!==CURRENT_USER.id&&new ToastNotificator(t.notification.body,{title:t.notification.title,desktop_notification:!0});break;case"appointment_created":t.user_id!==CURRENT_USER.id&&new ToastNotificator(t.notification.body,{onclick:function(){return window.location.href="/dashboard/appointments"},title:t.notification.title,desktop_notification:!0});break;case"content_live_video_created":case"answered_pray":new ToastNotificator(t.notification.body,{onclick:function(){return window.location.href="/dashboard/contents/"+t.id},title:t.notification.title,desktop_notification:!0});break;case"pledge_reminder":new ToastNotificator(t.notification.body,{onclick:function(){return window.location.href="/dashboard/user_finances?pledge_id="+t.id},title:t.notification.title,desktop_notification:!0})}if(o)return o=t.user.full_name+o,new ToastNotificator(o,s)}}.call(this),function(){$(function(){return window.real_time_connector.subscribeToPublicChannel(function(){}),window.real_time_connector.subscribeToPrivateChannel(function(t){switch(t.type){case"update_settings":return window.CURRENT_USER_SETTINGS=t.source;case"new_feed":if(t.user.id!==CURRENT_USER.id)return ContentManager.new_feed_notification();break;case"appointment_start_call":case"appointment_ping_call":return AppointmentCall.incoming_call(t);case"appointment_cancel_call":return AppointmentCall.stop_incoming_call(t);case"appointment_created":return Appointment.created(t);case"appointment_updated":case"appointment_rescheduled":case"appointment_counseling_time":return Appointment.updated(t);case"appointment_destroyed":return Appointment.destroyed(t);case"appointment_accepted":return Appointment.accepted(t);case"feed_praying_request":if(t.user_requester_id!==CURRENT_USER.id)return SidebarManager.load_praying_request(t.content_id,!0);break;case"ask_communion":return UserGroupPage.ask_communion(t)}})})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.RealTimeConnection=function(){function e(){var e;(this.subscribeToChannel=t(this.subscribeToChannel,this),this.subscribeToPublicChannel=t(this.subscribeToPublicChannel,this),this.subscribeToPrivateChannel=t(this.subscribeToPrivateChannel,this),this.private_listeners=[],this.common_listeners=[],this.channel_subscriptions={},window.CURRENT_USER)&&pubnubDemo.addListener({message:(e=this,function(t){var n,i,o,r,s,a;if(r=JSON.parse(t.message),t.message=r,moment().subtract(20,"seconds").unix()<r.sent_at){for(console.log("Calling notification callback: ",r),a=[],i=0,o=(s=e.channel_subscriptions[t.channel]||[]).length;i<o;i++)n=s[i],a.push(n(r.data));return a}})})}return e.prototype.subscribeToPrivateChannel=function(t){return this.prv_channel||(this.prv_channel=$("meta[name=cryptedHash]").attr("content")),this.subscribeToChannel(this.prv_channel,t)},e.prototype.subscribeToPublicChannel=function(t){return this.common_channel||(this.common_channel=$("meta[name=commonHash]").attr("content")),this.subscribeToChannel(this.common_channel,t)},e.prototype.subscribeToChannel=function(t,e){var n;if(window.CURRENT_USER)return t=t,this.channel_subscriptions[t]||pubnubDemo.subscribe({channels:[t]}),(n=this.channel_subscriptions)[t]||(n[t]=[]),this.channel_subscriptions[t].push(e)},e}(),window.real_time_connector=new RealTimeConnection}.call(this),function(){$(function(){var t,e,n,i,o;return n=function(t){return'<div class="tt-dataset-footer">See all: <a href="/dashboard/search?filter='+t.query+'&type=people">People</a><a href="/dashboard/search?filter='+t.query+'&type=stories">Stories</a><a href="/dashboard/search?filter='+t.query+'&type=groups">User Groups</a></div>'},i=$("#main_header_search"),o=0,t=i.find("button.submit-btn"),(e=i.find("#main_search")).typeahead({minLength:2},{name:"user-suggestions",display:function(t){return t.first_name+" "+t.last_name},templates:{suggestion:function(t){return'<div class="tt-suggestion tt-selectable">'+t.full_name+"</div>"},header:"<h4>Users</h4>",footer:n},source:new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/dashboard/search/get_autocomplete_data?kind=users&search=%QUERY",wildcard:"%QUERY",filter:function(t){var e,n,i;for(e=0,n=(i=t.users).length;e<n;e++)i[e]._kind="user-suggestion";return t.users}}})},{name:"content-suggestions",display:function(t){return t.title.truncate(35,"...")},templates:{header:"<h4>Stories</h4>",footer:n},source:new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/dashboard/search/get_autocomplete_data?kind=contents&search=%QUERY",beforeSend:function(){return console.log("before send",this,arguments)},wildcard:"%QUERY",filter:function(t){var e,n,i;for(e=0,n=(i=t.contents).length;e<n;e++)i[e]._kind="content-suggestion";return t.contents}}})},{name:"group-suggestions",display:"name",templates:{suggestion:function(t){return'<div class="tt-suggestion tt-selectable">'+t.name+"</div>"},header:"<h4>User Groups</h4>",footer:n},source:new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/dashboard/search/get_autocomplete_data?kind=groups&search=%QUERY",wildcard:"%QUERY",filter:function(t){var e,n,i;for(e=0,n=(i=t.groups).length;e<n;e++)i[e]._kind="group-suggestion";return t.groups}}})},{name:"hast_tag-suggestions",display:"name",templates:{header:"<h4>Trending Now</h4>",footer:n},source:new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/dashboard/search/get_autocomplete_data?kind=tags&search=%QUERY",wildcard:"%QUERY",filter:function(t){var e,n,i;for(e=0,n=(i=t.hash_tags).length;e<n;e++)i[e]._kind="hashtag-suggestion";return t.hash_tags}}})}).on("typeahead:selected",function(t,e){if("content-suggestion"===e._kind&&(window.location.href="/dashboard/contents/"+e.id),"user-suggestion"===e._kind&&(window.location.href="/dashboard/users/"+e.id+"/profile"),"hashtag-suggestion"===e._kind&&(window.location.href="/dashboard/contents?tag_key="+e.name.replace("#","")),"group-suggestion"===e._kind)return window.location.href="/dashboard/user_groups/"+e.id}).on("typeahead:asyncrequest",function(){return 0===o&&t.html("<i class='fa fa-spinner fa-spin'></i>"),o+=1}).on("typeahead:asynccancel typeahead:asyncreceive",function(){if(0===(o-=1))return t.html('<i class="fa fa-search"></i>')}),e.after(t),$("#search").on("submit",function(){if(""===$(this).find("input.tt-input").val())return!1})})}.call(this),function(){$(function(){return ion.sound({sounds:[{alias:"incoming_call",name:"ringtone"},{alias:"outgoing_call",name:"calling"},{alias:"end_call",name:"end_of_call"},{alias:"general_notification",name:"chime_bell_ding"},{alias:"new_message",name:"pop_banner_bible_sound"},{alias:"audio_sent",name:"message_sent"}],path:"/audio/",preload:!1,multiplay:!0,volume:.9})})}.call(this),function(){$(function(){return $(".splash-screen-close").click(function(t){return t.preventDefault(),Cookies.set("splash-screen","hidden",{expires:3}),$("#splash-screen").remove()})})}.call(this),function(){this.ToastNotificator=function(){function t(t,e,n){(e=e||{}).onclick&&(e.positionClass=toastr.options.positionClass+" as_link"),"error"===n?toastr.error(t,e.title||"Error",e):(toastr.success(t,e.title||"Notification",e),e.desktop_notification&&(e.onclick&&(e.onClick=function(){return window.focus(),this.close(),e.onclick()}),e.body=t,DesktopMessage.notify(e.title||"Notification",e))),window.CURRENT_USER_SETTINGS&&CURRENT_USER_SETTINGS.notification_sound&&ion.sound.play("general_notification")}return t}()}.call(this),function(){window.ujs_callbacks_checker=function(t){return t.find(".hook_caller").add(t.filter(".hook_caller")).each(function(){return ujs_eval_callback($(this))})},window.ujs_eval_callback=function(t,e){var n,i;return t.hasClass("ujs_hook_caller_evaluated")||t.bind("ujs_hook_recall",function(n){return window.ujs_eval_callback(t,e),n.stopPropagation()}),t.addClass("ujs_hook_caller_evaluated"),e=e||t.attr("data-callback")||t.attr("data-callback-class"),console.log("hook:",e),e.search(":")>=0?(i=e.split(":"),window.ujs_initialized_commands||(window.ujs_initialized_commands=[]),n="ujs_eval_var_"+i[0].toLowerCase(),"object"==typeof window[n]&&$.inArray(e,window.ujs_initialized_commands)<0?window[n][i[1]](t):"object"==typeof window[i[0]]?window[i[0]][i[1]](t):(window[n]=new window[i[0]],window[n][i[1]](t),window.ujs_initialized_commands.push(e))):e.search(/\./)>=0?(i=e.split("."),window[i[0]][i[1]](t)):window[e](t)},window.modal_tpl=function(t){var e,n,i;switch(i=118,t=$.extend({},{tabindex:"",id:"temporal_modal",size:"","class":"",title:"",content:'<h3 class="text-center text-muted">Loading ...</h3>',submit_btn:"",cancel_btn:"",deletable:!0,onclose:null,kind:""},t||{}),(e=$('<div class="modal fade '+t["class"]+'" '+(t.tabindex?'tabindex="-1"':"")+' role="dialog" id="'+t.id+'" data-backdrop="static" data-keyboard="false"> <div class="modal-dialog '+t.size+'" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><i class="fa fa-times-circle"></i></button>'+(t.title?'<h4 class="modal-title">'+t.title+"</h4>":"")+'</div> <div class="modal-body"></div> <div class="modal-footer '+(t.submit_btn||t.cancel_btn?"":"hidden")+' text-right">'+(t.submit_btn?'<button type="button" class="btn btn-primary submit_btn">'+t.submit_btn+"</button>":"")+(t.cancel_btn?'<button type="button" class="btn btn-default cancel_btn" data-dismiss="modal">'+t.cancel_btn+"</button>":"")+"</div> </div> </div> </div>").on("hidden.bs.modal",function(){if(t.onclose&&t.onclose(e),t.deletable)return setTimeout(function(){return e.remove()},100)}).on("shown.bs.modal",function(){return e.prev(".modal-backdrop").css("z-index",e.css("z-index"))})).find(".modal-body").html(t.content),e.find(".validating-form form, form.validate").validate(),e.find(".modal-footer").hasClass("hidden")||(e.find(".modal-footer").hasClass("hidden")||(i+=65),e.find(".modal-body").css("max-height","calc(100vh - "+i+"px)").css("overflow-y","auto")),t.title||((n=e.find(".modal-body > .modal-title:first")).length&&e.find(".modal-header").append(n),n.length||e.find(".modal-header").css({"padding-bottom":"0","border-bottom":"none"})),t.kind){case"success":e.find(".modal-header").css("color","#fff").addClass("label-success").find(".modal-title").prepend('<i class="fa fa-check-circle fa-2x" style="vertical-align: middle; margin: -10px 0;"></i> &nbsp;');break;case"warning":e.find(".modal-header").css("color","#fff").addClass("label-warning").find(".modal-title").prepend('<i class="fa fa-warning fa-2x" style="vertical-align: middle; margin: -10px 0;"></i> &nbsp;');break;case"danger":e.find(".modal-header").css("color","#fff").addClass("label-danger").find(".modal-title").prepend('<i class="fa fa-info-circle fa-2x" style="vertical-align: middle; margin: -10px 0;"></i> &nbsp;');break;case"info":e.find(".modal-header").css("color","#fff").addClass("label-info").find(".modal-title").prepend('<i class="fa fa-info-circle fa-2x" style="vertical-align: middle; margin: -10px 0;"></i> &nbsp;');break;default:e.addClass("modal-LR")}return e},$(function(){return $.fn.delete_item=function(t,e){var n,i;return t||(t="slow"),(i=(n=$(this)).parent()).attr("data-empty-msg")&&0===n.siblings().length&&n.after("<p class='empty_msg'>"+i.attr("data-empty-msg")+"</p>"),e?n.fadeOut(t):n.fadeOut(t,function(){return n.remove()}),this},$.fn.add_item=function(t,e){var n;return n=$(this),e?n.prepend(t):n.append(t),n.children(".empty_msg").remove(),this},setTimeout(function(){return ujs_callbacks_checker($("body")),$(document).bind("DOMNodeInserted",function(t){return ujs_callbacks_checker($(t.originalEvent.target))})},1),$(document).on("click","a.ujs_modal_inline",function(t){var e,n,i;return e={title:(n=$(t.target)).attr("data-modal-title")||n.attr("title")||n.attr("data-original-title"),content:n.attr("data-content"),size:n.attr("data-modal-size")},n.attr("data-modal-id")&&(e.id=n.attr("data-modal-id")),(i=modal_tpl(e)).data("ujs_link_caller",n),i.modal(),n.trigger("ujs-modal-opened",i),t.preventDefault()}),$(document).on("ajax:before","form.ujs_filestyle",function(){var t,e;if(e=$(this).attr("data-disable-with"))return t=$(this).find(".group-span-filestyle .btn"),$(this).addClass("visible").data("disable-backup",t.html()),t.html(e)}).on("ajax:complete","form.ujs_filestyle",function(){var t;if(t=$(this).removeClass("visible").find(".group-span-filestyle .btn"),$(this).data("disable-backup"))return t.html($(this).data("disable-backup"))}),$(document).on("ajax:before",function(t){var e;return(!(e=$(t.target)).hasClass("ujs_qty_checker")||"0"!==e.attr("data-ujs-qty"))&&(e.hasClass("ujs_block_loading")?e.append("<div class='ujs_block_loading_panel'><i class='fa fa-spinner fa-spin'></i></div>"):void 0)}),$(document).on("ajax:before",function(t){return $(t.target).addClass("ujs_loading")}),$(document).on("ajax:complete",function(t){return $(t.target).removeClass("ujs_loading")}),$(document).on("ajax:complete",function(t){var e;if(((e=$(t.target)).hasClass("dropdown-menu-item")||e.parent().parent().hasClass("dropdown-menu"))&&e.closest(".dropdown-menu").parent().removeClass("open"),e.hasClass("ujs_block_loading"))return e.find(".ujs_block_loading_panel").remove()}),$(document).on("ajax:success",function(e,server_result,status,req){var $this,element,find_element,modal,r,result;if(element=$(e.target),result=server_result,req.responseJSON&&"ujs_body_content"in req.responseJSON&&(result=req.responseJSON.ujs_body_content),find_element=function(t,e){var n;return n=e||element,element.attr("data-element-"+t)&&(n=$(element.attr("data-element-"+t))),element.attr("data-closest-"+t)&&(n="parent"===element.attr("data-closest-"+t)?n.parent():n.closest(element.attr("data-closest-"+t))),n},element.hasClass("ujs_link_modal")&&(modal=modal_tpl({title:element.attr("data-modal-title")||element.attr("title")||element.attr("data-original-title"),content:result,size:element.attr("data-modal-size")}),modal.data("ujs_link_caller",element),modal.modal(),element.hasClass("ujs_skip_close_modal")&&modal.find(".modal-header .close").remove(),element.trigger("ujs-modal-opened",modal),modal.find("form").data("ujs_link_caller",element),element.attr("data-modal-confirm")&&modal.find("form").attr("data-confirm",element.attr("data-modal-confirm"))),element.hasClass("ujs_content_to")&&(r=result,element.attr("data-partial-content")&&(r=$(result).find(element.attr("data-partial-content"))),element.attr("data-content-closest")&&element.closest(element.attr("data-content-closest")).html(r),element.attr("data-content-to")&&$(element.attr("data-content-to")).html(r),element.attr("data-before-to")&&$(element.attr("data-before-to")).before(r),(element.attr("data-prepend-to")||element.attr("data-append-to"))&&$(element.attr("data-prepend-to")||element.attr("data-append-to")).add_item(r,element.attr("data-prepend-to"))),element.hasClass("reset_on_success")&&(element[0].reset(),element.find("input:file").val(""),element.find("select.select2-hidden-accessible").val(null).trigger("change")),element.hasClass("ujs_success_replace")&&find_element("replace").replaceWith(result).fadeTo(0,0).fadeTo("slow",1),element.hasClass("ujs_modal_success_replace")&&find_element("replace",element.closest(".modal").data("ujs_link_caller")).replaceWith(result).fadeTo(0,0).fadeTo("slow",1),element.hasClass("ujs_modal_success")&&($this=element.closest(".modal").data("ujs_link_caller"),eval(""+$this.data("ujs-modal-callback"))),element.hasClass("ujs_success_hide")&&find_element("hide").delete_item("slow",!0),element.hasClass("ujs_success_remove")&&find_element("remove").delete_item("slow",!1),element.hasClass("ujs_success_show")&&find_element("show").removeClass("hidden").show(),element.data("ujs_link_caller")&&element.data("ujs_link_caller").attr("data-modal-expression")&&(window.ujs_expression_caller=element.data("ujs_link_caller"),eval("window['ujs_expression_caller']."+element.data("ujs_link_caller").attr("data-modal-expression"))),element.hasClass("ujs_expression")&&element.data("ujs-expression")&&(window.ujs_expression_caller=element,eval("window['ujs_expression_caller']."+element.data("ujs-expression"))),element.hasClass("ujs_eval")&&element.data("ujs-eval")&&(window.ujs_expression_caller=element,eval(""+element.data("ujs-eval"))),element.hasClass("ujs_hide_modal")&&element.closest(".modal").modal("hide"),element.hasClass("ujs_remote_tab")&&(element.removeAttr("data-remote").attr("href",element.data("target")).tab("show"),setTimeout(function(){return element.removeAttr("data-disable-with")},500)),element.hasClass("ujs_success_reload"))return setTimeout(function(){return window.location.reload()},300)}),$(document).on("ajax:success",function(t,e,n,i){var o;if(i.responseJSON?o=i.responseJSON.ujs_notification_message:i.responseText&&0===i.responseText.search('{"ujs_notification_message":')&&(o=JSON.parse(i.responseText).ujs_notification_message),o)return new ToastNotificator(o,null,"success")}),$(document).on("ajax:success",function(t,e,n,i){var o;if(i.responseJSON?o=i.responseJSON.ujs_modal:i.responseText&&0===i.responseText.search('{"ujs_modal":')&&(o=JSON.parse(i.responseText).ujs_modal),o)return modal_tpl(o).modal()}),$(document).on("ajax:error",function(t,e){var n;return console.log("ajax:error",arguments),401===e.status&&window.location.replace("/users/sign_in"),n=["An error occurred in your request."],e.responseJSON&&e.responseJSON.errors?n=e.responseJSON.errors:0===e.responseText.search('{"errors":')&&(n=JSON.parse(e.responseText).errors),new ToastNotificator(n.join("<br> "),null,"error")})})}.call(this);var Form={validClass:"valid",minLength:1,validateLength:function(t){return t.value.length<this.minLength?(t.classList.contains("valid-error")&&t.className.replace(/\bvalid-error\b/,""),t.className+=" valid-error",$(".valid-error").parent().next(".error-message").show(),$(".valid-error").parents().siblings("#imageError.error-message").show(),$(".valid-error").next(".error-message").show(),!1):(-1==t.className.indexOf(" "+Form.validClass)&&(t.className+=" "+Form.validClass),!0)},getSubmit:function(){for(var t=$("form").find("input"),e=0;e<t.length;e++)if("submit"==t[e].type)return t[e];return!1}};$(document).ready(function(){$(".validating-form form, form.validate").each(function(){$(this).validate()})}),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};this.VideoPlayer=function(){function e(t){this.video=t,this.check_duration_flag=!1,this.check_duration_viewing(),this.video_autoplay()}return e.prototype.video_autoplay=function(){return $(this.video).on("inview",function(t,e){var n;n=t.currentTarget,e||n.pause()})},e.prototype.check_duration_viewing=function(){return $(this.video).on("play",(e=this,function(n){var i;if(i=n.currentTarget,!e.check_duration_flag)return new t(i),e.check_duration_flag=!0}));var e},e}(),t=function(){function t(t){var n;this.video=t,this.check_view_time=e(this.check_view_time,this),this.video.addEventListener("loadedmetadata",(n=this,function(){return n.video_duration=$(n.video).get(0).duration,n.time_for_up_view=n.video_duration/5,n.start_time=$(n.video).get(0).currentTime,n.view_time=0,n.pause_video(),n.play_video(),n.time_lost=n.time_for_up_view,n.timer_id=setTimeout(n.check_view_time,1e3*(n.time_lost+1)),n.start_timer=Date.now()}))}return t.prototype.play_video=function(){return $(this.video).on("play",(t=this,function(){return t.start_timer=Date.now(),t.start_time=$(t.video).get(0).currentTime,t.time_lost-=t.time_passed,t.timer_id=setTimeout(t.check_view_time,1e3*t.time_lost)}));var t},t.prototype.pause_video=function(){return $(this.video).on("pause",(t=this,function(){if(clearTimeout(t.timer_id),t.time_passed=(Date.now()-t.start_timer)/1e3,t.view_time+=t.time_passed,t.video_duration===$(t.video).get(0).currentTime)return $(t.video).off("play"),t.play_video(),t.time_passed=0,t.time_lost=t.time_for_up_view+1,t.view_time=0}));var t},t.prototype.check_view_time=function(){var t;return t=$(this.video).get(0).currentTime,this.view_time+=t-this.start_time},t}()}.call(this),jQuery(document).ready(function(t){setTimeout(function(){t("div.alert").not(".skip_dismiss").fadeOut(500,function(){t(this).remove()})},5e3),t.fn.datetimepicker.defaults.format="YYYY-MM-DD HH:mm A",t("#datepicker, div.input-group.date").datetimepicker({format:"YYYY-MM-DD"}),t("div.input-group.time").datetimepicker(),t("body").on("focus","div.input-group.date input:text, div.input-group.time input:text",function(){t(this).next(".input-group-addon").click()}),t(document).on("click","#ask",function(){t(this).attr("disabled","disabled")}),t.fn.removeAnimated=function(e){return t(this).fadeOut(e,function(){t(this).remove()}),this},t("body").on("hidden.bs.modal",".modal",function(){var e=t(".modal.in:last","body").data("bs.modal");e&&(e.$body.addClass("modal-open"),e.enforceFocus(),e.handleUpdate())}),t.validator.setDefaults({ignore:"input[type=hidden]",errorPlacement:function(t,e){e.parent().is(".input-group")?t.insertAfter(e.parent()):t.insertAfter(e)}}),t.validator.prototype.checkForm=function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)if(this.findByName(e[t].name).length!=undefined&&this.findByName(e[t].name).length>1)for(var n=0;n<this.findByName(e[t].name).length;n++)this.check(this.findByName(e[t].name)[n]);else this.check(e[t]);return this.valid()},t.fn.select2.defaults.set("width","100%")}),window.init_press_page=function(){var t=$(".left-section ul");$(window).scroll(function(){$(window).scrollTop()>678?t.addClass("fixed"):t.removeClass("fixed")})},window.swap_json_key_value=function(t){var e={};for(var n in t)e[t[n]]=n;return e};