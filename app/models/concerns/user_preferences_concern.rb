module UserPreferencesConcern extend ActiveSupport::Concern
  included do
    # deprecated settings
    store_accessor :meta_info, :height, :ethnicity, :education, :profession,
                   :denomination, :body_type, :by_city, :preferred_attainment,
                   :by_country, :city, :preferred_ethnicity, :preferred_body_type,
                   :preferred_height, :ethnicity_matters, :age_matters, :body_type_matters,
                   :education_matters, :denomination_matters, :suggestion_type, :preferred_education

    # preferences
    store_accessor :meta_info, :continent, :preferred_sex, :preferred_age, :preferred_countries, :preferred_denominations, :preferred_friendship
    
    SEX = {'0' => 'Male', '1' => 'Female'}
    EDUCATION_LEVELS = {high_school: 'High school', college: 'College', university: 'University', post_grad: 'Post-Graduate'}
    ETHNICITIES = {black: 'Black', caucasian: 'Caucasian', asian: 'Asian', mixed: 'Mixed', european: 'European', hispanic: 'Hispanic', pacific_islander: 'Pacific Islander'}
    DENOMINATIONS = {catholic: 'Catholic', protestant: 'Protestant', evangelical: 'Evangelical/Charismatic', baptist: 'Baptist', pentecostal: 'Pentecostal', orthodox: 'Orthodox', anglican: 'Anglican', others: 'Others'}
    PROFESSIONS = {"3d_animator" => "3D animator", "abattoir_worker" => "Abattoir worker", "aboriginal_and_torres_strait_islander_health_worker" => "Aboriginal and Torres Strait Islander health worker", "accountant_(general)" => "Accountant (general)", "accounts_clerk" => "Accounts clerk", "actor" => "Actor", "actuary" => "Actuary", "acupuncturist" => "Acupuncturist", "advertising_specialist" => "Advertising specialist", "aeronautical_engineer" => "Aeronautical engineer", "aeroplane_pilot" => "Aeroplane pilot", "aged_care_worker" => "Aged care worker", "agricultural_consultant" => "Agricultural consultant", "agricultural_engineer" => "Agricultural engineer", "agricultural_scientist" => "Agricultural scientist", "air_combat_officer" => "Air combat officer", "air_force_-_general_entrant" => "Air force - general entrant", "air_force_technician/tradesperson" => "Air force technician/tradesperson", "air_traffic_controller" => "Air traffic controller", "air-conditioning_and_refrigeration_mechanic" => "Air-conditioning and refrigeration mechanic", "aircraft_baggage_handler_and_airline_ground_crew" => "Aircraft baggage handler and airline ground crew", "aircraft_maintenance_engineer_(avionics)" => "Aircraft maintenance engineer (avionics)", "aircraft_maintenance_engineer_(mechanical)" => "Aircraft maintenance engineer (mechanical)", "aircraft_maintenance_engineer_(structural)" => "Aircraft maintenance engineer (structural)", "alarm,_security_or_surveillance_monitor" => "Alarm, security or surveillance monitor", "ambulance_officer" => "Ambulance officer", "anaesthetist" => "Anaesthetist", "animal_attendants_and_trainers" => "Animal attendants and trainers", "aquaculture_farmer" => "Aquaculture farmer", "arborist" => "Arborist", "archaeologist" => "Archaeologist", "architect" => "Architect", "architectural_draftsperson" => "Architectural draftsperson", "archivist" => "Archivist", "army_officer" => "Army officer", "army_soldier_-_technician" => "Army Soldier - Technician", "art_director_(film,_television,_stage)" => "Art director (film, television, stage)", "art_teacher" => "Art teacher", "auctioneer" => "Auctioneer", "audiologist" => "Audiologist", "audiovisual_technician" => "Audiovisual technician", "auditor_(external_and_internal)" => "Auditor (external and internal)", "author" => "Author", "automotive_electrician" => "Automotive electrician", "baker" => "Baker", "bank_worker" => "Bank worker", "bar_attendant" => "Bar attendant", "barista" => "Barista", "barrister" => "Barrister", "beauty_therapist" => "Beauty therapist", "beef_cattle_farmer" => "Beef cattle farmer", "bicycle_mechanic" => "Bicycle mechanic", "binder_and_finisher" => "Binder and finisher", "biomedical_engineer" => "Biomedical engineer", "biosecurity_officer" => "Biosecurity officer", "biotechnologist" => "Biotechnologist", "boat_builder_and_repairer" => "Boat builder and repairer", "body_artist_or_tattooist" => "Body artist or tattooist", "boiler_or_engine_operator" => "Boiler or engine operator", "book_or_script_editor" => "Book or script editor", "bookkeeper" => "Bookkeeper", "bookmaker" => "Bookmaker", "botanist" => "Botanist", "brewer" => "Brewer", "bricklayer" => "Bricklayer", "broadcast_transmitter_operator" => "Broadcast transmitter operator", "builder's_labourer" => "Builder's Labourer", "building_insulation_installer" => "Building insulation installer", "building_surveyor" => "Building surveyor", "bus_driver" => "Bus driver", "business_machine_mechanic" => "Business machine mechanic", "butcher_or_smallgoods_maker" => "Butcher or smallgoods maker", "cabinetmaker" => "Cabinetmaker", "cafe_or_restaurant_manager" => "Cafe or restaurant manager", "call_or_contact_centre_operator" => "Call or contact centre operator", "call_or_contact_centre_team_leader" => "Call or contact centre team leader", "camera_operator_(film,_television_or_video)" => "Camera operator (film, television or video)", "canvas_goods_fabricator" => "Canvas goods fabricator", "car_park_attendant" => "Car park attendant", "cardiologist" => "Cardiologist", "cardiothoracic_surgeon" => "Cardiothoracic surgeon", "careers_counsellor" => "Careers counsellor", "carpenter" => "Carpenter", "cartographer" => "Cartographer", "chef" => "Chef", "chemical_engineer" => "Chemical engineer", "chemist" => "Chemist", "chief_executive_or_managing_director" => "Chief executive or managing director", "child_care_centre_manager" => "Child care centre manager", "child_protection_worker" => "Child protection worker", "chiropractor" => "Chiropractor", "cinema_or_theatre_manager" => "Cinema or theatre manager", "civil_celebrant" => "Civil celebrant", "civil_engineer" => "Civil engineer", "civil_engineering_draftsperson" => "Civil engineering draftsperson", "civil_engineering_technician" => "Civil engineering technician", "clay,_concrete,_glass_or_stone_machine_operator" => "Clay, concrete, glass or stone machine operator", "clinical_haematologist" => "Clinical haematologist", "clinical_psychologist" => "Clinical psychologist", "clothing_production_worker" => "Clothing production worker", "coastal_engineer" => "Coastal engineer", "commercial_cleaner" => "Commercial cleaner", "commercial_housekeeper_(hotel/motel_room_attendant)" => "Commercial housekeeper (hotel/motel room attendant)", "commodities_trader" => "Commodities trader", "communications_operator" => "Communications operator", "community_corrections_officer" => "Community corrections officer", "community_worker" => "Community worker", "computer_engineer" => "Computer engineer", "computer-aided_design_(cad)_technician" => "Computer-aided design (CAD) technician", "concierge" => "Concierge", "concreter" => "Concreter", "confectionery_maker" => "Confectionery maker", "conference_and_event_organiser" => "Conference and event organiser", "conservation_officer" => "Conservation Officer", "conservator" => "Conservator", "construction_estimator" => "Construction estimator", "construction_project_manager" => "Construction project manager", "construction_rigger" => "Construction rigger", "contract_administrator" => "Contract Administrator", "cook" => "Cook", "copywriter" => "Copywriter", "corporate_general_manager" => "Corporate general manager", "counsellor" => "Counsellor", "court_bailiff_or_sheriff_(aus)" => "Court bailiff or sheriff (Aus)", "coxswain" => "Coxswain", "crane_chaser_(dogger)" => "Crane chaser (dogger)", "crane,_hoist_or_lift_operator" => "Crane, hoist or lift operator", "customer_service_manager" => "Customer service manager", "customs_officer_(border_force_officer)" => "Customs officer (Border Force officer)", "dairy_cattle_farmer" => "Dairy cattle farmer", "dancer_or_choreographer" => "Dancer or choreographer", "debt_collector" => "Debt collector", "deck_hand" => "Deck hand", "delivery_driver" => "Delivery driver", "dental_assistant" => "Dental assistant", "dental_hygienist" => "Dental hygienist", "dental_specialist" => "Dental specialist", "dental_technician" => "Dental technician", "dental_therapist" => "Dental therapist", "dentist" => "Dentist", "dermatologist" => "Dermatologist", "developer_programmer" => "Developer programmer", "diesel_motor_mechanic" => "Diesel motor mechanic", "dietitian" => "Dietitian", "director_(film,_television,_radio_or_stage)" => "Director (film, television, radio or stage)", "disability_services_officer" => "Disability services officer", "disability_worker" => "Disability worker", "diver" => "Diver", "diversional_therapist" => "Diversional therapist", "dog_handler_or_trainer" => "Dog handler or trainer", "domestic_cleaner" => "Domestic cleaner", "doorperson_or_luggage_porter" => "Doorperson or luggage porter", "driller" => "Driller", "drilling_engineer" => "Drilling engineer", "driving_instructor" => "Driving instructor", "drug_and_alcohol_counsellor" => "Drug and alcohol counsellor", "drycleaner" => "Drycleaner", "early_childhood_(pre-primary_school)_teacher" => "Early childhood (pre-primary school) teacher", "early_childhood_educator_" => "Early childhood educator ", "earth_science_technician" => "Earth science technician", "earthmoving_plant_operator" => "Earthmoving plant operator", "economist" => "Economist", "electorate_officer" => "Electorate officer", "electrical_engineer" => "Electrical engineer", "electrical_engineering_draftsperson" => "Electrical engineering draftsperson", "electrical_engineering_technician" => "Electrical engineering technician", "electrical_linesworker_(aus)" => "Electrical linesworker (Aus)", "electrician_(general)" => "Electrician (general)", "electronic_engineering_technician" => "Electronic engineering technician", "electronic_equipment_trades_worker" => "Electronic equipment trades worker", "electronic_instrument_trades_worker_(general)" => "Electronic instrument trades worker (general)", "electronics_engineer" => "Electronics engineer", "electroplater" => "Electroplater", "embalmer" => "Embalmer", "emergency_medicine_specialist" => "Emergency medicine specialist", "endocrinologist" => "Endocrinologist", "engineering_patternmaker" => "Engineering patternmaker", "engraver" => "Engraver", "enrolled_nurse" => "Enrolled nurse", "entertainer_or_variety_artist" => "Entertainer or variety artist", "entrepreneur" => "Entrepreneur", "environmental_consultant" => "Environmental consultant", "environmental_engineer" => "Environmental engineer", "environmental_health_officer" => "Environmental health officer", "environmental_manager" => "Environmental manager", "environmental_research_scientist" => "Environmental research scientist", "exercise_scientist" => "Exercise scientist", "facilities_manager" => "Facilities manager", "farm_manager" => "Farm manager", "fashion_designer" => "Fashion designer", "fast_food_cook" => "Fast food cook", "film_and_video_producer" => "Film and video producer", "finance_broker" => "Finance broker", "financial_institution_branch_manager" => "Financial institution branch manager", "financial_investment_adviser" => "Financial investment adviser", "financial_investment_manager" => "Financial investment manager", "fire_fighter" => "Fire fighter", "fisheries_officer" => "Fisheries officer", "fishing_hand" => "Fishing hand", "fitness_instructor" => "Fitness instructor", "flight_attendant" => "Flight attendant", "floor_finisher" => "Floor finisher", "florist" => "Florist", "flying_instructor" => "Flying instructor", "food_processing_worker" => "Food processing worker", "food_technologist" => "Food technologist", "forensic_scientist" => "Forensic scientist", "forester_(aus)" => "Forester (Aus)", "forklift_driver" => "Forklift driver", "fruit_and_vegetable_picker" => "Fruit and vegetable picker", "funeral_director" => "Funeral director", "furniture_finisher" => "Furniture finisher", "furniture_removalist" => "Furniture removalist", "gallery_or_museum_curator" => "Gallery or museum curator", "gallery_or_museum_guide" => "Gallery or museum guide", "gallery_or_museum_technician" => "Gallery or museum technician", "game_developer" => "Game developer", "gaming_worker" => "Gaming worker", "gardener_(general)" => "Gardener (general)", "gasfitter" => "Gasfitter", "gastroenterologist" => "Gastroenterologist", "general_clerk" => "General clerk", "general_medical_practitioner" => "General medical practitioner", "geologist" => "Geologist", "geophysicist" => "Geophysicist", "geotechnical_engineer" => "Geotechnical engineer", "glazier" => "Glazier", "goldsmith" => "Goldsmith", "grain_oilseed_or_pasture_grower" => "Grain oilseed or pasture grower", "grape_grower" => "Grape grower", "graphic_designer" => "Graphic designer", "graphic_pre-press_trades_worker" => "Graphic pre-press trades worker", "greenkeeper" => "Greenkeeper", "gunsmith" => "Gunsmith", "gynaecologist" => "Gynaecologist", "hairdresser" => "Hairdresser", "handyperson" => "Handyperson", "health_information_manager" => "Health information manager", "health_promotion_officer" => "Health promotion officer", "helicopter_pilot" => "Helicopter pilot", "historian" => "Historian", "horse_trainer" => "Horse trainer", "hospital_pharmacist" => "Hospital pharmacist", "hotel_or_motel_manager" => "Hotel or motel manager", "human_resource_adviser" => "Human resource adviser", "human_resource_manager" => "Human resource manager", "hydrologist" => "Hydrologist", "ict_business_analyst" => "ICT business analyst", "ict_project_manager" => "ICT project manager", "ict_security_specialist" => "ICT security specialist", "ict_support_technician" => "ICT support technician", "ict_systems_test_engineer" => "ICT systems test engineer", "immigration_officer_(border_force_officer)" => "Immigration officer (Border Force officer)", "industrial_designer" => "Industrial designer", "industrial_engineer" => "Industrial engineer", "industrial_pharmacist" => "Industrial pharmacist", "information_technology_administrator" => "Information technology administrator", "insurance_agent" => "Insurance agent", "insurance_broker" => "Insurance broker", "intelligence_officer" => "Intelligence officer", "intensive_care_specialist" => "Intensive care specialist", "interior_designer" => "Interior designer", "interpreter" => "Interpreter", "jackeroo/jillaroo" => "Jackeroo/Jillaroo", "jewellery_designer" => "Jewellery designer", "jockey" => "Jockey", "joiner" => "Joiner", "journalist" => "Journalist", "judge" => "Judge", "kitchenhand" => "Kitchenhand", "laboratory_manager" => "Laboratory manager", "laboratory_technician" => "Laboratory technician", "landscape_architect" => "Landscape architect", "landscape_gardener" => "Landscape gardener", "laundry_worker_(general)" => "Laundry worker (general)", "law_clerk" => "Law clerk", "legal_secretary" => "Legal secretary", "librarian" => "Librarian", "library_assistant" => "Library assistant", "library_technician" => "Library technician", "lifeguard" => "Lifeguard", "light_technician" => "Light technician", "locksmith" => "Locksmith", "logistics_clerk" => "Logistics clerk", "machine_shorthand_reporter" => "Machine shorthand reporter", "maintenance_planner" => "Maintenance planner", "make_up_artist" => "Make up artist", "marine_biologist" => "Marine biologist", "marine_fabricator" => "Marine fabricator", "marine_surveyor" => "Marine surveyor", "market_research_analyst" => "Market research analyst", "marketing_specialist" => "Marketing specialist", "massage_therapist" => "Massage therapist", "master_fisher" => "Master fisher", "materials_engineer" => "Materials engineer", "materials_recycler" => "Materials recycler", "materials_technician" => "Materials technician", "mathematician" => "Mathematician", "meat_inspector" => "Meat inspector", "mechanical_engineer" => "Mechanical engineer", "mechanical_engineering_draftsperson" => "Mechanical engineering draftsperson", "mechanical_engineering_technician" => "Mechanical engineering technician", "mechanical_fitter" => "Mechanical fitter", "mechatronic_engineer" => "Mechatronic engineer", "medical_administrator" => "Medical administrator", "medical_diagnostic_radiographer" => "Medical diagnostic radiographer", "medical_laboratory_scientist" => "Medical laboratory scientist", "medical_oncologist" => "Medical oncologist", "medical_radiation_therapist" => "Medical radiation therapist", "member_of_parliament" => "Member of parliament", "mental_health_worker" => "Mental health worker", "metal_engineering_process_worker" => "Metal engineering process worker", "metal_fabricator" => "Metal fabricator", "metal_machinist_(first_class)" => "Metal machinist (first class)", "metallurgist" => "Metallurgist", "meteorologist" => "Meteorologist", "meter_reader" => "Meter reader", "microbiologist" => "Microbiologist", "midwife" => "Midwife", "migration_agent_(aus)" => "Migration agent (Aus)", "milliner" => "Milliner", "miner" => "Miner", "mining_engineer_(excluding_petroleum)" => "Mining engineer (excluding petroleum)", "mining_production_manager" => "Mining production manager", "mining_support_worker" => "Mining support worker", "minister_of_religion" => "Minister of religion", "mixed_crop_and_livestock_farm_worker" => "Mixed crop and livestock farm worker", "model" => "Model", "mortgage_broker" => "Mortgage broker", "motion_picture_projectionist" => "Motion picture projectionist", "motor_mechanic_(general)" => "Motor mechanic (general)", "motorcycle_mechanic" => "Motorcycle mechanic", "multimedia_specialist" => "Multimedia specialist", "music_teacher_(private_tuition)" => "Music teacher (private tuition)", "musician_(instrumental)" => "Musician (instrumental)", "nanny" => "Nanny", "naturopath" => "Naturopath", "naval_architect" => "Naval architect", "navy_sailor" => "Navy sailor", "navy_technician" => "Navy technician", "network_administrator" => "Network administrator", "network_engineer" => "Network engineer", "neurologist" => "Neurologist", "neurosurgeon" => "Neurosurgeon", "nuclear_medicine_technologist" => "Nuclear medicine technologist", "nurse_educator" => "Nurse educator", "nurse_manager" => "Nurse manager", "nurse_practitioner" => "Nurse practitioner", "nurseryperson" => "Nurseryperson", "nursing_clinical_director" => "Nursing clinical director", "nursing_support_worker" => "Nursing support worker", "nutritionist" => "Nutritionist", "obstetrician" => "Obstetrician", "occupational_health_and_safety_adviser" => "Occupational health and safety adviser", "occupational_therapist" => "Occupational therapist", "office_manager" => "Office manager", "offset_printer" => "Offset printer", "ophthalmologist" => "Ophthalmologist", "optical_mechanic" => "Optical mechanic", "optometrist" => "Optometrist", "orthopaedic_surgeon" => "Orthopaedic surgeon", "orthoptist" => "Orthoptist", "orthotist_or_prosthetist" => "Orthotist or prosthetist", "osteopath" => "Osteopath", "otorhinolaryngologist" => "Otorhinolaryngologist", "outdoor_adventure_instructor_" => "Outdoor adventure instructor ", "paediatric_surgeon" => "Paediatric surgeon", "paediatrician" => "Paediatrician", "painting_trades_worker" => "Painting trades worker", "panelbeater" => "Panelbeater", "park_ranger" => "Park ranger", "parking_inspector" => "Parking inspector", "pastrycook" => "Pastrycook", "pathologist" => "Pathologist", "patient_care_assistant" => "Patient care assistant", "payroll_clerk" => "Payroll clerk", "personal_assistant" => "Personal assistant", "pest_controller" => "Pest controller", "pet_groomer" => "Pet groomer", "petroleum_engineer" => "Petroleum engineer", "petrophysicist" => "Petrophysicist", "pharmacist" => "Pharmacist", "pharmacologist" => "Pharmacologist", "pharmacy_technician" => "Pharmacy technician", "photographer" => "Photographer", "photographer's_assistant" => "Photographer's assistant", "physical_education_(pe)_teacher" => "Physical education (PE) teacher", "physicist" => "Physicist", "physiotherapist" => "Physiotherapist", "picture_framer" => "Picture framer", "plant_mechanic" => "Plant mechanic", "plastic_and_reconstructive_surgeon" => "Plastic and reconstructive surgeon", "plastics_technician" => "Plastics technician", "plumber_(general)" => "Plumber (general)", "podiatrist" => "Podiatrist", "police_officer" => "Police officer", "policy_analyst" => "Policy analyst", "political_scientist" => "Political scientist", "polymer_factory_worker" => "Polymer factory worker", "postal_delivery_officer" => "Postal delivery officer", "powder_coater_(spray_painter)" => "Powder coater (spray painter)", "power_generation_plant_operator" => "Power generation plant operator", "precision_instrument_maker_and_repairer" => "Precision instrument maker and repairer", "primary_school_teacher" => "Primary school teacher", "printing_machinist" => "Printing machinist", "prison_officer" => "Prison officer", "private_investigator" => "Private investigator", "process_engineer" => "Process engineer", "process_plant_operator" => "Process plant operator", "product_examiner" => "Product examiner", "production_manager_(manufacturing)" => "Production manager (manufacturing)", "production_or_plant_engineer" => "Production or plant engineer", "project_builder" => "Project builder", "project_or_program_administrator" => "Project or program administrator", "prop_and_scenery_maker" => "Prop and scenery maker", "property_developer" => "Property developer", "property_manager" => "Property manager", "psychiatrist" => "Psychiatrist", "psychologist" => "Psychologist", "public_relations_professional" => "Public relations professional", "publisher" => "Publisher", "quantity_surveyor" => "Quantity Surveyor", "radiation_oncologist" => "Radiation oncologist", "radio_presenter" => "Radio presenter", "radio_producer" => "Radio producer", "radiologist" => "Radiologist", "railway_track_worker" => "Railway track worker", "real_estate_representative" => "Real estate representative", "receptionist_(general)" => "Receptionist (general)", "records_manager" => "Records manager", "recreation_officer_(aus)" => "Recreation officer (Aus)", "recruitment_consultant" => "Recruitment consultant", "recycling_or_rubbish_collector" => "Recycling or rubbish collector", "registered_nurse_(community_health)" => "Registered nurse (community health)", "registered_nurse_(mental_health)" => "Registered nurse (mental health)", "registered_nurse_(overview)" => "Registered nurse (overview)", "renal_medicine_specialist" => "Renal medicine specialist", "resident_medical_officer" => "Resident medical officer", "retail_buyer" => "Retail buyer", "retail_manager_(general)" => "Retail manager (general)", "retirement_village_manager" => "Retirement village manager", "rheumatologist" => "Rheumatologist", "road_worker" => "Road worker", "roof_plumber" => "Roof plumber", "roof_tiler" => "Roof tiler", "safety_inspector" => "Safety inspector", "sales_and_marketing_manager" => "Sales and marketing manager", "sales_assistant_(general)" => "Sales assistant (general)", "sales_representative" => "Sales representative", "saw_maker_and_repairer" => "Saw maker and repairer", "sawmill_or_timber_yard_worker" => "Sawmill or timber yard worker", "scaffolder" => "Scaffolder", "school_principal" => "School principal", "screen_printer" => "Screen printer", "seafood_process_worker" => "Seafood process worker", "secondary_school_teacher" => "Secondary school teacher", "security_officer" => "Security officer", "security_systems_installer" => "Security systems installer", "set_designer" => "Set designer", "settlement_agent" => "Settlement agent", "shearer" => "Shearer", "sheep_farmer" => "Sheep farmer", "sheetmetal_trades_worker" => "Sheetmetal trades worker", "shelf_filler" => "Shelf filler", "ship's_engineer" => "Ship's engineer", "ship's_master" => "Ship's master", "ship's_officer" => "Ship's officer", "shoe_repairer" => "Shoe repairer", "shotfirer" => "Shotfirer", "signwriter" => "Signwriter", "silversmith" => "Silversmith", "social_worker" => "Social worker", "soil_scientist" => "Soil scientist", "soldier" => "Soldier", "solicitor" => "Solicitor", "solid_plasterer" => "Solid plasterer", "sonographer" => "Sonographer", "sound_technician" => "Sound technician", "special_needs_teacher" => "Special needs teacher", "speech_pathologist_(aus)" => "Speech pathologist (Aus)", "sports_administrator" => "Sports administrator", "sports_coach_or_instructor" => "Sports coach or instructor", "sports_development_officer" => "Sports development officer", "sportsperson" => "Sportsperson", "statistician" => "Statistician", "steel_fixer" => "Steel fixer", "stockbroking_dealer" => "Stockbroking dealer", "stonemason" => "Stonemason", "storeperson" => "Storeperson", "streetsweeper_operator" => "Streetsweeper operator", "structural_engineer" => "Structural engineer", "stunt_performer" => "Stunt performer", "supply_and_distribution_manager" => "Supply and distribution manager", "surgeon_(general)" => "Surgeon (general)", "surveyor" => "Surveyor", "surveyor's_assistant" => "Surveyor's assistant", "systems_administrator" => "Systems administrator", "systems_analyst" => "Systems analyst", "talent_agent" => "Talent agent", "taxi_driver" => "Taxi driver", "teacher_of_the_hearing_impaired" => "Teacher of the hearing impaired", "teacher_of_the_sight_impaired" => "Teacher of the sight impaired", "teachers'_aide" => "Teachers' aide", "technical_cable_jointer" => "Technical cable jointer", "telecommunications_engineer" => "Telecommunications engineer", "textile_production_worker" => "Textile production worker", "textile,_clothing_and_footwear_mechanic" => "Textile, clothing and footwear mechanic", "thoracic_medicine_specialist" => "Thoracic medicine specialist", "ticket_collector_or_usher" => "Ticket collector or usher", "tool_pusher" => "Tool pusher", "tour_guide" => "Tour guide", "tourist_information_officer" => "Tourist information officer", "trade_union_official" => "Trade union official", "train_controller" => "Train controller", "train_driver" => "Train driver", "training_and_development_professional" => "Training and development professional", "transit_officer" => "Transit officer", "translator" => "Translator", "transport_company_manager" => "Transport company manager", "transport_engineer" => "Transport engineer", "travel_consultant" => "Travel consultant", "tree_faller" => "Tree faller", "truck_driver_(general)" => "Truck driver (general)", "turf_grower" => "Turf grower", "tyre_fitter" => "Tyre fitter", "university_lecturer" => "University lecturer", "upholsterer" => "Upholsterer", "urban_and_regional_planner" => "Urban and regional planner", "urologist" => "Urologist", "valuer" => "Valuer", "vascular_surgeon" => "Vascular surgeon", "vehicle_body_builder" => "Vehicle body builder", "veterinarian" => "Veterinarian", "veterinary_nurse" => "Veterinary nurse", "video_editor" => "Video editor", "vineyard_worker" => "Vineyard worker", "visual_arts_and_crafts_professional" => "Visual arts and crafts professional", "visual_merchandiser" => "Visual merchandiser", "vocational_education_and_training_(vet)_lecturer" => "Vocational Education and Training (VET) lecturer", "waiter" => "Waiter", "wall_and_ceiling_fixer" => "Wall and ceiling fixer", "wall_and_floor_tiler" => "Wall and floor tiler", "warehouse_administrator" => "Warehouse administrator", "waste_water_or_water_plant_operator" => "Waste water or water plant operator", "watch_and_clock_maker_and_repairer" => "Watch and clock maker and repairer", "water_inspector" => "Water inspector", "waterside_worker" => "Waterside worker", "web_designer" => "Web designer", "weight_loss_consultant" => "Weight loss consultant", "welder_(first_class)_(aus)" => "Welder (first class) (Aus)", "welfare_centre_manager" => "Welfare centre manager", "welfare_worker_" => "Welfare worker ", "wine_maker" => "Wine maker", "wood_machinist" => "Wood machinist", "wood_turner" => "Wood turner", "wool_classer" => "Wool classer", "youth_worker" => "Youth worker", "zoologist" => "Zoologist", "there_are_no_matching_occupations." => "There are no matching occupations."}
    INTERESTS = {friendship: 'Friendships', marriage: 'Relationships/Marriage'}

    PREFERENCES_ATTRS = [:preferred_age, :preferred_sex, :preferred_friendship, preferred_countries: [], preferred_denominations: []] #preferred_age: '10,20', all => ''
    INFORMATION_ATTRS = [:city, :education, :ethnicity, :profession, :denomination]
    
    before_save :verify_preferred_age
    after_save :send_update_settings_notification
  end

  # return the profession for current user
  def the_profession
    self.class::PROFESSIONS[profession] || '-'
  end

  def the_city
    city.presence || '-'
  end

  def the_education
    self.class::EDUCATION_LEVELS[education.to_s.to_sym] || '-'
  end

  def the_ethnicity
    self.class::ETHNICITIES[ethnicity.to_s.to_sym] || '-'
  end

  def the_denomination
    self.class::DENOMINATIONS[denomination.to_s.to_sym] || '-'
  end
  
  # return the public settings for current user
  def public_settings
    {is_anonymity: is_anonymity?, chat_invisibility: chat_invisibility, notification_sound: notification_sound}
  end
  
  private
  def verify_preferred_age
    self.preferred_age = '' if preferred_age == '0,100'
  end

  def send_update_settings_notification(force = false)
    PubSub::Publisher.new.publish_for([self], 'update_settings', {source: public_settings}, {foreground: true}) if chat_invisibility_changed? || notification_sound_changed? || force
  end
end